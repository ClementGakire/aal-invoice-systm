var lm=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var c0=lm(ie=>{function am(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in e)){const a=Object.getOwnPropertyDescriptor(s,l);a&&Object.defineProperty(e,l,a.get?a:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(l){if(l.ep)return;l.ep=!0;const a=n(l);fetch(l.href,a)}})();function im(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sc={exports:{}},Xs={},Cc={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Or=Symbol.for("react.element"),om=Symbol.for("react.portal"),cm=Symbol.for("react.fragment"),um=Symbol.for("react.strict_mode"),dm=Symbol.for("react.profiler"),mm=Symbol.for("react.provider"),fm=Symbol.for("react.context"),pm=Symbol.for("react.forward_ref"),hm=Symbol.for("react.suspense"),xm=Symbol.for("react.memo"),gm=Symbol.for("react.lazy"),Qi=Symbol.iterator;function ym(e){return e===null||typeof e!="object"?null:(e=Qi&&e[Qi]||e["@@iterator"],typeof e=="function"?e:null)}var Ec={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ic=Object.assign,Lc={};function $n(e,t,n){this.props=e,this.context=t,this.refs=Lc,this.updater=n||Ec}$n.prototype.isReactComponent={};$n.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$n.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ac(){}Ac.prototype=$n.prototype;function Ha(e,t,n){this.props=e,this.context=t,this.refs=Lc,this.updater=n||Ec}var Ja=Ha.prototype=new Ac;Ja.constructor=Ha;Ic(Ja,$n.prototype);Ja.isPureReactComponent=!0;var Ki=Array.isArray,Pc=Object.prototype.hasOwnProperty,Va={current:null},Tc={key:!0,ref:!0,__self:!0,__source:!0};function Rc(e,t,n){var s,l={},a=null,i=null;if(t!=null)for(s in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)Pc.call(t,s)&&!Tc.hasOwnProperty(s)&&(l[s]=t[s]);var o=arguments.length-2;if(o===1)l.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];l.children=c}if(e&&e.defaultProps)for(s in o=e.defaultProps,o)l[s]===void 0&&(l[s]=o[s]);return{$$typeof:Or,type:e,key:a,ref:i,props:l,_owner:Va.current}}function vm(e,t){return{$$typeof:Or,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ga(e){return typeof e=="object"&&e!==null&&e.$$typeof===Or}function jm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Yi=/\/+/g;function gl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jm(""+e.key):t.toString(36)}function ms(e,t,n,s,l){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Or:case om:i=!0}}if(i)return i=e,l=l(i),e=s===""?"."+gl(i,0):s,Ki(l)?(n="",e!=null&&(n=e.replace(Yi,"$&/")+"/"),ms(l,t,n,"",function(u){return u})):l!=null&&(Ga(l)&&(l=vm(l,n+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(Yi,"$&/")+"/")+e)),t.push(l)),1;if(i=0,s=s===""?".":s+":",Ki(e))for(var o=0;o<e.length;o++){a=e[o];var c=s+gl(a,o);i+=ms(a,t,n,c,l)}else if(c=ym(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=s+gl(a,o++),i+=ms(a,t,n,c,l);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Gr(e,t,n){if(e==null)return e;var s=[],l=0;return ms(e,s,"","",function(a){return t.call(n,a,l++)}),s}function bm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ke={current:null},fs={transition:null},Nm={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:fs,ReactCurrentOwner:Va};z.Children={map:Gr,forEach:function(e,t,n){Gr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Gr(e,function(){t++}),t},toArray:function(e){return Gr(e,function(t){return t})||[]},only:function(e){if(!Ga(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};z.Component=$n;z.Fragment=cm;z.Profiler=dm;z.PureComponent=Ha;z.StrictMode=um;z.Suspense=hm;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nm;z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Ic({},e.props),l=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Va.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Pc.call(t,c)&&!Tc.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];s.children=o}return{$$typeof:Or,type:e.type,key:l,ref:a,props:s,_owner:i}};z.createContext=function(e){return e={$$typeof:fm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mm,_context:e},e.Consumer=e};z.createElement=Rc;z.createFactory=function(e){var t=Rc.bind(null,e);return t.type=e,t};z.createRef=function(){return{current:null}};z.forwardRef=function(e){return{$$typeof:pm,render:e}};z.isValidElement=Ga;z.lazy=function(e){return{$$typeof:gm,_payload:{_status:-1,_result:e},_init:bm}};z.memo=function(e,t){return{$$typeof:xm,type:e,compare:t===void 0?null:t}};z.startTransition=function(e){var t=fs.transition;fs.transition={};try{e()}finally{fs.transition=t}};z.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};z.useCallback=function(e,t){return ke.current.useCallback(e,t)};z.useContext=function(e){return ke.current.useContext(e)};z.useDebugValue=function(){};z.useDeferredValue=function(e){return ke.current.useDeferredValue(e)};z.useEffect=function(e,t){return ke.current.useEffect(e,t)};z.useId=function(){return ke.current.useId()};z.useImperativeHandle=function(e,t,n){return ke.current.useImperativeHandle(e,t,n)};z.useInsertionEffect=function(e,t){return ke.current.useInsertionEffect(e,t)};z.useLayoutEffect=function(e,t){return ke.current.useLayoutEffect(e,t)};z.useMemo=function(e,t){return ke.current.useMemo(e,t)};z.useReducer=function(e,t,n){return ke.current.useReducer(e,t,n)};z.useRef=function(e){return ke.current.useRef(e)};z.useState=function(e){return ke.current.useState(e)};z.useSyncExternalStore=function(e,t,n){return ke.current.useSyncExternalStore(e,t,n)};z.useTransition=function(){return ke.current.useTransition()};z.version="18.2.0";Cc.exports=z;var y=Cc.exports;const qs=im(y),wm=am({__proto__:null,default:qs},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km=y,Sm=Symbol.for("react.element"),Cm=Symbol.for("react.fragment"),Em=Object.prototype.hasOwnProperty,Im=km.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lm={key:!0,ref:!0,__self:!0,__source:!0};function Dc(e,t,n){var s,l={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)Em.call(t,s)&&!Lm.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)l[s]===void 0&&(l[s]=t[s]);return{$$typeof:Sm,type:e,key:a,ref:i,props:l,_owner:Im.current}}Xs.Fragment=Cm;Xs.jsx=Dc;Xs.jsxs=Dc;Sc.exports=Xs;var r=Sc.exports,Fc={exports:{}},Oe={},_c={exports:{}},Oc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,D){var _=L.length;L.push(D);e:for(;0<_;){var Q=_-1>>>1,ee=L[Q];if(0<l(ee,D))L[Q]=D,L[_]=ee,_=Q;else break e}}function n(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var D=L[0],_=L.pop();if(_!==D){L[0]=_;e:for(var Q=0,ee=L.length,Jt=ee>>>1;Q<Jt;){var Vt=2*(Q+1)-1,xl=L[Vt],Gt=Vt+1,Vr=L[Gt];if(0>l(xl,_))Gt<ee&&0>l(Vr,xl)?(L[Q]=Vr,L[Gt]=_,Q=Gt):(L[Q]=xl,L[Vt]=_,Q=Vt);else if(Gt<ee&&0>l(Vr,_))L[Q]=Vr,L[Gt]=_,Q=Gt;else break e}}return D}function l(L,D){var _=L.sortIndex-D.sortIndex;return _!==0?_:L.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],u=[],m=1,p=null,f=3,g=!1,j=!1,x=!1,N=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(L){for(var D=n(u);D!==null;){if(D.callback===null)s(u);else if(D.startTime<=L)s(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=n(u)}}function b(L){if(x=!1,v(L),!j)if(n(c)!==null)j=!0,ye(k);else{var D=n(u);D!==null&&ve(b,D.startTime-L)}}function k(L,D){j=!1,x&&(x=!1,d(w),w=-1),g=!0;var _=f;try{for(v(D),p=n(c);p!==null&&(!(p.expirationTime>D)||L&&!F());){var Q=p.callback;if(typeof Q=="function"){p.callback=null,f=p.priorityLevel;var ee=Q(p.expirationTime<=D);D=e.unstable_now(),typeof ee=="function"?p.callback=ee:p===n(c)&&s(c),v(D)}else s(c);p=n(c)}if(p!==null)var Jt=!0;else{var Vt=n(u);Vt!==null&&ve(b,Vt.startTime-D),Jt=!1}return Jt}finally{p=null,f=_,g=!1}}var C=!1,S=null,w=-1,I=5,T=-1;function F(){return!(e.unstable_now()-T<I)}function W(){if(S!==null){var L=e.unstable_now();T=L;var D=!0;try{D=S(!0,L)}finally{D?A():(C=!1,S=null)}}else C=!1}var A;if(typeof h=="function")A=function(){h(W)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ve=R.port2;R.port1.onmessage=W,A=function(){Ve.postMessage(null)}}else A=function(){N(W,0)};function ye(L){S=L,C||(C=!0,A())}function ve(L,D){w=N(function(){L(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){j||g||(j=!0,ye(k))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(L){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var _=f;f=D;try{return L()}finally{f=_}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,D){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var _=f;f=L;try{return D()}finally{f=_}},e.unstable_scheduleCallback=function(L,D,_){var Q=e.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?Q+_:Q):_=Q,L){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=_+ee,L={id:m++,callback:D,priorityLevel:L,startTime:_,expirationTime:ee,sortIndex:-1},_>Q?(L.sortIndex=_,t(u,L),n(c)===null&&L===n(u)&&(x?(d(w),w=-1):x=!0,ve(b,_-Q))):(L.sortIndex=ee,t(c,L),j||g||(j=!0,ye(k))),L},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(L){var D=f;return function(){var _=f;f=D;try{return L.apply(this,arguments)}finally{f=_}}}})(Oc);_c.exports=Oc;var Am=_c.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mc=y,_e=Am;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Uc=new Set,yr={};function an(e,t){Tn(e,t),Tn(e+"Capture",t)}function Tn(e,t){for(yr[e]=t,e=0;e<t.length;e++)Uc.add(t[e])}var ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vl=Object.prototype.hasOwnProperty,Pm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xi={},qi={};function Tm(e){return Vl.call(qi,e)?!0:Vl.call(Xi,e)?!1:Pm.test(e)?qi[e]=!0:(Xi[e]=!0,!1)}function Rm(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Dm(e,t,n,s){if(t===null||typeof t>"u"||Rm(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Se(e,t,n,s,l,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){me[e]=new Se(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];me[t]=new Se(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){me[e]=new Se(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){me[e]=new Se(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){me[e]=new Se(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){me[e]=new Se(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){me[e]=new Se(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){me[e]=new Se(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){me[e]=new Se(e,5,!1,e.toLowerCase(),null,!1,!1)});var Qa=/[\-:]([a-z])/g;function Ka(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Qa,Ka);me[t]=new Se(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Qa,Ka);me[t]=new Se(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Qa,Ka);me[t]=new Se(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){me[e]=new Se(e,1,!1,e.toLowerCase(),null,!1,!1)});me.xlinkHref=new Se("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){me[e]=new Se(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ya(e,t,n,s){var l=me.hasOwnProperty(t)?me[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Dm(t,n,l,s)&&(n=null),s||l===null?Tm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,s=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var vt=Mc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qr=Symbol.for("react.element"),pn=Symbol.for("react.portal"),hn=Symbol.for("react.fragment"),Xa=Symbol.for("react.strict_mode"),Gl=Symbol.for("react.profiler"),zc=Symbol.for("react.provider"),$c=Symbol.for("react.context"),qa=Symbol.for("react.forward_ref"),Ql=Symbol.for("react.suspense"),Kl=Symbol.for("react.suspense_list"),Za=Symbol.for("react.memo"),Nt=Symbol.for("react.lazy"),Bc=Symbol.for("react.offscreen"),Zi=Symbol.iterator;function Xn(e){return e===null||typeof e!="object"?null:(e=Zi&&e[Zi]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,yl;function lr(e){if(yl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);yl=t&&t[1]||""}return`
`+yl+e}var vl=!1;function jl(e,t){if(!e||vl)return"";vl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),a=s.stack.split(`
`),i=l.length-1,o=a.length-1;1<=i&&0<=o&&l[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(l[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||l[i]!==a[o]){var c=`
`+l[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{vl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?lr(e):""}function Fm(e){switch(e.tag){case 5:return lr(e.type);case 16:return lr("Lazy");case 13:return lr("Suspense");case 19:return lr("SuspenseList");case 0:case 2:case 15:return e=jl(e.type,!1),e;case 11:return e=jl(e.type.render,!1),e;case 1:return e=jl(e.type,!0),e;default:return""}}function Yl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hn:return"Fragment";case pn:return"Portal";case Gl:return"Profiler";case Xa:return"StrictMode";case Ql:return"Suspense";case Kl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $c:return(e.displayName||"Context")+".Consumer";case zc:return(e._context.displayName||"Context")+".Provider";case qa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Za:return t=e.displayName||null,t!==null?t:Yl(e.type)||"Memo";case Nt:t=e._payload,e=e._init;try{return Yl(e(t))}catch{}}return null}function _m(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yl(t);case 8:return t===Xa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Mt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Om(e){var t=Wc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){s=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Kr(e){e._valueTracker||(e._valueTracker=Om(e))}function Hc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Wc(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function ks(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xl(e,t){var n=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function eo(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Mt(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Jc(e,t){t=t.checked,t!=null&&Ya(e,"checked",t,!1)}function ql(e,t){Jc(e,t);var n=Mt(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Zl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Zl(e,t.type,Mt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function to(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Zl(e,t,n){(t!=="number"||ks(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ar=Array.isArray;function Cn(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Mt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function ea(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function no(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(E(92));if(ar(n)){if(1<n.length)throw Error(E(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Mt(n)}}function Vc(e,t){var n=Mt(t.value),s=Mt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function ro(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Gc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ta(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Gc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yr,Qc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yr=Yr||document.createElement("div"),Yr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var cr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mm=["Webkit","ms","Moz","O"];Object.keys(cr).forEach(function(e){Mm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cr[t]=cr[e]})});function Kc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||cr.hasOwnProperty(e)&&cr[e]?(""+t).trim():t+"px"}function Yc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,l=Kc(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,l):e[n]=l}}var Um=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function na(e,t){if(t){if(Um[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function ra(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sa=null;function ei(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var la=null,En=null,In=null;function so(e){if(e=zr(e)){if(typeof la!="function")throw Error(E(280));var t=e.stateNode;t&&(t=rl(t),la(e.stateNode,e.type,t))}}function Xc(e){En?In?In.push(e):In=[e]:En=e}function qc(){if(En){var e=En,t=In;if(In=En=null,so(e),t)for(e=0;e<t.length;e++)so(t[e])}}function Zc(e,t){return e(t)}function eu(){}var bl=!1;function tu(e,t,n){if(bl)return e(t,n);bl=!0;try{return Zc(e,t,n)}finally{bl=!1,(En!==null||In!==null)&&(eu(),qc())}}function jr(e,t){var n=e.stateNode;if(n===null)return null;var s=rl(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(E(231,t,typeof n));return n}var aa=!1;if(ht)try{var qn={};Object.defineProperty(qn,"passive",{get:function(){aa=!0}}),window.addEventListener("test",qn,qn),window.removeEventListener("test",qn,qn)}catch{aa=!1}function zm(e,t,n,s,l,a,i,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(m){this.onError(m)}}var ur=!1,Ss=null,Cs=!1,ia=null,$m={onError:function(e){ur=!0,Ss=e}};function Bm(e,t,n,s,l,a,i,o,c){ur=!1,Ss=null,zm.apply($m,arguments)}function Wm(e,t,n,s,l,a,i,o,c){if(Bm.apply(this,arguments),ur){if(ur){var u=Ss;ur=!1,Ss=null}else throw Error(E(198));Cs||(Cs=!0,ia=u)}}function on(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function nu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lo(e){if(on(e)!==e)throw Error(E(188))}function Hm(e){var t=e.alternate;if(!t){if(t=on(e),t===null)throw Error(E(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var a=l.alternate;if(a===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return lo(l),e;if(a===s)return lo(l),t;a=a.sibling}throw Error(E(188))}if(n.return!==s.return)n=l,s=a;else{for(var i=!1,o=l.child;o;){if(o===n){i=!0,n=l,s=a;break}if(o===s){i=!0,s=l,n=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===n){i=!0,n=a,s=l;break}if(o===s){i=!0,s=a,n=l;break}o=o.sibling}if(!i)throw Error(E(189))}}if(n.alternate!==s)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?e:t}function ru(e){return e=Hm(e),e!==null?su(e):null}function su(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=su(e);if(t!==null)return t;e=e.sibling}return null}var lu=_e.unstable_scheduleCallback,ao=_e.unstable_cancelCallback,Jm=_e.unstable_shouldYield,Vm=_e.unstable_requestPaint,te=_e.unstable_now,Gm=_e.unstable_getCurrentPriorityLevel,ti=_e.unstable_ImmediatePriority,au=_e.unstable_UserBlockingPriority,Es=_e.unstable_NormalPriority,Qm=_e.unstable_LowPriority,iu=_e.unstable_IdlePriority,Zs=null,it=null;function Km(e){if(it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(Zs,e,void 0,(e.current.flags&128)===128)}catch{}}var et=Math.clz32?Math.clz32:qm,Ym=Math.log,Xm=Math.LN2;function qm(e){return e>>>=0,e===0?32:31-(Ym(e)/Xm|0)|0}var Xr=64,qr=4194304;function ir(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Is(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var o=i&~l;o!==0?s=ir(o):(a&=i,a!==0&&(s=ir(a)))}else i=n&~l,i!==0?s=ir(i):a!==0&&(s=ir(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&l)&&(l=s&-s,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-et(t),l=1<<n,s|=e[n],t&=~l;return s}function Zm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ef(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-et(a),o=1<<i,c=l[i];c===-1?(!(o&n)||o&s)&&(l[i]=Zm(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function oa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ou(){var e=Xr;return Xr<<=1,!(Xr&4194240)&&(Xr=64),e}function Nl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Mr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-et(t),e[t]=n}function tf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-et(n),a=1<<l;t[l]=0,s[l]=-1,e[l]=-1,n&=~a}}function ni(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-et(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}var H=0;function cu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var uu,ri,du,mu,fu,ca=!1,Zr=[],Lt=null,At=null,Pt=null,br=new Map,Nr=new Map,kt=[],nf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function io(e,t){switch(e){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":br.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nr.delete(t.pointerId)}}function Zn(e,t,n,s,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[l]},t!==null&&(t=zr(t),t!==null&&ri(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function rf(e,t,n,s,l){switch(t){case"focusin":return Lt=Zn(Lt,e,t,n,s,l),!0;case"dragenter":return At=Zn(At,e,t,n,s,l),!0;case"mouseover":return Pt=Zn(Pt,e,t,n,s,l),!0;case"pointerover":var a=l.pointerId;return br.set(a,Zn(br.get(a)||null,e,t,n,s,l)),!0;case"gotpointercapture":return a=l.pointerId,Nr.set(a,Zn(Nr.get(a)||null,e,t,n,s,l)),!0}return!1}function pu(e){var t=Yt(e.target);if(t!==null){var n=on(t);if(n!==null){if(t=n.tag,t===13){if(t=nu(n),t!==null){e.blockedOn=t,fu(e.priority,function(){du(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ps(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ua(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);sa=s,n.target.dispatchEvent(s),sa=null}else return t=zr(n),t!==null&&ri(t),e.blockedOn=n,!1;t.shift()}return!0}function oo(e,t,n){ps(e)&&n.delete(t)}function sf(){ca=!1,Lt!==null&&ps(Lt)&&(Lt=null),At!==null&&ps(At)&&(At=null),Pt!==null&&ps(Pt)&&(Pt=null),br.forEach(oo),Nr.forEach(oo)}function er(e,t){e.blockedOn===t&&(e.blockedOn=null,ca||(ca=!0,_e.unstable_scheduleCallback(_e.unstable_NormalPriority,sf)))}function wr(e){function t(l){return er(l,e)}if(0<Zr.length){er(Zr[0],e);for(var n=1;n<Zr.length;n++){var s=Zr[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Lt!==null&&er(Lt,e),At!==null&&er(At,e),Pt!==null&&er(Pt,e),br.forEach(t),Nr.forEach(t),n=0;n<kt.length;n++)s=kt[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<kt.length&&(n=kt[0],n.blockedOn===null);)pu(n),n.blockedOn===null&&kt.shift()}var Ln=vt.ReactCurrentBatchConfig,Ls=!0;function lf(e,t,n,s){var l=H,a=Ln.transition;Ln.transition=null;try{H=1,si(e,t,n,s)}finally{H=l,Ln.transition=a}}function af(e,t,n,s){var l=H,a=Ln.transition;Ln.transition=null;try{H=4,si(e,t,n,s)}finally{H=l,Ln.transition=a}}function si(e,t,n,s){if(Ls){var l=ua(e,t,n,s);if(l===null)Tl(e,t,s,As,n),io(e,s);else if(rf(l,e,t,n,s))s.stopPropagation();else if(io(e,s),t&4&&-1<nf.indexOf(e)){for(;l!==null;){var a=zr(l);if(a!==null&&uu(a),a=ua(e,t,n,s),a===null&&Tl(e,t,s,As,n),a===l)break;l=a}l!==null&&s.stopPropagation()}else Tl(e,t,s,null,n)}}var As=null;function ua(e,t,n,s){if(As=null,e=ei(s),e=Yt(e),e!==null)if(t=on(e),t===null)e=null;else if(n=t.tag,n===13){if(e=nu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return As=e,null}function hu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gm()){case ti:return 1;case au:return 4;case Es:case Qm:return 16;case iu:return 536870912;default:return 16}default:return 16}}var Ct=null,li=null,hs=null;function xu(){if(hs)return hs;var e,t=li,n=t.length,s,l="value"in Ct?Ct.value:Ct.textContent,a=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(s=1;s<=i&&t[n-s]===l[a-s];s++);return hs=l.slice(e,1<s?1-s:void 0)}function xs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function es(){return!0}function co(){return!1}function Me(e){function t(n,s,l,a,i){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?es:co,this.isPropagationStopped=co,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=es)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=es)},persist:function(){},isPersistent:es}),t}var Bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ai=Me(Bn),Ur=q({},Bn,{view:0,detail:0}),of=Me(Ur),wl,kl,tr,el=q({},Ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ii,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tr&&(tr&&e.type==="mousemove"?(wl=e.screenX-tr.screenX,kl=e.screenY-tr.screenY):kl=wl=0,tr=e),wl)},movementY:function(e){return"movementY"in e?e.movementY:kl}}),uo=Me(el),cf=q({},el,{dataTransfer:0}),uf=Me(cf),df=q({},Ur,{relatedTarget:0}),Sl=Me(df),mf=q({},Bn,{animationName:0,elapsedTime:0,pseudoElement:0}),ff=Me(mf),pf=q({},Bn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hf=Me(pf),xf=q({},Bn,{data:0}),mo=Me(xf),gf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vf[e])?!!t[e]:!1}function ii(){return jf}var bf=q({},Ur,{key:function(e){if(e.key){var t=gf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ii,charCode:function(e){return e.type==="keypress"?xs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nf=Me(bf),wf=q({},el,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fo=Me(wf),kf=q({},Ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ii}),Sf=Me(kf),Cf=q({},Bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ef=Me(Cf),If=q({},el,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lf=Me(If),Af=[9,13,27,32],oi=ht&&"CompositionEvent"in window,dr=null;ht&&"documentMode"in document&&(dr=document.documentMode);var Pf=ht&&"TextEvent"in window&&!dr,gu=ht&&(!oi||dr&&8<dr&&11>=dr),po=" ",ho=!1;function yu(e,t){switch(e){case"keyup":return Af.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xn=!1;function Tf(e,t){switch(e){case"compositionend":return vu(t);case"keypress":return t.which!==32?null:(ho=!0,po);case"textInput":return e=t.data,e===po&&ho?null:e;default:return null}}function Rf(e,t){if(xn)return e==="compositionend"||!oi&&yu(e,t)?(e=xu(),hs=li=Ct=null,xn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gu&&t.locale!=="ko"?null:t.data;default:return null}}var Df={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Df[e.type]:t==="textarea"}function ju(e,t,n,s){Xc(s),t=Ps(t,"onChange"),0<t.length&&(n=new ai("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var mr=null,kr=null;function Ff(e){Pu(e,0)}function tl(e){var t=vn(e);if(Hc(t))return e}function _f(e,t){if(e==="change")return t}var bu=!1;if(ht){var Cl;if(ht){var El="oninput"in document;if(!El){var go=document.createElement("div");go.setAttribute("oninput","return;"),El=typeof go.oninput=="function"}Cl=El}else Cl=!1;bu=Cl&&(!document.documentMode||9<document.documentMode)}function yo(){mr&&(mr.detachEvent("onpropertychange",Nu),kr=mr=null)}function Nu(e){if(e.propertyName==="value"&&tl(kr)){var t=[];ju(t,kr,e,ei(e)),tu(Ff,t)}}function Of(e,t,n){e==="focusin"?(yo(),mr=t,kr=n,mr.attachEvent("onpropertychange",Nu)):e==="focusout"&&yo()}function Mf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tl(kr)}function Uf(e,t){if(e==="click")return tl(t)}function zf(e,t){if(e==="input"||e==="change")return tl(t)}function $f(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nt=typeof Object.is=="function"?Object.is:$f;function Sr(e,t){if(nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!Vl.call(t,l)||!nt(e[l],t[l]))return!1}return!0}function vo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jo(e,t){var n=vo(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vo(n)}}function wu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ku(){for(var e=window,t=ks();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ks(e.document)}return t}function ci(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Bf(e){var t=ku(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&wu(n.ownerDocument.documentElement,n)){if(s!==null&&ci(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,a=Math.min(s.start,l);s=s.end===void 0?a:Math.min(s.end,l),!e.extend&&a>s&&(l=s,s=a,a=l),l=jo(n,a);var i=jo(n,s);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Wf=ht&&"documentMode"in document&&11>=document.documentMode,gn=null,da=null,fr=null,ma=!1;function bo(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ma||gn==null||gn!==ks(s)||(s=gn,"selectionStart"in s&&ci(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),fr&&Sr(fr,s)||(fr=s,s=Ps(da,"onSelect"),0<s.length&&(t=new ai("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=gn)))}function ts(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var yn={animationend:ts("Animation","AnimationEnd"),animationiteration:ts("Animation","AnimationIteration"),animationstart:ts("Animation","AnimationStart"),transitionend:ts("Transition","TransitionEnd")},Il={},Su={};ht&&(Su=document.createElement("div").style,"AnimationEvent"in window||(delete yn.animationend.animation,delete yn.animationiteration.animation,delete yn.animationstart.animation),"TransitionEvent"in window||delete yn.transitionend.transition);function nl(e){if(Il[e])return Il[e];if(!yn[e])return e;var t=yn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Su)return Il[e]=t[n];return e}var Cu=nl("animationend"),Eu=nl("animationiteration"),Iu=nl("animationstart"),Lu=nl("transitionend"),Au=new Map,No="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $t(e,t){Au.set(e,t),an(t,[e])}for(var Ll=0;Ll<No.length;Ll++){var Al=No[Ll],Hf=Al.toLowerCase(),Jf=Al[0].toUpperCase()+Al.slice(1);$t(Hf,"on"+Jf)}$t(Cu,"onAnimationEnd");$t(Eu,"onAnimationIteration");$t(Iu,"onAnimationStart");$t("dblclick","onDoubleClick");$t("focusin","onFocus");$t("focusout","onBlur");$t(Lu,"onTransitionEnd");Tn("onMouseEnter",["mouseout","mouseover"]);Tn("onMouseLeave",["mouseout","mouseover"]);Tn("onPointerEnter",["pointerout","pointerover"]);Tn("onPointerLeave",["pointerout","pointerover"]);an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));an("onBeforeInput",["compositionend","keypress","textInput","paste"]);an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vf=new Set("cancel close invalid load scroll toggle".split(" ").concat(or));function wo(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Wm(s,t,void 0,e),e.currentTarget=null}function Pu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var i=s.length-1;0<=i;i--){var o=s[i],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&l.isPropagationStopped())break e;wo(l,o,u),a=c}else for(i=0;i<s.length;i++){if(o=s[i],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&l.isPropagationStopped())break e;wo(l,o,u),a=c}}}if(Cs)throw e=ia,Cs=!1,ia=null,e}function V(e,t){var n=t[ga];n===void 0&&(n=t[ga]=new Set);var s=e+"__bubble";n.has(s)||(Tu(t,e,2,!1),n.add(s))}function Pl(e,t,n){var s=0;t&&(s|=4),Tu(n,e,s,t)}var ns="_reactListening"+Math.random().toString(36).slice(2);function Cr(e){if(!e[ns]){e[ns]=!0,Uc.forEach(function(n){n!=="selectionchange"&&(Vf.has(n)||Pl(n,!1,e),Pl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ns]||(t[ns]=!0,Pl("selectionchange",!1,t))}}function Tu(e,t,n,s){switch(hu(t)){case 1:var l=lf;break;case 4:l=af;break;default:l=si}n=l.bind(null,t,n,e),l=void 0,!aa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Tl(e,t,n,s,l){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var o=s.stateNode.containerInfo;if(o===l||o.nodeType===8&&o.parentNode===l)break;if(i===4)for(i=s.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;i=i.return}for(;o!==null;){if(i=Yt(o),i===null)return;if(c=i.tag,c===5||c===6){s=a=i;continue e}o=o.parentNode}}s=s.return}tu(function(){var u=a,m=ei(n),p=[];e:{var f=Au.get(e);if(f!==void 0){var g=ai,j=e;switch(e){case"keypress":if(xs(n)===0)break e;case"keydown":case"keyup":g=Nf;break;case"focusin":j="focus",g=Sl;break;case"focusout":j="blur",g=Sl;break;case"beforeblur":case"afterblur":g=Sl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=uf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Sf;break;case Cu:case Eu:case Iu:g=ff;break;case Lu:g=Ef;break;case"scroll":g=of;break;case"wheel":g=Lf;break;case"copy":case"cut":case"paste":g=hf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=fo}var x=(t&4)!==0,N=!x&&e==="scroll",d=x?f!==null?f+"Capture":null:f;x=[];for(var h=u,v;h!==null;){v=h;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,d!==null&&(b=jr(h,d),b!=null&&x.push(Er(h,b,v)))),N)break;h=h.return}0<x.length&&(f=new g(f,j,null,n,m),p.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==sa&&(j=n.relatedTarget||n.fromElement)&&(Yt(j)||j[xt]))break e;if((g||f)&&(f=m.window===m?m:(f=m.ownerDocument)?f.defaultView||f.parentWindow:window,g?(j=n.relatedTarget||n.toElement,g=u,j=j?Yt(j):null,j!==null&&(N=on(j),j!==N||j.tag!==5&&j.tag!==6)&&(j=null)):(g=null,j=u),g!==j)){if(x=uo,b="onMouseLeave",d="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(x=fo,b="onPointerLeave",d="onPointerEnter",h="pointer"),N=g==null?f:vn(g),v=j==null?f:vn(j),f=new x(b,h+"leave",g,n,m),f.target=N,f.relatedTarget=v,b=null,Yt(m)===u&&(x=new x(d,h+"enter",j,n,m),x.target=v,x.relatedTarget=N,b=x),N=b,g&&j)t:{for(x=g,d=j,h=0,v=x;v;v=fn(v))h++;for(v=0,b=d;b;b=fn(b))v++;for(;0<h-v;)x=fn(x),h--;for(;0<v-h;)d=fn(d),v--;for(;h--;){if(x===d||d!==null&&x===d.alternate)break t;x=fn(x),d=fn(d)}x=null}else x=null;g!==null&&ko(p,f,g,x,!1),j!==null&&N!==null&&ko(p,N,j,x,!0)}}e:{if(f=u?vn(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var k=_f;else if(xo(f))if(bu)k=zf;else{k=Mf;var C=Of}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=Uf);if(k&&(k=k(e,u))){ju(p,k,n,m);break e}C&&C(e,f,u),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Zl(f,"number",f.value)}switch(C=u?vn(u):window,e){case"focusin":(xo(C)||C.contentEditable==="true")&&(gn=C,da=u,fr=null);break;case"focusout":fr=da=gn=null;break;case"mousedown":ma=!0;break;case"contextmenu":case"mouseup":case"dragend":ma=!1,bo(p,n,m);break;case"selectionchange":if(Wf)break;case"keydown":case"keyup":bo(p,n,m)}var S;if(oi)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else xn?yu(e,n)&&(w="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(gu&&n.locale!=="ko"&&(xn||w!=="onCompositionStart"?w==="onCompositionEnd"&&xn&&(S=xu()):(Ct=m,li="value"in Ct?Ct.value:Ct.textContent,xn=!0)),C=Ps(u,w),0<C.length&&(w=new mo(w,e,null,n,m),p.push({event:w,listeners:C}),S?w.data=S:(S=vu(n),S!==null&&(w.data=S)))),(S=Pf?Tf(e,n):Rf(e,n))&&(u=Ps(u,"onBeforeInput"),0<u.length&&(m=new mo("onBeforeInput","beforeinput",null,n,m),p.push({event:m,listeners:u}),m.data=S))}Pu(p,t)})}function Er(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ps(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=jr(e,n),a!=null&&s.unshift(Er(e,a,l)),a=jr(e,t),a!=null&&s.push(Er(e,a,l))),e=e.return}return s}function fn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ko(e,t,n,s,l){for(var a=t._reactName,i=[];n!==null&&n!==s;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===s)break;o.tag===5&&u!==null&&(o=u,l?(c=jr(n,a),c!=null&&i.unshift(Er(n,c,o))):l||(c=jr(n,a),c!=null&&i.push(Er(n,c,o)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Gf=/\r\n?/g,Qf=/\u0000|\uFFFD/g;function So(e){return(typeof e=="string"?e:""+e).replace(Gf,`
`).replace(Qf,"")}function rs(e,t,n){if(t=So(t),So(e)!==t&&n)throw Error(E(425))}function Ts(){}var fa=null,pa=null;function ha(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xa=typeof setTimeout=="function"?setTimeout:void 0,Kf=typeof clearTimeout=="function"?clearTimeout:void 0,Co=typeof Promise=="function"?Promise:void 0,Yf=typeof queueMicrotask=="function"?queueMicrotask:typeof Co<"u"?function(e){return Co.resolve(null).then(e).catch(Xf)}:xa;function Xf(e){setTimeout(function(){throw e})}function Rl(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){e.removeChild(l),wr(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);wr(t)}function Tt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Eo(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Wn=Math.random().toString(36).slice(2),at="__reactFiber$"+Wn,Ir="__reactProps$"+Wn,xt="__reactContainer$"+Wn,ga="__reactEvents$"+Wn,qf="__reactListeners$"+Wn,Zf="__reactHandles$"+Wn;function Yt(e){var t=e[at];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xt]||n[at]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Eo(e);e!==null;){if(n=e[at])return n;e=Eo(e)}return t}e=n,n=e.parentNode}return null}function zr(e){return e=e[at]||e[xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function rl(e){return e[Ir]||null}var ya=[],jn=-1;function Bt(e){return{current:e}}function G(e){0>jn||(e.current=ya[jn],ya[jn]=null,jn--)}function J(e,t){jn++,ya[jn]=e.current,e.current=t}var Ut={},ge=Bt(Ut),Ie=Bt(!1),tn=Ut;function Rn(e,t){var n=e.type.contextTypes;if(!n)return Ut;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in n)l[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Le(e){return e=e.childContextTypes,e!=null}function Rs(){G(Ie),G(ge)}function Io(e,t,n){if(ge.current!==Ut)throw Error(E(168));J(ge,t),J(Ie,n)}function Ru(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(E(108,_m(e)||"Unknown",l));return q({},n,s)}function Ds(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ut,tn=ge.current,J(ge,e),J(Ie,Ie.current),!0}function Lo(e,t,n){var s=e.stateNode;if(!s)throw Error(E(169));n?(e=Ru(e,t,tn),s.__reactInternalMemoizedMergedChildContext=e,G(Ie),G(ge),J(ge,e)):G(Ie),J(Ie,n)}var ut=null,sl=!1,Dl=!1;function Du(e){ut===null?ut=[e]:ut.push(e)}function ep(e){sl=!0,Du(e)}function Wt(){if(!Dl&&ut!==null){Dl=!0;var e=0,t=H;try{var n=ut;for(H=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}ut=null,sl=!1}catch(l){throw ut!==null&&(ut=ut.slice(e+1)),lu(ti,Wt),l}finally{H=t,Dl=!1}}return null}var bn=[],Nn=0,Fs=null,_s=0,Ue=[],ze=0,nn=null,mt=1,ft="";function Qt(e,t){bn[Nn++]=_s,bn[Nn++]=Fs,Fs=e,_s=t}function Fu(e,t,n){Ue[ze++]=mt,Ue[ze++]=ft,Ue[ze++]=nn,nn=e;var s=mt;e=ft;var l=32-et(s)-1;s&=~(1<<l),n+=1;var a=32-et(t)+l;if(30<a){var i=l-l%5;a=(s&(1<<i)-1).toString(32),s>>=i,l-=i,mt=1<<32-et(t)+l|n<<l|s,ft=a+e}else mt=1<<a|n<<l|s,ft=e}function ui(e){e.return!==null&&(Qt(e,1),Fu(e,1,0))}function di(e){for(;e===Fs;)Fs=bn[--Nn],bn[Nn]=null,_s=bn[--Nn],bn[Nn]=null;for(;e===nn;)nn=Ue[--ze],Ue[ze]=null,ft=Ue[--ze],Ue[ze]=null,mt=Ue[--ze],Ue[ze]=null}var Fe=null,Te=null,K=!1,qe=null;function _u(e,t){var n=$e(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ao(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fe=e,Te=Tt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fe=e,Te=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=nn!==null?{id:mt,overflow:ft}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=$e(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Fe=e,Te=null,!0):!1;default:return!1}}function va(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ja(e){if(K){var t=Te;if(t){var n=t;if(!Ao(e,t)){if(va(e))throw Error(E(418));t=Tt(n.nextSibling);var s=Fe;t&&Ao(e,t)?_u(s,n):(e.flags=e.flags&-4097|2,K=!1,Fe=e)}}else{if(va(e))throw Error(E(418));e.flags=e.flags&-4097|2,K=!1,Fe=e}}}function Po(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fe=e}function ss(e){if(e!==Fe)return!1;if(!K)return Po(e),K=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ha(e.type,e.memoizedProps)),t&&(t=Te)){if(va(e))throw Ou(),Error(E(418));for(;t;)_u(e,t),t=Tt(t.nextSibling)}if(Po(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Te=Tt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Te=null}}else Te=Fe?Tt(e.stateNode.nextSibling):null;return!0}function Ou(){for(var e=Te;e;)e=Tt(e.nextSibling)}function Dn(){Te=Fe=null,K=!1}function mi(e){qe===null?qe=[e]:qe.push(e)}var tp=vt.ReactCurrentBatchConfig;function Ye(e,t){if(e&&e.defaultProps){t=q({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Os=Bt(null),Ms=null,wn=null,fi=null;function pi(){fi=wn=Ms=null}function hi(e){var t=Os.current;G(Os),e._currentValue=t}function ba(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function An(e,t){Ms=e,fi=wn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ee=!0),e.firstContext=null)}function He(e){var t=e._currentValue;if(fi!==e)if(e={context:e,memoizedValue:t,next:null},wn===null){if(Ms===null)throw Error(E(308));wn=e,Ms.dependencies={lanes:0,firstContext:e}}else wn=wn.next=e;return t}var Xt=null;function xi(e){Xt===null?Xt=[e]:Xt.push(e)}function Mu(e,t,n,s){var l=t.interleaved;return l===null?(n.next=n,xi(t)):(n.next=l.next,l.next=n),t.interleaved=n,gt(e,s)}function gt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var wt=!1;function gi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rt(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,B&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,gt(e,n)}return l=s.interleaved,l===null?(t.next=t,xi(s)):(t.next=l.next,l.next=t),s.interleaved=t,gt(e,n)}function gs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,ni(e,n)}}function To(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?l=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?l=a=t:a=a.next=t}else l=a=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Us(e,t,n,s){var l=e.updateQueue;wt=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var c=o,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var m=e.alternate;m!==null&&(m=m.updateQueue,o=m.lastBaseUpdate,o!==i&&(o===null?m.firstBaseUpdate=u:o.next=u,m.lastBaseUpdate=c))}if(a!==null){var p=l.baseState;i=0,m=u=c=null,o=a;do{var f=o.lane,g=o.eventTime;if((s&f)===f){m!==null&&(m=m.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var j=e,x=o;switch(f=t,g=n,x.tag){case 1:if(j=x.payload,typeof j=="function"){p=j.call(g,p,f);break e}p=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=x.payload,f=typeof j=="function"?j.call(g,p,f):j,f==null)break e;p=q({},p,f);break e;case 2:wt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=l.effects,f===null?l.effects=[o]:f.push(o))}else g={eventTime:g,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(u=m=g,c=p):m=m.next=g,i|=f;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;f=o,o=f.next,f.next=null,l.lastBaseUpdate=f,l.shared.pending=null}}while(!0);if(m===null&&(c=p),l.baseState=c,l.firstBaseUpdate=u,l.lastBaseUpdate=m,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);sn|=i,e.lanes=i,e.memoizedState=p}}function Ro(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=n,typeof l!="function")throw Error(E(191,l));l.call(s)}}}var zu=new Mc.Component().refs;function Na(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:q({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ll={isMounted:function(e){return(e=e._reactInternals)?on(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=we(),l=Ft(e),a=pt(s,l);a.payload=t,n!=null&&(a.callback=n),t=Rt(e,a,l),t!==null&&(tt(t,e,l,s),gs(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=we(),l=Ft(e),a=pt(s,l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Rt(e,a,l),t!==null&&(tt(t,e,l,s),gs(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=we(),s=Ft(e),l=pt(n,s);l.tag=2,t!=null&&(l.callback=t),t=Rt(e,l,s),t!==null&&(tt(t,e,s,n),gs(t,e,s))}};function Do(e,t,n,s,l,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,i):t.prototype&&t.prototype.isPureReactComponent?!Sr(n,s)||!Sr(l,a):!0}function $u(e,t,n){var s=!1,l=Ut,a=t.contextType;return typeof a=="object"&&a!==null?a=He(a):(l=Le(t)?tn:ge.current,s=t.contextTypes,a=(s=s!=null)?Rn(e,l):Ut),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ll,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function Fo(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&ll.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,s){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs=zu,gi(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=He(a):(a=Le(t)?tn:ge.current,l.context=Rn(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Na(e,t,a,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ll.enqueueReplaceState(l,l.state,null),Us(e,n,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function nr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var s=n.stateNode}if(!s)throw Error(E(147,e));var l=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var o=l.refs;o===zu&&(o=l.refs={}),i===null?delete o[a]:o[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,e))}return e}function ls(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _o(e){var t=e._init;return t(e._payload)}function Bu(e){function t(d,h){if(e){var v=d.deletions;v===null?(d.deletions=[h],d.flags|=16):v.push(h)}}function n(d,h){if(!e)return null;for(;h!==null;)t(d,h),h=h.sibling;return null}function s(d,h){for(d=new Map;h!==null;)h.key!==null?d.set(h.key,h):d.set(h.index,h),h=h.sibling;return d}function l(d,h){return d=_t(d,h),d.index=0,d.sibling=null,d}function a(d,h,v){return d.index=v,e?(v=d.alternate,v!==null?(v=v.index,v<h?(d.flags|=2,h):v):(d.flags|=2,h)):(d.flags|=1048576,h)}function i(d){return e&&d.alternate===null&&(d.flags|=2),d}function o(d,h,v,b){return h===null||h.tag!==6?(h=$l(v,d.mode,b),h.return=d,h):(h=l(h,v),h.return=d,h)}function c(d,h,v,b){var k=v.type;return k===hn?m(d,h,v.props.children,b,v.key):h!==null&&(h.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Nt&&_o(k)===h.type)?(b=l(h,v.props),b.ref=nr(d,h,v),b.return=d,b):(b=ws(v.type,v.key,v.props,null,d.mode,b),b.ref=nr(d,h,v),b.return=d,b)}function u(d,h,v,b){return h===null||h.tag!==4||h.stateNode.containerInfo!==v.containerInfo||h.stateNode.implementation!==v.implementation?(h=Bl(v,d.mode,b),h.return=d,h):(h=l(h,v.children||[]),h.return=d,h)}function m(d,h,v,b,k){return h===null||h.tag!==7?(h=en(v,d.mode,b,k),h.return=d,h):(h=l(h,v),h.return=d,h)}function p(d,h,v){if(typeof h=="string"&&h!==""||typeof h=="number")return h=$l(""+h,d.mode,v),h.return=d,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Qr:return v=ws(h.type,h.key,h.props,null,d.mode,v),v.ref=nr(d,null,h),v.return=d,v;case pn:return h=Bl(h,d.mode,v),h.return=d,h;case Nt:var b=h._init;return p(d,b(h._payload),v)}if(ar(h)||Xn(h))return h=en(h,d.mode,v,null),h.return=d,h;ls(d,h)}return null}function f(d,h,v,b){var k=h!==null?h.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:o(d,h,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Qr:return v.key===k?c(d,h,v,b):null;case pn:return v.key===k?u(d,h,v,b):null;case Nt:return k=v._init,f(d,h,k(v._payload),b)}if(ar(v)||Xn(v))return k!==null?null:m(d,h,v,b,null);ls(d,v)}return null}function g(d,h,v,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return d=d.get(v)||null,o(h,d,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Qr:return d=d.get(b.key===null?v:b.key)||null,c(h,d,b,k);case pn:return d=d.get(b.key===null?v:b.key)||null,u(h,d,b,k);case Nt:var C=b._init;return g(d,h,v,C(b._payload),k)}if(ar(b)||Xn(b))return d=d.get(v)||null,m(h,d,b,k,null);ls(h,b)}return null}function j(d,h,v,b){for(var k=null,C=null,S=h,w=h=0,I=null;S!==null&&w<v.length;w++){S.index>w?(I=S,S=null):I=S.sibling;var T=f(d,S,v[w],b);if(T===null){S===null&&(S=I);break}e&&S&&T.alternate===null&&t(d,S),h=a(T,h,w),C===null?k=T:C.sibling=T,C=T,S=I}if(w===v.length)return n(d,S),K&&Qt(d,w),k;if(S===null){for(;w<v.length;w++)S=p(d,v[w],b),S!==null&&(h=a(S,h,w),C===null?k=S:C.sibling=S,C=S);return K&&Qt(d,w),k}for(S=s(d,S);w<v.length;w++)I=g(S,d,w,v[w],b),I!==null&&(e&&I.alternate!==null&&S.delete(I.key===null?w:I.key),h=a(I,h,w),C===null?k=I:C.sibling=I,C=I);return e&&S.forEach(function(F){return t(d,F)}),K&&Qt(d,w),k}function x(d,h,v,b){var k=Xn(v);if(typeof k!="function")throw Error(E(150));if(v=k.call(v),v==null)throw Error(E(151));for(var C=k=null,S=h,w=h=0,I=null,T=v.next();S!==null&&!T.done;w++,T=v.next()){S.index>w?(I=S,S=null):I=S.sibling;var F=f(d,S,T.value,b);if(F===null){S===null&&(S=I);break}e&&S&&F.alternate===null&&t(d,S),h=a(F,h,w),C===null?k=F:C.sibling=F,C=F,S=I}if(T.done)return n(d,S),K&&Qt(d,w),k;if(S===null){for(;!T.done;w++,T=v.next())T=p(d,T.value,b),T!==null&&(h=a(T,h,w),C===null?k=T:C.sibling=T,C=T);return K&&Qt(d,w),k}for(S=s(d,S);!T.done;w++,T=v.next())T=g(S,d,w,T.value,b),T!==null&&(e&&T.alternate!==null&&S.delete(T.key===null?w:T.key),h=a(T,h,w),C===null?k=T:C.sibling=T,C=T);return e&&S.forEach(function(W){return t(d,W)}),K&&Qt(d,w),k}function N(d,h,v,b){if(typeof v=="object"&&v!==null&&v.type===hn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Qr:e:{for(var k=v.key,C=h;C!==null;){if(C.key===k){if(k=v.type,k===hn){if(C.tag===7){n(d,C.sibling),h=l(C,v.props.children),h.return=d,d=h;break e}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Nt&&_o(k)===C.type){n(d,C.sibling),h=l(C,v.props),h.ref=nr(d,C,v),h.return=d,d=h;break e}n(d,C);break}else t(d,C);C=C.sibling}v.type===hn?(h=en(v.props.children,d.mode,b,v.key),h.return=d,d=h):(b=ws(v.type,v.key,v.props,null,d.mode,b),b.ref=nr(d,h,v),b.return=d,d=b)}return i(d);case pn:e:{for(C=v.key;h!==null;){if(h.key===C)if(h.tag===4&&h.stateNode.containerInfo===v.containerInfo&&h.stateNode.implementation===v.implementation){n(d,h.sibling),h=l(h,v.children||[]),h.return=d,d=h;break e}else{n(d,h);break}else t(d,h);h=h.sibling}h=Bl(v,d.mode,b),h.return=d,d=h}return i(d);case Nt:return C=v._init,N(d,h,C(v._payload),b)}if(ar(v))return j(d,h,v,b);if(Xn(v))return x(d,h,v,b);ls(d,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,h!==null&&h.tag===6?(n(d,h.sibling),h=l(h,v),h.return=d,d=h):(n(d,h),h=$l(v,d.mode,b),h.return=d,d=h),i(d)):n(d,h)}return N}var Fn=Bu(!0),Wu=Bu(!1),$r={},ot=Bt($r),Lr=Bt($r),Ar=Bt($r);function qt(e){if(e===$r)throw Error(E(174));return e}function yi(e,t){switch(J(Ar,t),J(Lr,e),J(ot,$r),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ta(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ta(t,e)}G(ot),J(ot,t)}function _n(){G(ot),G(Lr),G(Ar)}function Hu(e){qt(Ar.current);var t=qt(ot.current),n=ta(t,e.type);t!==n&&(J(Lr,e),J(ot,n))}function vi(e){Lr.current===e&&(G(ot),G(Lr))}var Y=Bt(0);function zs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fl=[];function ji(){for(var e=0;e<Fl.length;e++)Fl[e]._workInProgressVersionPrimary=null;Fl.length=0}var ys=vt.ReactCurrentDispatcher,_l=vt.ReactCurrentBatchConfig,rn=0,X=null,se=null,oe=null,$s=!1,pr=!1,Pr=0,np=0;function fe(){throw Error(E(321))}function bi(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nt(e[n],t[n]))return!1;return!0}function Ni(e,t,n,s,l,a){if(rn=a,X=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ys.current=e===null||e.memoizedState===null?ap:ip,e=n(s,l),pr){a=0;do{if(pr=!1,Pr=0,25<=a)throw Error(E(301));a+=1,oe=se=null,t.updateQueue=null,ys.current=op,e=n(s,l)}while(pr)}if(ys.current=Bs,t=se!==null&&se.next!==null,rn=0,oe=se=X=null,$s=!1,t)throw Error(E(300));return e}function wi(){var e=Pr!==0;return Pr=0,e}function lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oe===null?X.memoizedState=oe=e:oe=oe.next=e,oe}function Je(){if(se===null){var e=X.alternate;e=e!==null?e.memoizedState:null}else e=se.next;var t=oe===null?X.memoizedState:oe.next;if(t!==null)oe=t,se=e;else{if(e===null)throw Error(E(310));se=e,e={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},oe===null?X.memoizedState=oe=e:oe=oe.next=e}return oe}function Tr(e,t){return typeof t=="function"?t(e):t}function Ol(e){var t=Je(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var s=se,l=s.baseQueue,a=n.pending;if(a!==null){if(l!==null){var i=l.next;l.next=a.next,a.next=i}s.baseQueue=l=a,n.pending=null}if(l!==null){a=l.next,s=s.baseState;var o=i=null,c=null,u=a;do{var m=u.lane;if((rn&m)===m)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var p={lane:m,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=p,i=s):c=c.next=p,X.lanes|=m,sn|=m}u=u.next}while(u!==null&&u!==a);c===null?i=s:c.next=o,nt(s,t.memoizedState)||(Ee=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){l=e;do a=l.lane,X.lanes|=a,sn|=a,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ml(e){var t=Je(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,a=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do a=e(a,i.action),i=i.next;while(i!==l);nt(a,t.memoizedState)||(Ee=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function Ju(){}function Vu(e,t){var n=X,s=Je(),l=t(),a=!nt(s.memoizedState,l);if(a&&(s.memoizedState=l,Ee=!0),s=s.queue,ki(Ku.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||oe!==null&&oe.memoizedState.tag&1){if(n.flags|=2048,Rr(9,Qu.bind(null,n,s,l,t),void 0,null),ce===null)throw Error(E(349));rn&30||Gu(n,t,l)}return l}function Gu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=X.updateQueue,t===null?(t={lastEffect:null,stores:null},X.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qu(e,t,n,s){t.value=n,t.getSnapshot=s,Yu(t)&&Xu(e)}function Ku(e,t,n){return n(function(){Yu(t)&&Xu(e)})}function Yu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nt(e,n)}catch{return!0}}function Xu(e){var t=gt(e,1);t!==null&&tt(t,e,1,-1)}function Oo(e){var t=lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tr,lastRenderedState:e},t.queue=e,e=e.dispatch=lp.bind(null,X,e),[t.memoizedState,e]}function Rr(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=X.updateQueue,t===null?(t={lastEffect:null,stores:null},X.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function qu(){return Je().memoizedState}function vs(e,t,n,s){var l=lt();X.flags|=e,l.memoizedState=Rr(1|t,n,void 0,s===void 0?null:s)}function al(e,t,n,s){var l=Je();s=s===void 0?null:s;var a=void 0;if(se!==null){var i=se.memoizedState;if(a=i.destroy,s!==null&&bi(s,i.deps)){l.memoizedState=Rr(t,n,a,s);return}}X.flags|=e,l.memoizedState=Rr(1|t,n,a,s)}function Mo(e,t){return vs(8390656,8,e,t)}function ki(e,t){return al(2048,8,e,t)}function Zu(e,t){return al(4,2,e,t)}function ed(e,t){return al(4,4,e,t)}function td(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nd(e,t,n){return n=n!=null?n.concat([e]):null,al(4,4,td.bind(null,t,e),n)}function Si(){}function rd(e,t){var n=Je();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&bi(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function sd(e,t){var n=Je();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&bi(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function ld(e,t,n){return rn&21?(nt(n,t)||(n=ou(),X.lanes|=n,sn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ee=!0),e.memoizedState=n)}function rp(e,t){var n=H;H=n!==0&&4>n?n:4,e(!0);var s=_l.transition;_l.transition={};try{e(!1),t()}finally{H=n,_l.transition=s}}function ad(){return Je().memoizedState}function sp(e,t,n){var s=Ft(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},id(e))od(t,n);else if(n=Mu(e,t,n,s),n!==null){var l=we();tt(n,e,s,l),cd(n,t,s)}}function lp(e,t,n){var s=Ft(e),l={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(id(e))od(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,o=a(i,n);if(l.hasEagerState=!0,l.eagerState=o,nt(o,i)){var c=t.interleaved;c===null?(l.next=l,xi(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=Mu(e,t,l,s),n!==null&&(l=we(),tt(n,e,s,l),cd(n,t,s))}}function id(e){var t=e.alternate;return e===X||t!==null&&t===X}function od(e,t){pr=$s=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cd(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,ni(e,n)}}var Bs={readContext:He,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useInsertionEffect:fe,useLayoutEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useMutableSource:fe,useSyncExternalStore:fe,useId:fe,unstable_isNewReconciler:!1},ap={readContext:He,useCallback:function(e,t){return lt().memoizedState=[e,t===void 0?null:t],e},useContext:He,useEffect:Mo,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,vs(4194308,4,td.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vs(4194308,4,e,t)},useInsertionEffect:function(e,t){return vs(4,2,e,t)},useMemo:function(e,t){var n=lt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=lt();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=sp.bind(null,X,e),[s.memoizedState,e]},useRef:function(e){var t=lt();return e={current:e},t.memoizedState=e},useState:Oo,useDebugValue:Si,useDeferredValue:function(e){return lt().memoizedState=e},useTransition:function(){var e=Oo(!1),t=e[0];return e=rp.bind(null,e[1]),lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=X,l=lt();if(K){if(n===void 0)throw Error(E(407));n=n()}else{if(n=t(),ce===null)throw Error(E(349));rn&30||Gu(s,t,n)}l.memoizedState=n;var a={value:n,getSnapshot:t};return l.queue=a,Mo(Ku.bind(null,s,a,e),[e]),s.flags|=2048,Rr(9,Qu.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=lt(),t=ce.identifierPrefix;if(K){var n=ft,s=mt;n=(s&~(1<<32-et(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Pr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=np++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ip={readContext:He,useCallback:rd,useContext:He,useEffect:ki,useImperativeHandle:nd,useInsertionEffect:Zu,useLayoutEffect:ed,useMemo:sd,useReducer:Ol,useRef:qu,useState:function(){return Ol(Tr)},useDebugValue:Si,useDeferredValue:function(e){var t=Je();return ld(t,se.memoizedState,e)},useTransition:function(){var e=Ol(Tr)[0],t=Je().memoizedState;return[e,t]},useMutableSource:Ju,useSyncExternalStore:Vu,useId:ad,unstable_isNewReconciler:!1},op={readContext:He,useCallback:rd,useContext:He,useEffect:ki,useImperativeHandle:nd,useInsertionEffect:Zu,useLayoutEffect:ed,useMemo:sd,useReducer:Ml,useRef:qu,useState:function(){return Ml(Tr)},useDebugValue:Si,useDeferredValue:function(e){var t=Je();return se===null?t.memoizedState=e:ld(t,se.memoizedState,e)},useTransition:function(){var e=Ml(Tr)[0],t=Je().memoizedState;return[e,t]},useMutableSource:Ju,useSyncExternalStore:Vu,useId:ad,unstable_isNewReconciler:!1};function On(e,t){try{var n="",s=t;do n+=Fm(s),s=s.return;while(s);var l=n}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function Ul(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ka(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var cp=typeof WeakMap=="function"?WeakMap:Map;function ud(e,t,n){n=pt(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Hs||(Hs=!0,Da=s),ka(e,t)},n}function dd(e,t,n){n=pt(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;n.payload=function(){return s(l)},n.callback=function(){ka(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){ka(e,t),typeof s!="function"&&(Dt===null?Dt=new Set([this]):Dt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Uo(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new cp;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(l.add(n),e=wp.bind(null,e,t,n),t.then(e,e))}function zo(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $o(e,t,n,s,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=pt(-1,1),t.tag=2,Rt(n,t,1))),n.lanes|=1),e)}var up=vt.ReactCurrentOwner,Ee=!1;function be(e,t,n,s){t.child=e===null?Wu(t,null,n,s):Fn(t,e.child,n,s)}function Bo(e,t,n,s,l){n=n.render;var a=t.ref;return An(t,l),s=Ni(e,t,n,s,a,l),n=wi(),e!==null&&!Ee?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,yt(e,t,l)):(K&&n&&ui(t),t.flags|=1,be(e,t,s,l),t.child)}function Wo(e,t,n,s,l){if(e===null){var a=n.type;return typeof a=="function"&&!Ri(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,md(e,t,a,s,l)):(e=ws(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&l)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:Sr,n(i,s)&&e.ref===t.ref)return yt(e,t,l)}return t.flags|=1,e=_t(a,s),e.ref=t.ref,e.return=t,t.child=e}function md(e,t,n,s,l){if(e!==null){var a=e.memoizedProps;if(Sr(a,s)&&e.ref===t.ref)if(Ee=!1,t.pendingProps=s=a,(e.lanes&l)!==0)e.flags&131072&&(Ee=!0);else return t.lanes=e.lanes,yt(e,t,l)}return Sa(e,t,n,s,l)}function fd(e,t,n){var s=t.pendingProps,l=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},J(Sn,Pe),Pe|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,J(Sn,Pe),Pe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,J(Sn,Pe),Pe|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,J(Sn,Pe),Pe|=s;return be(e,t,l,n),t.child}function pd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sa(e,t,n,s,l){var a=Le(n)?tn:ge.current;return a=Rn(t,a),An(t,l),n=Ni(e,t,n,s,a,l),s=wi(),e!==null&&!Ee?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,yt(e,t,l)):(K&&s&&ui(t),t.flags|=1,be(e,t,n,l),t.child)}function Ho(e,t,n,s,l){if(Le(n)){var a=!0;Ds(t)}else a=!1;if(An(t,l),t.stateNode===null)js(e,t),$u(t,n,s),wa(t,n,s,l),s=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=He(u):(u=Le(n)?tn:ge.current,u=Rn(t,u));var m=n.getDerivedStateFromProps,p=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function";p||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==s||c!==u)&&Fo(t,i,s,u),wt=!1;var f=t.memoizedState;i.state=f,Us(t,s,i,l),c=t.memoizedState,o!==s||f!==c||Ie.current||wt?(typeof m=="function"&&(Na(t,n,m,s),c=t.memoizedState),(o=wt||Do(t,n,o,s,f,c,u))?(p||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),i.props=s,i.state=c,i.context=u,s=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,Uu(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Ye(t.type,o),i.props=u,p=t.pendingProps,f=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=He(c):(c=Le(n)?tn:ge.current,c=Rn(t,c));var g=n.getDerivedStateFromProps;(m=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==p||f!==c)&&Fo(t,i,s,c),wt=!1,f=t.memoizedState,i.state=f,Us(t,s,i,l);var j=t.memoizedState;o!==p||f!==j||Ie.current||wt?(typeof g=="function"&&(Na(t,n,g,s),j=t.memoizedState),(u=wt||Do(t,n,u,s,f,j,c)||!1)?(m||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,j,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,j,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=j),i.props=s,i.state=j,i.context=c,s=u):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),s=!1)}return Ca(e,t,n,s,a,l)}function Ca(e,t,n,s,l,a){pd(e,t);var i=(t.flags&128)!==0;if(!s&&!i)return l&&Lo(t,n,!1),yt(e,t,a);s=t.stateNode,up.current=t;var o=i&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&i?(t.child=Fn(t,e.child,null,a),t.child=Fn(t,null,o,a)):be(e,t,o,a),t.memoizedState=s.state,l&&Lo(t,n,!0),t.child}function hd(e){var t=e.stateNode;t.pendingContext?Io(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Io(e,t.context,!1),yi(e,t.containerInfo)}function Jo(e,t,n,s,l){return Dn(),mi(l),t.flags|=256,be(e,t,n,s),t.child}var Ea={dehydrated:null,treeContext:null,retryLane:0};function Ia(e){return{baseLanes:e,cachePool:null,transitions:null}}function xd(e,t,n){var s=t.pendingProps,l=Y.current,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(l&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),J(Y,l&1),e===null)return ja(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=s.children,e=s.fallback,a?(s=t.mode,a=t.child,i={mode:"hidden",children:i},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=cl(i,s,0,null),e=en(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ia(n),t.memoizedState=Ea,e):Ci(t,i));if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null))return dp(e,t,i,s,o,l,n);if(a){a=s.fallback,i=t.mode,l=e.child,o=l.sibling;var c={mode:"hidden",children:s.children};return!(i&1)&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=_t(l,c),s.subtreeFlags=l.subtreeFlags&14680064),o!==null?a=_t(o,a):(a=en(a,i,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,i=e.child.memoizedState,i=i===null?Ia(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=Ea,s}return a=e.child,e=a.sibling,s=_t(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Ci(e,t){return t=cl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function as(e,t,n,s){return s!==null&&mi(s),Fn(t,e.child,null,n),e=Ci(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dp(e,t,n,s,l,a,i){if(n)return t.flags&256?(t.flags&=-257,s=Ul(Error(E(422))),as(e,t,i,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,l=t.mode,s=cl({mode:"visible",children:s.children},l,0,null),a=en(a,l,i,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&Fn(t,e.child,null,i),t.child.memoizedState=Ia(i),t.memoizedState=Ea,a);if(!(t.mode&1))return as(e,t,i,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var o=s.dgst;return s=o,a=Error(E(419)),s=Ul(a,s,void 0),as(e,t,i,s)}if(o=(i&e.childLanes)!==0,Ee||o){if(s=ce,s!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(s.suspendedLanes|i)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,gt(e,l),tt(s,e,l,-1))}return Ti(),s=Ul(Error(E(421))),as(e,t,i,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=kp.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,Te=Tt(l.nextSibling),Fe=t,K=!0,qe=null,e!==null&&(Ue[ze++]=mt,Ue[ze++]=ft,Ue[ze++]=nn,mt=e.id,ft=e.overflow,nn=t),t=Ci(t,s.children),t.flags|=4096,t)}function Vo(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),ba(e.return,t,n)}function zl(e,t,n,s,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=l)}function gd(e,t,n){var s=t.pendingProps,l=s.revealOrder,a=s.tail;if(be(e,t,s.children,n),s=Y.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vo(e,n,t);else if(e.tag===19)Vo(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(J(Y,s),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&zs(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),zl(t,!1,l,n,a);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&zs(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}zl(t,!0,n,null,a);break;case"together":zl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function js(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function yt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),sn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,n=_t(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=_t(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mp(e,t,n){switch(t.tag){case 3:hd(t),Dn();break;case 5:Hu(t);break;case 1:Le(t.type)&&Ds(t);break;case 4:yi(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;J(Os,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(J(Y,Y.current&1),t.flags|=128,null):n&t.child.childLanes?xd(e,t,n):(J(Y,Y.current&1),e=yt(e,t,n),e!==null?e.sibling:null);J(Y,Y.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return gd(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),J(Y,Y.current),s)break;return null;case 22:case 23:return t.lanes=0,fd(e,t,n)}return yt(e,t,n)}var yd,La,vd,jd;yd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};La=function(){};vd=function(e,t,n,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,qt(ot.current);var a=null;switch(n){case"input":l=Xl(e,l),s=Xl(e,s),a=[];break;case"select":l=q({},l,{value:void 0}),s=q({},s,{value:void 0}),a=[];break;case"textarea":l=ea(e,l),s=ea(e,s),a=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Ts)}na(n,s);var i;n=null;for(u in l)if(!s.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var o=l[u];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(yr.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var c=s[u];if(o=l!=null?l[u]:void 0,s.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(yr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&V("scroll",e),a||o===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};jd=function(e,t,n,s){n!==s&&(t.flags|=4)};function rr(e,t){if(!K)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function fp(e,t,n){var s=t.pendingProps;switch(di(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(t),null;case 1:return Le(t.type)&&Rs(),pe(t),null;case 3:return s=t.stateNode,_n(),G(Ie),G(ge),ji(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ss(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qe!==null&&(Oa(qe),qe=null))),La(e,t),pe(t),null;case 5:vi(t);var l=qt(Ar.current);if(n=t.type,e!==null&&t.stateNode!=null)vd(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(E(166));return pe(t),null}if(e=qt(ot.current),ss(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[at]=t,s[Ir]=a,e=(t.mode&1)!==0,n){case"dialog":V("cancel",s),V("close",s);break;case"iframe":case"object":case"embed":V("load",s);break;case"video":case"audio":for(l=0;l<or.length;l++)V(or[l],s);break;case"source":V("error",s);break;case"img":case"image":case"link":V("error",s),V("load",s);break;case"details":V("toggle",s);break;case"input":eo(s,a),V("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},V("invalid",s);break;case"textarea":no(s,a),V("invalid",s)}na(n,a),l=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?s.textContent!==o&&(a.suppressHydrationWarning!==!0&&rs(s.textContent,o,e),l=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&rs(s.textContent,o,e),l=["children",""+o]):yr.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&V("scroll",s)}switch(n){case"input":Kr(s),to(s,a,!0);break;case"textarea":Kr(s),ro(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=Ts)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Gc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=i.createElement(n,{is:s.is}):(e=i.createElement(n),n==="select"&&(i=e,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):e=i.createElementNS(e,n),e[at]=t,e[Ir]=s,yd(e,t,!1,!1),t.stateNode=e;e:{switch(i=ra(n,s),n){case"dialog":V("cancel",e),V("close",e),l=s;break;case"iframe":case"object":case"embed":V("load",e),l=s;break;case"video":case"audio":for(l=0;l<or.length;l++)V(or[l],e);l=s;break;case"source":V("error",e),l=s;break;case"img":case"image":case"link":V("error",e),V("load",e),l=s;break;case"details":V("toggle",e),l=s;break;case"input":eo(e,s),l=Xl(e,s),V("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=q({},s,{value:void 0}),V("invalid",e);break;case"textarea":no(e,s),l=ea(e,s),V("invalid",e);break;default:l=s}na(n,l),o=l;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?Yc(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Qc(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&vr(e,c):typeof c=="number"&&vr(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(yr.hasOwnProperty(a)?c!=null&&a==="onScroll"&&V("scroll",e):c!=null&&Ya(e,a,c,i))}switch(n){case"input":Kr(e),to(e,s,!1);break;case"textarea":Kr(e),ro(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Mt(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?Cn(e,!!s.multiple,a,!1):s.defaultValue!=null&&Cn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Ts)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pe(t),null;case 6:if(e&&t.stateNode!=null)jd(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(E(166));if(n=qt(Ar.current),qt(ot.current),ss(t)){if(s=t.stateNode,n=t.memoizedProps,s[at]=t,(a=s.nodeValue!==n)&&(e=Fe,e!==null))switch(e.tag){case 3:rs(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&rs(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[at]=t,t.stateNode=s}return pe(t),null;case 13:if(G(Y),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(K&&Te!==null&&t.mode&1&&!(t.flags&128))Ou(),Dn(),t.flags|=98560,a=!1;else if(a=ss(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(E(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(E(317));a[at]=t}else Dn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pe(t),a=!1}else qe!==null&&(Oa(qe),qe=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Y.current&1?le===0&&(le=3):Ti())),t.updateQueue!==null&&(t.flags|=4),pe(t),null);case 4:return _n(),La(e,t),e===null&&Cr(t.stateNode.containerInfo),pe(t),null;case 10:return hi(t.type._context),pe(t),null;case 17:return Le(t.type)&&Rs(),pe(t),null;case 19:if(G(Y),a=t.memoizedState,a===null)return pe(t),null;if(s=(t.flags&128)!==0,i=a.rendering,i===null)if(s)rr(a,!1);else{if(le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=zs(e),i!==null){for(t.flags|=128,rr(a,!1),s=i.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return J(Y,Y.current&1|2),t.child}e=e.sibling}a.tail!==null&&te()>Mn&&(t.flags|=128,s=!0,rr(a,!1),t.lanes=4194304)}else{if(!s)if(e=zs(i),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),rr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!K)return pe(t),null}else 2*te()-a.renderingStartTime>Mn&&n!==1073741824&&(t.flags|=128,s=!0,rr(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=te(),t.sibling=null,n=Y.current,J(Y,s?n&1|2:n&1),t):(pe(t),null);case 22:case 23:return Pi(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Pe&1073741824&&(pe(t),t.subtreeFlags&6&&(t.flags|=8192)):pe(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function pp(e,t){switch(di(t),t.tag){case 1:return Le(t.type)&&Rs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _n(),G(Ie),G(ge),ji(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vi(t),null;case 13:if(G(Y),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));Dn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return G(Y),null;case 4:return _n(),null;case 10:return hi(t.type._context),null;case 22:case 23:return Pi(),null;case 24:return null;default:return null}}var is=!1,he=!1,hp=typeof WeakSet=="function"?WeakSet:Set,P=null;function kn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Z(e,t,s)}else n.current=null}function Aa(e,t,n){try{n()}catch(s){Z(e,t,s)}}var Go=!1;function xp(e,t){if(fa=Ls,e=ku(),ci(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,o=-1,c=-1,u=0,m=0,p=e,f=null;t:for(;;){for(var g;p!==n||l!==0&&p.nodeType!==3||(o=i+l),p!==a||s!==0&&p.nodeType!==3||(c=i+s),p.nodeType===3&&(i+=p.nodeValue.length),(g=p.firstChild)!==null;)f=p,p=g;for(;;){if(p===e)break t;if(f===n&&++u===l&&(o=i),f===a&&++m===s&&(c=i),(g=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=g}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(pa={focusedElem:e,selectionRange:n},Ls=!1,P=t;P!==null;)if(t=P,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,P=e;else for(;P!==null;){t=P;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var x=j.memoizedProps,N=j.memoizedState,d=t.stateNode,h=d.getSnapshotBeforeUpdate(t.elementType===t.type?x:Ye(t.type,x),N);d.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(b){Z(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,P=e;break}P=t.return}return j=Go,Go=!1,j}function hr(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&Aa(t,n,a)}l=l.next}while(l!==s)}}function il(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Pa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function bd(e){var t=e.alternate;t!==null&&(e.alternate=null,bd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[at],delete t[Ir],delete t[ga],delete t[qf],delete t[Zf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Nd(e){return e.tag===5||e.tag===3||e.tag===4}function Qo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Nd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ta(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ts));else if(s!==4&&(e=e.child,e!==null))for(Ta(e,t,n),e=e.sibling;e!==null;)Ta(e,t,n),e=e.sibling}function Ra(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Ra(e,t,n),e=e.sibling;e!==null;)Ra(e,t,n),e=e.sibling}var ue=null,Xe=!1;function bt(e,t,n){for(n=n.child;n!==null;)wd(e,t,n),n=n.sibling}function wd(e,t,n){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(Zs,n)}catch{}switch(n.tag){case 5:he||kn(n,t);case 6:var s=ue,l=Xe;ue=null,bt(e,t,n),ue=s,Xe=l,ue!==null&&(Xe?(e=ue,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ue.removeChild(n.stateNode));break;case 18:ue!==null&&(Xe?(e=ue,n=n.stateNode,e.nodeType===8?Rl(e.parentNode,n):e.nodeType===1&&Rl(e,n),wr(e)):Rl(ue,n.stateNode));break;case 4:s=ue,l=Xe,ue=n.stateNode.containerInfo,Xe=!0,bt(e,t,n),ue=s,Xe=l;break;case 0:case 11:case 14:case 15:if(!he&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var a=l,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Aa(n,t,i),l=l.next}while(l!==s)}bt(e,t,n);break;case 1:if(!he&&(kn(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(o){Z(n,t,o)}bt(e,t,n);break;case 21:bt(e,t,n);break;case 22:n.mode&1?(he=(s=he)||n.memoizedState!==null,bt(e,t,n),he=s):bt(e,t,n);break;default:bt(e,t,n)}}function Ko(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new hp),t.forEach(function(s){var l=Sp.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}}function Ge(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];try{var a=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:ue=o.stateNode,Xe=!1;break e;case 3:ue=o.stateNode.containerInfo,Xe=!0;break e;case 4:ue=o.stateNode.containerInfo,Xe=!0;break e}o=o.return}if(ue===null)throw Error(E(160));wd(a,i,l),ue=null,Xe=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(u){Z(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kd(t,e),t=t.sibling}function kd(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ge(t,e),st(e),s&4){try{hr(3,e,e.return),il(3,e)}catch(x){Z(e,e.return,x)}try{hr(5,e,e.return)}catch(x){Z(e,e.return,x)}}break;case 1:Ge(t,e),st(e),s&512&&n!==null&&kn(n,n.return);break;case 5:if(Ge(t,e),st(e),s&512&&n!==null&&kn(n,n.return),e.flags&32){var l=e.stateNode;try{vr(l,"")}catch(x){Z(e,e.return,x)}}if(s&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Jc(l,a),ra(o,i);var u=ra(o,a);for(i=0;i<c.length;i+=2){var m=c[i],p=c[i+1];m==="style"?Yc(l,p):m==="dangerouslySetInnerHTML"?Qc(l,p):m==="children"?vr(l,p):Ya(l,m,p,u)}switch(o){case"input":ql(l,a);break;case"textarea":Vc(l,a);break;case"select":var f=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?Cn(l,!!a.multiple,g,!1):f!==!!a.multiple&&(a.defaultValue!=null?Cn(l,!!a.multiple,a.defaultValue,!0):Cn(l,!!a.multiple,a.multiple?[]:"",!1))}l[Ir]=a}catch(x){Z(e,e.return,x)}}break;case 6:if(Ge(t,e),st(e),s&4){if(e.stateNode===null)throw Error(E(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(x){Z(e,e.return,x)}}break;case 3:if(Ge(t,e),st(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{wr(t.containerInfo)}catch(x){Z(e,e.return,x)}break;case 4:Ge(t,e),st(e);break;case 13:Ge(t,e),st(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(Li=te())),s&4&&Ko(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(he=(u=he)||m,Ge(t,e),he=u):Ge(t,e),st(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!m&&e.mode&1)for(P=e,m=e.child;m!==null;){for(p=P=m;P!==null;){switch(f=P,g=f.child,f.tag){case 0:case 11:case 14:case 15:hr(4,f,f.return);break;case 1:kn(f,f.return);var j=f.stateNode;if(typeof j.componentWillUnmount=="function"){s=f,n=f.return;try{t=s,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(x){Z(s,n,x)}}break;case 5:kn(f,f.return);break;case 22:if(f.memoizedState!==null){Xo(p);continue}}g!==null?(g.return=f,P=g):Xo(p)}m=m.sibling}e:for(m=null,p=e;;){if(p.tag===5){if(m===null){m=p;try{l=p.stateNode,u?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=p.stateNode,c=p.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Kc("display",i))}catch(x){Z(e,e.return,x)}}}else if(p.tag===6){if(m===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(x){Z(e,e.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;m===p&&(m=null),p=p.return}m===p&&(m=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ge(t,e),st(e),s&4&&Ko(e);break;case 21:break;default:Ge(t,e),st(e)}}function st(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Nd(n)){var s=n;break e}n=n.return}throw Error(E(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(vr(l,""),s.flags&=-33);var a=Qo(e);Ra(e,a,l);break;case 3:case 4:var i=s.stateNode.containerInfo,o=Qo(e);Ta(e,o,i);break;default:throw Error(E(161))}}catch(c){Z(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gp(e,t,n){P=e,Sd(e)}function Sd(e,t,n){for(var s=(e.mode&1)!==0;P!==null;){var l=P,a=l.child;if(l.tag===22&&s){var i=l.memoizedState!==null||is;if(!i){var o=l.alternate,c=o!==null&&o.memoizedState!==null||he;o=is;var u=he;if(is=i,(he=c)&&!u)for(P=l;P!==null;)i=P,c=i.child,i.tag===22&&i.memoizedState!==null?qo(l):c!==null?(c.return=i,P=c):qo(l);for(;a!==null;)P=a,Sd(a),a=a.sibling;P=l,is=o,he=u}Yo(e)}else l.subtreeFlags&8772&&a!==null?(a.return=l,P=a):Yo(e)}}function Yo(e){for(;P!==null;){var t=P;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:he||il(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!he)if(n===null)s.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Ye(t.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Ro(t,a,s);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ro(t,i,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var m=u.memoizedState;if(m!==null){var p=m.dehydrated;p!==null&&wr(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}he||t.flags&512&&Pa(t)}catch(f){Z(t,t.return,f)}}if(t===e){P=null;break}if(n=t.sibling,n!==null){n.return=t.return,P=n;break}P=t.return}}function Xo(e){for(;P!==null;){var t=P;if(t===e){P=null;break}var n=t.sibling;if(n!==null){n.return=t.return,P=n;break}P=t.return}}function qo(e){for(;P!==null;){var t=P;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(c){Z(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(c){Z(t,l,c)}}var a=t.return;try{Pa(t)}catch(c){Z(t,a,c)}break;case 5:var i=t.return;try{Pa(t)}catch(c){Z(t,i,c)}}}catch(c){Z(t,t.return,c)}if(t===e){P=null;break}var o=t.sibling;if(o!==null){o.return=t.return,P=o;break}P=t.return}}var yp=Math.ceil,Ws=vt.ReactCurrentDispatcher,Ei=vt.ReactCurrentOwner,Be=vt.ReactCurrentBatchConfig,B=0,ce=null,re=null,de=0,Pe=0,Sn=Bt(0),le=0,Dr=null,sn=0,ol=0,Ii=0,xr=null,Ce=null,Li=0,Mn=1/0,ct=null,Hs=!1,Da=null,Dt=null,os=!1,Et=null,Js=0,gr=0,Fa=null,bs=-1,Ns=0;function we(){return B&6?te():bs!==-1?bs:bs=te()}function Ft(e){return e.mode&1?B&2&&de!==0?de&-de:tp.transition!==null?(Ns===0&&(Ns=ou()),Ns):(e=H,e!==0||(e=window.event,e=e===void 0?16:hu(e.type)),e):1}function tt(e,t,n,s){if(50<gr)throw gr=0,Fa=null,Error(E(185));Mr(e,n,s),(!(B&2)||e!==ce)&&(e===ce&&(!(B&2)&&(ol|=n),le===4&&St(e,de)),Ae(e,s),n===1&&B===0&&!(t.mode&1)&&(Mn=te()+500,sl&&Wt()))}function Ae(e,t){var n=e.callbackNode;ef(e,t);var s=Is(e,e===ce?de:0);if(s===0)n!==null&&ao(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&ao(n),t===1)e.tag===0?ep(Zo.bind(null,e)):Du(Zo.bind(null,e)),Yf(function(){!(B&6)&&Wt()}),n=null;else{switch(cu(s)){case 1:n=ti;break;case 4:n=au;break;case 16:n=Es;break;case 536870912:n=iu;break;default:n=Es}n=Rd(n,Cd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Cd(e,t){if(bs=-1,Ns=0,B&6)throw Error(E(327));var n=e.callbackNode;if(Pn()&&e.callbackNode!==n)return null;var s=Is(e,e===ce?de:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Vs(e,s);else{t=s;var l=B;B|=2;var a=Id();(ce!==e||de!==t)&&(ct=null,Mn=te()+500,Zt(e,t));do try{bp();break}catch(o){Ed(e,o)}while(!0);pi(),Ws.current=a,B=l,re!==null?t=0:(ce=null,de=0,t=le)}if(t!==0){if(t===2&&(l=oa(e),l!==0&&(s=l,t=_a(e,l))),t===1)throw n=Dr,Zt(e,0),St(e,s),Ae(e,te()),n;if(t===6)St(e,s);else{if(l=e.current.alternate,!(s&30)&&!vp(l)&&(t=Vs(e,s),t===2&&(a=oa(e),a!==0&&(s=a,t=_a(e,a))),t===1))throw n=Dr,Zt(e,0),St(e,s),Ae(e,te()),n;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(E(345));case 2:Kt(e,Ce,ct);break;case 3:if(St(e,s),(s&130023424)===s&&(t=Li+500-te(),10<t)){if(Is(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){we(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=xa(Kt.bind(null,e,Ce,ct),t);break}Kt(e,Ce,ct);break;case 4:if(St(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var i=31-et(s);a=1<<i,i=t[i],i>l&&(l=i),s&=~a}if(s=l,s=te()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*yp(s/1960))-s,10<s){e.timeoutHandle=xa(Kt.bind(null,e,Ce,ct),s);break}Kt(e,Ce,ct);break;case 5:Kt(e,Ce,ct);break;default:throw Error(E(329))}}}return Ae(e,te()),e.callbackNode===n?Cd.bind(null,e):null}function _a(e,t){var n=xr;return e.current.memoizedState.isDehydrated&&(Zt(e,t).flags|=256),e=Vs(e,t),e!==2&&(t=Ce,Ce=n,t!==null&&Oa(t)),e}function Oa(e){Ce===null?Ce=e:Ce.push.apply(Ce,e)}function vp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var l=n[s],a=l.getSnapshot;l=l.value;try{if(!nt(a(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function St(e,t){for(t&=~Ii,t&=~ol,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-et(t),s=1<<n;e[n]=-1,t&=~s}}function Zo(e){if(B&6)throw Error(E(327));Pn();var t=Is(e,0);if(!(t&1))return Ae(e,te()),null;var n=Vs(e,t);if(e.tag!==0&&n===2){var s=oa(e);s!==0&&(t=s,n=_a(e,s))}if(n===1)throw n=Dr,Zt(e,0),St(e,t),Ae(e,te()),n;if(n===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kt(e,Ce,ct),Ae(e,te()),null}function Ai(e,t){var n=B;B|=1;try{return e(t)}finally{B=n,B===0&&(Mn=te()+500,sl&&Wt())}}function ln(e){Et!==null&&Et.tag===0&&!(B&6)&&Pn();var t=B;B|=1;var n=Be.transition,s=H;try{if(Be.transition=null,H=1,e)return e()}finally{H=s,Be.transition=n,B=t,!(B&6)&&Wt()}}function Pi(){Pe=Sn.current,G(Sn)}function Zt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Kf(n)),re!==null)for(n=re.return;n!==null;){var s=n;switch(di(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Rs();break;case 3:_n(),G(Ie),G(ge),ji();break;case 5:vi(s);break;case 4:_n();break;case 13:G(Y);break;case 19:G(Y);break;case 10:hi(s.type._context);break;case 22:case 23:Pi()}n=n.return}if(ce=e,re=e=_t(e.current,null),de=Pe=t,le=0,Dr=null,Ii=ol=sn=0,Ce=xr=null,Xt!==null){for(t=0;t<Xt.length;t++)if(n=Xt[t],s=n.interleaved,s!==null){n.interleaved=null;var l=s.next,a=n.pending;if(a!==null){var i=a.next;a.next=l,s.next=i}n.pending=s}Xt=null}return e}function Ed(e,t){do{var n=re;try{if(pi(),ys.current=Bs,$s){for(var s=X.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}$s=!1}if(rn=0,oe=se=X=null,pr=!1,Pr=0,Ei.current=null,n===null||n.return===null){le=1,Dr=t,re=null;break}e:{var a=e,i=n.return,o=n,c=t;if(t=de,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,m=o,p=m.tag;if(!(m.mode&1)&&(p===0||p===11||p===15)){var f=m.alternate;f?(m.updateQueue=f.updateQueue,m.memoizedState=f.memoizedState,m.lanes=f.lanes):(m.updateQueue=null,m.memoizedState=null)}var g=zo(i);if(g!==null){g.flags&=-257,$o(g,i,o,a,t),g.mode&1&&Uo(a,u,t),t=g,c=u;var j=t.updateQueue;if(j===null){var x=new Set;x.add(c),t.updateQueue=x}else j.add(c);break e}else{if(!(t&1)){Uo(a,u,t),Ti();break e}c=Error(E(426))}}else if(K&&o.mode&1){var N=zo(i);if(N!==null){!(N.flags&65536)&&(N.flags|=256),$o(N,i,o,a,t),mi(On(c,o));break e}}a=c=On(c,o),le!==4&&(le=2),xr===null?xr=[a]:xr.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var d=ud(a,c,t);To(a,d);break e;case 1:o=c;var h=a.type,v=a.stateNode;if(!(a.flags&128)&&(typeof h.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Dt===null||!Dt.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=dd(a,o,t);To(a,b);break e}}a=a.return}while(a!==null)}Ad(n)}catch(k){t=k,re===n&&n!==null&&(re=n=n.return);continue}break}while(!0)}function Id(){var e=Ws.current;return Ws.current=Bs,e===null?Bs:e}function Ti(){(le===0||le===3||le===2)&&(le=4),ce===null||!(sn&268435455)&&!(ol&268435455)||St(ce,de)}function Vs(e,t){var n=B;B|=2;var s=Id();(ce!==e||de!==t)&&(ct=null,Zt(e,t));do try{jp();break}catch(l){Ed(e,l)}while(!0);if(pi(),B=n,Ws.current=s,re!==null)throw Error(E(261));return ce=null,de=0,le}function jp(){for(;re!==null;)Ld(re)}function bp(){for(;re!==null&&!Jm();)Ld(re)}function Ld(e){var t=Td(e.alternate,e,Pe);e.memoizedProps=e.pendingProps,t===null?Ad(e):re=t,Ei.current=null}function Ad(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=pp(n,t),n!==null){n.flags&=32767,re=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{le=6,re=null;return}}else if(n=fp(n,t,Pe),n!==null){re=n;return}if(t=t.sibling,t!==null){re=t;return}re=t=e}while(t!==null);le===0&&(le=5)}function Kt(e,t,n){var s=H,l=Be.transition;try{Be.transition=null,H=1,Np(e,t,n,s)}finally{Be.transition=l,H=s}return null}function Np(e,t,n,s){do Pn();while(Et!==null);if(B&6)throw Error(E(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(tf(e,a),e===ce&&(re=ce=null,de=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||os||(os=!0,Rd(Es,function(){return Pn(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Be.transition,Be.transition=null;var i=H;H=1;var o=B;B|=4,Ei.current=null,xp(e,n),kd(n,e),Bf(pa),Ls=!!fa,pa=fa=null,e.current=n,gp(n),Vm(),B=o,H=i,Be.transition=a}else e.current=n;if(os&&(os=!1,Et=e,Js=l),a=e.pendingLanes,a===0&&(Dt=null),Km(n.stateNode),Ae(e,te()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],s(l.value,{componentStack:l.stack,digest:l.digest});if(Hs)throw Hs=!1,e=Da,Da=null,e;return Js&1&&e.tag!==0&&Pn(),a=e.pendingLanes,a&1?e===Fa?gr++:(gr=0,Fa=e):gr=0,Wt(),null}function Pn(){if(Et!==null){var e=cu(Js),t=Be.transition,n=H;try{if(Be.transition=null,H=16>e?16:e,Et===null)var s=!1;else{if(e=Et,Et=null,Js=0,B&6)throw Error(E(331));var l=B;for(B|=4,P=e.current;P!==null;){var a=P,i=a.child;if(P.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(P=u;P!==null;){var m=P;switch(m.tag){case 0:case 11:case 15:hr(8,m,a)}var p=m.child;if(p!==null)p.return=m,P=p;else for(;P!==null;){m=P;var f=m.sibling,g=m.return;if(bd(m),m===u){P=null;break}if(f!==null){f.return=g,P=f;break}P=g}}}var j=a.alternate;if(j!==null){var x=j.child;if(x!==null){j.child=null;do{var N=x.sibling;x.sibling=null,x=N}while(x!==null)}}P=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,P=i;else e:for(;P!==null;){if(a=P,a.flags&2048)switch(a.tag){case 0:case 11:case 15:hr(9,a,a.return)}var d=a.sibling;if(d!==null){d.return=a.return,P=d;break e}P=a.return}}var h=e.current;for(P=h;P!==null;){i=P;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,P=v;else e:for(i=h;P!==null;){if(o=P,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:il(9,o)}}catch(k){Z(o,o.return,k)}if(o===i){P=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,P=b;break e}P=o.return}}if(B=l,Wt(),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(Zs,e)}catch{}s=!0}return s}finally{H=n,Be.transition=t}}return!1}function ec(e,t,n){t=On(n,t),t=ud(e,t,1),e=Rt(e,t,1),t=we(),e!==null&&(Mr(e,1,t),Ae(e,t))}function Z(e,t,n){if(e.tag===3)ec(e,e,n);else for(;t!==null;){if(t.tag===3){ec(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Dt===null||!Dt.has(s))){e=On(n,e),e=dd(t,e,1),t=Rt(t,e,1),e=we(),t!==null&&(Mr(t,1,e),Ae(t,e));break}}t=t.return}}function wp(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=we(),e.pingedLanes|=e.suspendedLanes&n,ce===e&&(de&n)===n&&(le===4||le===3&&(de&130023424)===de&&500>te()-Li?Zt(e,0):Ii|=n),Ae(e,t)}function Pd(e,t){t===0&&(e.mode&1?(t=qr,qr<<=1,!(qr&130023424)&&(qr=4194304)):t=1);var n=we();e=gt(e,t),e!==null&&(Mr(e,t,n),Ae(e,n))}function kp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Pd(e,n)}function Sp(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(E(314))}s!==null&&s.delete(t),Pd(e,n)}var Td;Td=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ie.current)Ee=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ee=!1,mp(e,t,n);Ee=!!(e.flags&131072)}else Ee=!1,K&&t.flags&1048576&&Fu(t,_s,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;js(e,t),e=t.pendingProps;var l=Rn(t,ge.current);An(t,n),l=Ni(null,t,s,e,l,n);var a=wi();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Le(s)?(a=!0,Ds(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,gi(t),l.updater=ll,t.stateNode=l,l._reactInternals=t,wa(t,s,e,n),t=Ca(null,t,s,!0,a,n)):(t.tag=0,K&&a&&ui(t),be(null,t,l,n),t=t.child),t;case 16:s=t.elementType;e:{switch(js(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=Ep(s),e=Ye(s,e),l){case 0:t=Sa(null,t,s,e,n);break e;case 1:t=Ho(null,t,s,e,n);break e;case 11:t=Bo(null,t,s,e,n);break e;case 14:t=Wo(null,t,s,Ye(s.type,e),n);break e}throw Error(E(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:Ye(s,l),Sa(e,t,s,l,n);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:Ye(s,l),Ho(e,t,s,l,n);case 3:e:{if(hd(t),e===null)throw Error(E(387));s=t.pendingProps,a=t.memoizedState,l=a.element,Uu(e,t),Us(t,s,null,n);var i=t.memoizedState;if(s=i.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=On(Error(E(423)),t),t=Jo(e,t,s,n,l);break e}else if(s!==l){l=On(Error(E(424)),t),t=Jo(e,t,s,n,l);break e}else for(Te=Tt(t.stateNode.containerInfo.firstChild),Fe=t,K=!0,qe=null,n=Wu(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dn(),s===l){t=yt(e,t,n);break e}be(e,t,s,n)}t=t.child}return t;case 5:return Hu(t),e===null&&ja(t),s=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,i=l.children,ha(s,l)?i=null:a!==null&&ha(s,a)&&(t.flags|=32),pd(e,t),be(e,t,i,n),t.child;case 6:return e===null&&ja(t),null;case 13:return xd(e,t,n);case 4:return yi(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Fn(t,null,s,n):be(e,t,s,n),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:Ye(s,l),Bo(e,t,s,l,n);case 7:return be(e,t,t.pendingProps,n),t.child;case 8:return be(e,t,t.pendingProps.children,n),t.child;case 12:return be(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,a=t.memoizedProps,i=l.value,J(Os,s._currentValue),s._currentValue=i,a!==null)if(nt(a.value,i)){if(a.children===l.children&&!Ie.current){t=yt(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var c=o.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=pt(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var m=u.pending;m===null?c.next=c:(c.next=m.next,m.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),ba(a.return,n,t),o.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(E(341));i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),ba(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}be(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,An(t,n),l=He(l),s=s(l),t.flags|=1,be(e,t,s,n),t.child;case 14:return s=t.type,l=Ye(s,t.pendingProps),l=Ye(s.type,l),Wo(e,t,s,l,n);case 15:return md(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:Ye(s,l),js(e,t),t.tag=1,Le(s)?(e=!0,Ds(t)):e=!1,An(t,n),$u(t,s,l),wa(t,s,l,n),Ca(null,t,s,!0,e,n);case 19:return gd(e,t,n);case 22:return fd(e,t,n)}throw Error(E(156,t.tag))};function Rd(e,t){return lu(e,t)}function Cp(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $e(e,t,n,s){return new Cp(e,t,n,s)}function Ri(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ep(e){if(typeof e=="function")return Ri(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qa)return 11;if(e===Za)return 14}return 2}function _t(e,t){var n=e.alternate;return n===null?(n=$e(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ws(e,t,n,s,l,a){var i=2;if(s=e,typeof e=="function")Ri(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case hn:return en(n.children,l,a,t);case Xa:i=8,l|=8;break;case Gl:return e=$e(12,n,t,l|2),e.elementType=Gl,e.lanes=a,e;case Ql:return e=$e(13,n,t,l),e.elementType=Ql,e.lanes=a,e;case Kl:return e=$e(19,n,t,l),e.elementType=Kl,e.lanes=a,e;case Bc:return cl(n,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zc:i=10;break e;case $c:i=9;break e;case qa:i=11;break e;case Za:i=14;break e;case Nt:i=16,s=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=$e(i,n,t,l),t.elementType=e,t.type=s,t.lanes=a,t}function en(e,t,n,s){return e=$e(7,e,s,t),e.lanes=n,e}function cl(e,t,n,s){return e=$e(22,e,s,t),e.elementType=Bc,e.lanes=n,e.stateNode={isHidden:!1},e}function $l(e,t,n){return e=$e(6,e,null,t),e.lanes=n,e}function Bl(e,t,n){return t=$e(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ip(e,t,n,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nl(0),this.expirationTimes=Nl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nl(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Di(e,t,n,s,l,a,i,o,c){return e=new Ip(e,t,n,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=$e(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gi(a),e}function Lp(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pn,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Dd(e){if(!e)return Ut;e=e._reactInternals;e:{if(on(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Le(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var n=e.type;if(Le(n))return Ru(e,n,t)}return t}function Fd(e,t,n,s,l,a,i,o,c){return e=Di(n,s,!0,e,l,a,i,o,c),e.context=Dd(null),n=e.current,s=we(),l=Ft(n),a=pt(s,l),a.callback=t??null,Rt(n,a,l),e.current.lanes=l,Mr(e,l,s),Ae(e,s),e}function ul(e,t,n,s){var l=t.current,a=we(),i=Ft(l);return n=Dd(n),t.context===null?t.context=n:t.pendingContext=n,t=pt(a,i),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Rt(l,t,i),e!==null&&(tt(e,l,i,a),gs(e,l,i)),i}function Gs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function tc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Fi(e,t){tc(e,t),(e=e.alternate)&&tc(e,t)}function Ap(){return null}var _d=typeof reportError=="function"?reportError:function(e){console.error(e)};function _i(e){this._internalRoot=e}dl.prototype.render=_i.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));ul(e,t,null,null)};dl.prototype.unmount=_i.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ln(function(){ul(null,e,null,null)}),t[xt]=null}};function dl(e){this._internalRoot=e}dl.prototype.unstable_scheduleHydration=function(e){if(e){var t=mu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<kt.length&&t!==0&&t<kt[n].priority;n++);kt.splice(n,0,e),n===0&&pu(e)}};function Oi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ml(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nc(){}function Pp(e,t,n,s,l){if(l){if(typeof s=="function"){var a=s;s=function(){var u=Gs(i);a.call(u)}}var i=Fd(t,s,e,0,null,!1,!1,"",nc);return e._reactRootContainer=i,e[xt]=i.current,Cr(e.nodeType===8?e.parentNode:e),ln(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var o=s;s=function(){var u=Gs(c);o.call(u)}}var c=Di(e,0,!1,null,null,!1,!1,"",nc);return e._reactRootContainer=c,e[xt]=c.current,Cr(e.nodeType===8?e.parentNode:e),ln(function(){ul(t,c,n,s)}),c}function fl(e,t,n,s,l){var a=n._reactRootContainer;if(a){var i=a;if(typeof l=="function"){var o=l;l=function(){var c=Gs(i);o.call(c)}}ul(t,i,e,l)}else i=Pp(n,t,e,l,s);return Gs(i)}uu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ir(t.pendingLanes);n!==0&&(ni(t,n|1),Ae(t,te()),!(B&6)&&(Mn=te()+500,Wt()))}break;case 13:ln(function(){var s=gt(e,1);if(s!==null){var l=we();tt(s,e,1,l)}}),Fi(e,1)}};ri=function(e){if(e.tag===13){var t=gt(e,134217728);if(t!==null){var n=we();tt(t,e,134217728,n)}Fi(e,134217728)}};du=function(e){if(e.tag===13){var t=Ft(e),n=gt(e,t);if(n!==null){var s=we();tt(n,e,t,s)}Fi(e,t)}};mu=function(){return H};fu=function(e,t){var n=H;try{return H=e,t()}finally{H=n}};la=function(e,t,n){switch(t){case"input":if(ql(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=rl(s);if(!l)throw Error(E(90));Hc(s),ql(s,l)}}}break;case"textarea":Vc(e,n);break;case"select":t=n.value,t!=null&&Cn(e,!!n.multiple,t,!1)}};Zc=Ai;eu=ln;var Tp={usingClientEntryPoint:!1,Events:[zr,vn,rl,Xc,qc,Ai]},sr={findFiberByHostInstance:Yt,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Rp={bundleType:sr.bundleType,version:sr.version,rendererPackageName:sr.rendererPackageName,rendererConfig:sr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ru(e),e===null?null:e.stateNode},findFiberByHostInstance:sr.findFiberByHostInstance||Ap,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cs.isDisabled&&cs.supportsFiber)try{Zs=cs.inject(Rp),it=cs}catch{}}Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tp;Oe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oi(t))throw Error(E(200));return Lp(e,t,null,n)};Oe.createRoot=function(e,t){if(!Oi(e))throw Error(E(299));var n=!1,s="",l=_d;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Di(e,1,!1,null,null,n,!1,s,l),e[xt]=t.current,Cr(e.nodeType===8?e.parentNode:e),new _i(t)};Oe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=ru(t),e=e===null?null:e.stateNode,e};Oe.flushSync=function(e){return ln(e)};Oe.hydrate=function(e,t,n){if(!ml(t))throw Error(E(200));return fl(null,e,t,!0,n)};Oe.hydrateRoot=function(e,t,n){if(!Oi(e))throw Error(E(405));var s=n!=null&&n.hydratedSources||null,l=!1,a="",i=_d;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Fd(t,null,e,1,n??null,l,!1,a,i),e[xt]=t.current,Cr(e),s)for(e=0;e<s.length;e++)n=s[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new dl(t)};Oe.render=function(e,t,n){if(!ml(t))throw Error(E(200));return fl(null,e,t,!1,n)};Oe.unmountComponentAtNode=function(e){if(!ml(e))throw Error(E(40));return e._reactRootContainer?(ln(function(){fl(null,null,e,!1,function(){e._reactRootContainer=null,e[xt]=null})}),!0):!1};Oe.unstable_batchedUpdates=Ai;Oe.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!ml(n))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return fl(e,t,n,!1,s)};Oe.version="18.2.0-next-9e3b772b8-20220608";function Od(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Od)}catch(e){console.error(e)}}Od(),Fc.exports=Oe;var Dp=Fc.exports,Md,rc=Dp;Md=rc.createRoot,rc.hydrateRoot;/**
 * @remix-run/router v1.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fr(){return Fr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Fr.apply(this,arguments)}var It;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(It||(It={}));const sc="popstate";function Fp(e){e===void 0&&(e={});function t(s,l){let{pathname:a,search:i,hash:o}=s.location;return Ma("",{pathname:a,search:i,hash:o},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(s,l){return typeof l=="string"?l:Qs(l)}return Op(t,n,null,e)}function ne(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Mi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _p(){return Math.random().toString(36).substr(2,8)}function lc(e,t){return{usr:e.state,key:e.key,idx:t}}function Ma(e,t,n,s){return n===void 0&&(n=null),Fr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Hn(t):t,{state:n,key:t&&t.key||s||_p()})}function Qs(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Hn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Op(e,t,n,s){s===void 0&&(s={});let{window:l=document.defaultView,v5Compat:a=!1}=s,i=l.history,o=It.Pop,c=null,u=m();u==null&&(u=0,i.replaceState(Fr({},i.state,{idx:u}),""));function m(){return(i.state||{idx:null}).idx}function p(){o=It.Pop;let N=m(),d=N==null?null:N-u;u=N,c&&c({action:o,location:x.location,delta:d})}function f(N,d){o=It.Push;let h=Ma(x.location,N,d);u=m()+1;let v=lc(h,u),b=x.createHref(h);try{i.pushState(v,"",b)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;l.location.assign(b)}a&&c&&c({action:o,location:x.location,delta:1})}function g(N,d){o=It.Replace;let h=Ma(x.location,N,d);u=m();let v=lc(h,u),b=x.createHref(h);i.replaceState(v,"",b),a&&c&&c({action:o,location:x.location,delta:0})}function j(N){let d=l.location.origin!=="null"?l.location.origin:l.location.href,h=typeof N=="string"?N:Qs(N);return ne(d,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,d)}let x={get action(){return o},get location(){return e(l,i)},listen(N){if(c)throw new Error("A history only accepts one active listener");return l.addEventListener(sc,p),c=N,()=>{l.removeEventListener(sc,p),c=null}},createHref(N){return t(l,N)},createURL:j,encodeLocation(N){let d=j(N);return{pathname:d.pathname,search:d.search,hash:d.hash}},push:f,replace:g,go(N){return i.go(N)}};return x}var ac;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ac||(ac={}));function Mp(e,t,n){n===void 0&&(n="/");let s=typeof t=="string"?Hn(t):t,l=Ui(s.pathname||"/",n);if(l==null)return null;let a=Ud(e);Up(a);let i=null;for(let o=0;i==null&&o<a.length;++o)i=Qp(a[o],Xp(l));return i}function Ud(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let l=(a,i,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(ne(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=Ot([s,c.relativePath]),m=n.concat(c);a.children&&a.children.length>0&&(ne(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ud(a.children,t,m,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Vp(u,a.index),routesMeta:m})};return e.forEach((a,i)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))l(a,i);else for(let c of zd(a.path))l(a,i,c)}),t}function zd(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,l=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return l?[a,""]:[a];let i=zd(s.join("/")),o=[];return o.push(...i.map(c=>c===""?a:[a,c].join("/"))),l&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Up(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Gp(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const zp=/^:\w+$/,$p=3,Bp=2,Wp=1,Hp=10,Jp=-2,ic=e=>e==="*";function Vp(e,t){let n=e.split("/"),s=n.length;return n.some(ic)&&(s+=Jp),t&&(s+=Bp),n.filter(l=>!ic(l)).reduce((l,a)=>l+(zp.test(a)?$p:a===""?Wp:Hp),s)}function Gp(e,t){return e.length===t.length&&e.slice(0,-1).every((s,l)=>s===t[l])?e[e.length-1]-t[t.length-1]:0}function Qp(e,t){let{routesMeta:n}=e,s={},l="/",a=[];for(let i=0;i<n.length;++i){let o=n[i],c=i===n.length-1,u=l==="/"?t:t.slice(l.length)||"/",m=Kp({path:o.relativePath,caseSensitive:o.caseSensitive,end:c},u);if(!m)return null;Object.assign(s,m.params);let p=o.route;a.push({params:s,pathname:Ot([l,m.pathname]),pathnameBase:th(Ot([l,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(l=Ot([l,m.pathnameBase]))}return a}function Kp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=Yp(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let a=l[0],i=a.replace(/(.)\/+$/,"$1"),o=l.slice(1);return{params:s.reduce((u,m,p)=>{if(m==="*"){let f=o[p]||"";i=a.slice(0,a.length-f.length).replace(/(.)\/+$/,"$1")}return u[m]=qp(o[p]||"",m),u},{}),pathname:a,pathnameBase:i,pattern:e}}function Yp(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Mi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(i,o)=>(s.push(o),"/([^\\/]+)"));return e.endsWith("*")?(s.push("*"),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function Xp(e){try{return decodeURI(e)}catch(t){return Mi(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function qp(e,t){try{return decodeURIComponent(e)}catch(n){return Mi(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function Ui(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function Zp(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:l=""}=typeof e=="string"?Hn(e):e;return{pathname:n?n.startsWith("/")?n:eh(n,t):t,search:nh(s),hash:rh(l)}}function eh(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Wl(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zi(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function $i(e,t,n,s){s===void 0&&(s=!1);let l;typeof e=="string"?l=Hn(e):(l=Fr({},e),ne(!l.pathname||!l.pathname.includes("?"),Wl("?","pathname","search",l)),ne(!l.pathname||!l.pathname.includes("#"),Wl("#","pathname","hash",l)),ne(!l.search||!l.search.includes("#"),Wl("#","search","hash",l)));let a=e===""||l.pathname==="",i=a?"/":l.pathname,o;if(s||i==null)o=n;else{let p=t.length-1;if(i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),p-=1;l.pathname=f.join("/")}o=p>=0?t[p]:"/"}let c=Zp(l,o),u=i&&i!=="/"&&i.endsWith("/"),m=(a||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||m)&&(c.pathname+="/"),c}const Ot=e=>e.join("/").replace(/\/\/+/g,"/"),th=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nh=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,rh=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function sh(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const $d=["post","put","patch","delete"];new Set($d);const lh=["get",...$d];new Set(lh);/**
 * React Router v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ks(){return Ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ks.apply(this,arguments)}const Bi=y.createContext(null),ah=y.createContext(null),Jn=y.createContext(null),pl=y.createContext(null),Ht=y.createContext({outlet:null,matches:[],isDataRoute:!1}),Bd=y.createContext(null);function ih(e,t){let{relative:n}=t===void 0?{}:t;Vn()||ne(!1);let{basename:s,navigator:l}=y.useContext(Jn),{hash:a,pathname:i,search:o}=Jd(e,{relative:n}),c=i;return s!=="/"&&(c=i==="/"?s:Ot([s,i])),l.createHref({pathname:c,search:o,hash:a})}function Vn(){return y.useContext(pl)!=null}function Gn(){return Vn()||ne(!1),y.useContext(pl).location}function Wd(e){y.useContext(Jn).static||y.useLayoutEffect(e)}function Hd(){let{isDataRoute:e}=y.useContext(Ht);return e?jh():oh()}function oh(){Vn()||ne(!1);let e=y.useContext(Bi),{basename:t,navigator:n}=y.useContext(Jn),{matches:s}=y.useContext(Ht),{pathname:l}=Gn(),a=JSON.stringify(zi(s).map(c=>c.pathnameBase)),i=y.useRef(!1);return Wd(()=>{i.current=!0}),y.useCallback(function(c,u){if(u===void 0&&(u={}),!i.current)return;if(typeof c=="number"){n.go(c);return}let m=$i(c,JSON.parse(a),l,u.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Ot([t,m.pathname])),(u.replace?n.replace:n.push)(m,u.state,u)},[t,n,a,l,e])}function Jd(e,t){let{relative:n}=t===void 0?{}:t,{matches:s}=y.useContext(Ht),{pathname:l}=Gn(),a=JSON.stringify(zi(s).map(i=>i.pathnameBase));return y.useMemo(()=>$i(e,JSON.parse(a),l,n==="path"),[e,a,l,n])}function ch(e,t){return uh(e,t)}function uh(e,t,n){Vn()||ne(!1);let{navigator:s}=y.useContext(Jn),{matches:l}=y.useContext(Ht),a=l[l.length-1],i=a?a.params:{};a&&a.pathname;let o=a?a.pathnameBase:"/";a&&a.route;let c=Gn(),u;if(t){var m;let x=typeof t=="string"?Hn(t):t;o==="/"||(m=x.pathname)!=null&&m.startsWith(o)||ne(!1),u=x}else u=c;let p=u.pathname||"/",f=o==="/"?p:p.slice(o.length)||"/",g=Mp(e,{pathname:f}),j=hh(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},i,x.params),pathname:Ot([o,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?o:Ot([o,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),l,n);return t&&j?y.createElement(pl.Provider,{value:{location:Ks({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:It.Pop}},j):j}function dh(){let e=vh(),t=sh(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:l},n):null,null)}const mh=y.createElement(dh,null);class fh extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?y.createElement(Ht.Provider,{value:this.props.routeContext},y.createElement(Bd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ph(e){let{routeContext:t,match:n,children:s}=e,l=y.useContext(Bi);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Ht.Provider,{value:t},s)}function hh(e,t,n){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var l;if((l=n)!=null&&l.errors)e=n.matches;else return null}let a=e,i=(s=n)==null?void 0:s.errors;if(i!=null){let o=a.findIndex(c=>c.route.id&&(i==null?void 0:i[c.route.id]));o>=0||ne(!1),a=a.slice(0,Math.min(a.length,o+1))}return a.reduceRight((o,c,u)=>{let m=c.route.id?i==null?void 0:i[c.route.id]:null,p=null;n&&(p=c.route.errorElement||mh);let f=t.concat(a.slice(0,u+1)),g=()=>{let j;return m?j=p:c.route.Component?j=y.createElement(c.route.Component,null):c.route.element?j=c.route.element:j=o,y.createElement(ph,{match:c,routeContext:{outlet:o,matches:f,isDataRoute:n!=null},children:j})};return n&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?y.createElement(fh,{location:n.location,revalidation:n.revalidation,component:p,error:m,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}var Ua;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(Ua||(Ua={}));var _r;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(_r||(_r={}));function xh(e){let t=y.useContext(Bi);return t||ne(!1),t}function gh(e){let t=y.useContext(ah);return t||ne(!1),t}function yh(e){let t=y.useContext(Ht);return t||ne(!1),t}function Vd(e){let t=yh(),n=t.matches[t.matches.length-1];return n.route.id||ne(!1),n.route.id}function vh(){var e;let t=y.useContext(Bd),n=gh(_r.UseRouteError),s=Vd(_r.UseRouteError);return t||((e=n.errors)==null?void 0:e[s])}function jh(){let{router:e}=xh(Ua.UseNavigateStable),t=Vd(_r.UseNavigateStable),n=y.useRef(!1);return Wd(()=>{n.current=!0}),y.useCallback(function(l,a){a===void 0&&(a={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Ks({fromRouteId:t},a)))},[e,t])}function bh(e){let{to:t,replace:n,state:s,relative:l}=e;Vn()||ne(!1);let{matches:a}=y.useContext(Ht),{pathname:i}=Gn(),o=Hd(),c=$i(t,zi(a).map(m=>m.pathnameBase),i,l==="path"),u=JSON.stringify(c);return y.useEffect(()=>o(JSON.parse(u),{replace:n,state:s,relative:l}),[o,u,l,n,s]),null}function Qe(e){ne(!1)}function Nh(e){let{basename:t="/",children:n=null,location:s,navigationType:l=It.Pop,navigator:a,static:i=!1}=e;Vn()&&ne(!1);let o=t.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:o,navigator:a,static:i}),[o,a,i]);typeof s=="string"&&(s=Hn(s));let{pathname:u="/",search:m="",hash:p="",state:f=null,key:g="default"}=s,j=y.useMemo(()=>{let x=Ui(u,o);return x==null?null:{location:{pathname:x,search:m,hash:p,state:f,key:g},navigationType:l}},[o,u,m,p,f,g,l]);return j==null?null:y.createElement(Jn.Provider,{value:c},y.createElement(pl.Provider,{children:n,value:j}))}function wh(e){let{children:t,location:n}=e;return ch(za(t),n)}var oc;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(oc||(oc={}));new Promise(()=>{});function za(e,t){t===void 0&&(t=[]);let n=[];return y.Children.forEach(e,(s,l)=>{if(!y.isValidElement(s))return;let a=[...t,l];if(s.type===y.Fragment){n.push.apply(n,za(s.props.children,a));return}s.type!==Qe&&ne(!1),!s.props.index||!s.props.children||ne(!1);let i={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=za(s.props.children,a)),n.push(i)}),n}/**
 * React Router DOM v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $a(){return $a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$a.apply(this,arguments)}function kh(e,t){if(e==null)return{};var n={},s=Object.keys(e),l,a;for(a=0;a<s.length;a++)l=s[a],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function Sh(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ch(e,t){return e.button===0&&(!t||t==="_self")&&!Sh(e)}const Eh=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Ih="startTransition",cc=wm[Ih];function Lh(e){let{basename:t,children:n,future:s,window:l}=e,a=y.useRef();a.current==null&&(a.current=Fp({window:l,v5Compat:!0}));let i=a.current,[o,c]=y.useState({action:i.action,location:i.location}),{v7_startTransition:u}=s||{},m=y.useCallback(p=>{u&&cc?cc(()=>c(p)):c(p)},[c,u]);return y.useLayoutEffect(()=>i.listen(m),[i,m]),y.createElement(Nh,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i})}const Ah=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ph=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Th=y.forwardRef(function(t,n){let{onClick:s,relative:l,reloadDocument:a,replace:i,state:o,target:c,to:u,preventScrollReset:m}=t,p=kh(t,Eh),{basename:f}=y.useContext(Jn),g,j=!1;if(typeof u=="string"&&Ph.test(u)&&(g=u,Ah))try{let h=new URL(window.location.href),v=u.startsWith("//")?new URL(h.protocol+u):new URL(u),b=Ui(v.pathname,f);v.origin===h.origin&&b!=null?u=b+v.search+v.hash:j=!0}catch{}let x=ih(u,{relative:l}),N=Rh(u,{replace:i,state:o,target:c,preventScrollReset:m,relative:l});function d(h){s&&s(h),h.defaultPrevented||N(h)}return y.createElement("a",$a({},p,{href:g||x,onClick:j||a?s:d,ref:n,target:c}))});var uc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(uc||(uc={}));var dc;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(dc||(dc={}));function Rh(e,t){let{target:n,replace:s,state:l,preventScrollReset:a,relative:i}=t===void 0?{}:t,o=Hd(),c=Gn(),u=Jd(e,{relative:i});return y.useCallback(m=>{if(Ch(m,n)){m.preventDefault();let p=s!==void 0?s:Qs(c)===Qs(u);o(e,{replace:p,state:l,preventScrollReset:a,relative:i})}},[c,o,u,s,l,n,e,a,i])}const Gd=y.createContext(void 0),Dh="https://aal-front-end.vercel.app";function Fh({children:e}){const[t,n]=y.useState(!1),[s,l]=y.useState(null),[a,i]=y.useState(!0);y.useEffect(()=>{(()=>{try{const p=localStorage.getItem("aal_auth");if(p){const{user:f,token:g,timestamp:j}=JSON.parse(p);if(!(Date.now()-j>24*60*60*1e3)&&f&&g){const N={...f,createdAt:new Date(f.createdAt),updatedAt:new Date(f.updatedAt)};l(N),n(!0)}else localStorage.removeItem("aal_auth")}}catch(p){console.error("Error checking auth state:",p),localStorage.removeItem("aal_auth")}finally{i(!1)}})()},[]);const u={isAuthenticated:t,user:s,login:async(m,p)=>{try{console.log("🔐 Attempting login for:",m);const f=await fetch(`${Dh}/api/auth`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:m,password:p})}),g=await f.json();if(f.ok&&g.user){console.log("✅ Login successful for:",g.user.name);const j={...g.user,createdAt:new Date(g.user.createdAt),updatedAt:new Date(g.user.updatedAt)};return l(j),n(!0),localStorage.setItem("aal_auth",JSON.stringify({user:j,token:g.token,timestamp:Date.now()})),!0}else return console.log("❌ Login failed:",g.error),!1}catch(f){return console.error("🚨 Login error:",f),!1}},logout:()=>{l(null),n(!1),localStorage.removeItem("aal_auth")},loading:a};return r.jsx(Gd.Provider,{value:u,children:e})}function Qd(){const e=y.useContext(Gd);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const Kd=y.createContext({role:"admin",setRole:e=>{}}),_h=({children:e})=>{const[t,n]=y.useState("admin");return r.jsx(Kd.Provider,{value:{role:t,setRole:n},children:e})},Yd=()=>y.useContext(Kd);var Oh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Mh=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),U=(e,t)=>{const n=y.forwardRef(({color:s="currentColor",size:l=24,strokeWidth:a=2,absoluteStrokeWidth:i,children:o,...c},u)=>y.createElement("svg",{ref:u,...Oh,width:l,height:l,stroke:s,strokeWidth:i?Number(a)*24/Number(l):a,className:`lucide lucide-${Mh(e)}`,...c},[...t.map(([m,p])=>y.createElement(m,p)),...(Array.isArray(o)?o:[o])||[]]));return n.displayName=`${e}`,n},Qn=U("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Uh=U("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),Wi=U("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),Xd=U("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),mc=U("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),fc=U("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),pc=U("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Ys=U("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),zh=U("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),$h=U("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Un=U("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),qd=U("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Bh=U("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),xe=U("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),Wh=U("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Hh=U("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),Jh=U("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Zd=U("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Ba=U("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),cn=U("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),hc=U("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),xc=U("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]),em=U("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),gc=U("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),zn=U("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Kn=U("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Vh=U("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),yc=U("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),vc=U("Ship",[["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"iegodh"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4c0 2.9.94 5.34 2.81 7.76",key:"fp8vka"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M12 10v4",key:"1kjpxc"}],["path",{d:"M12 2v3",key:"qbqxhf"}]]),un=U("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Gh=U("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Wa=U("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),Qh=U("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Hl=U("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Hi=U("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Kh=U("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),ae=U("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Yh=[{to:"/",label:"Dashboard",icon:Bh},{to:"/clients",label:"Clients",icon:Hi},{to:"/jobs",label:"Jobs",icon:Xd},{to:"/invoices",label:"Invoices",icon:Un},{to:"/suppliers",label:"Suppliers",icon:Wa},{to:"/services",label:"Services",icon:Ys},{to:"/expenses",label:"Expenses",icon:Uh},{to:"/users",label:"Users",icon:Qh}];function Xh({children:e}){const{role:t,setRole:n}=Yd(),{user:s,logout:l}=Qd(),a=Gn(),i=()=>{confirm("Are you sure you want to logout?")&&l()};return r.jsx("div",{className:"h-screen bg-slate-50 text-slate-900 font-sans overflow-hidden",children:r.jsxs("div",{className:"flex h-full",children:[r.jsxs("aside",{className:"w-64 bg-white border-r h-full fixed left-0 top-0 flex flex-col z-30",children:[r.jsx("div",{className:"p-5 border-b",children:r.jsxs("div",{className:"flex flex-col items-start",children:[r.jsx("img",{src:"/logo.jpeg",alt:"AAL Logo",className:"w-24 h-24 object-contain mb-3"}),r.jsx("div",{className:"text-xl font-bold text-sky-700",children:"AAL Invoice"}),r.jsx("div",{className:"text-sm text-slate-500",children:"Operations Dashboard"})]})}),r.jsx("nav",{className:"p-4 flex-1 overflow-y-auto",children:r.jsx("ul",{className:"space-y-1",children:Yh.map(o=>{const c=o.icon,u=a.pathname===o.to||o.to!=="/"&&a.pathname.startsWith(o.to);return r.jsx("li",{children:r.jsxs(Th,{to:o.to,className:`flex items-center gap-3 px-3 py-2 rounded ${u?"bg-sky-50 text-sky-700 font-medium":"text-slate-700 hover:bg-slate-50"}`,children:[r.jsx(c,{className:"w-4 h-4"}),r.jsx("span",{children:o.label})]})},o.to)})})}),r.jsx("div",{className:"p-4 border-t",children:r.jsxs("button",{onClick:i,className:"w-full text-left text-sm text-slate-600 hover:text-red-600 flex items-center gap-2",children:[r.jsx(Jh,{className:"w-4 h-4"})," Logout"]})})]}),r.jsxs("div",{className:"flex-1 ml-64 flex flex-col h-full",children:[r.jsx("header",{className:"bg-white border-b fixed top-0 right-0 left-64 z-20",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-3 flex items-center justify-between",children:[r.jsx("div",{}),r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("div",{className:"text-sm text-slate-600",children:["Signed in as"," ",r.jsx("span",{className:"font-medium",children:(s==null?void 0:s.email)||"admin@example.com"})]})})]})}),r.jsx("main",{className:"flex-1 overflow-y-auto pt-16 p-6 max-w-6xl mx-auto w-full",children:e})]})]})})}let We=dn("users",[{id:"u1",name:"John Administrator",email:"admin@aal.com",role:"admin",department:"IT",phone:"+1-555-0101",isActive:!0,createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{id:"u2",name:"Sarah Finance",email:"finance@aal.com",role:"finance",department:"Finance",phone:"+1-555-0102",isActive:!0,createdAt:new Date("2024-01-02"),updatedAt:new Date("2024-01-02")},{id:"u3",name:"Mike Operations",email:"operations@aal.com",role:"operations",department:"Operations",phone:"+1-555-0103",isActive:!0,createdAt:new Date("2024-01-03"),updatedAt:new Date("2024-01-03")},{id:"u4",name:"Lisa Johnson",email:"lisa@acmecorp.com",role:"client",department:"Procurement",phone:"+1-555-0104",isActive:!0,createdAt:new Date("2024-01-04"),updatedAt:new Date("2024-01-04")},{id:"u5",name:"David Chen",email:"david@betalink.com",role:"client",department:"Logistics",phone:"+1-555-0105",isActive:!1,createdAt:new Date("2024-01-05"),updatedAt:new Date("2024-02-15")}]);const rt="aal_demo_v1:";function dn(e,t){try{const n=localStorage.getItem(rt+e);return n?JSON.parse(n):t}catch{return t}}function jt(e,t){try{localStorage.setItem(rt+e,JSON.stringify(t))}catch{}}let Re=dn("clients",[]);function qh(e){Re=[e,...Re],jt("clients",Re)}function Zh(e,t){Re=Re.map(n=>n.id===e?{...n,...t}:n),jt("clients",Re)}function ex(e){Re=Re.filter(t=>t.id!==e),jt("clients",Re)}dn("suppliers",[{id:"s1",name:"Supplier One",contact:"sup1@example.com"},{id:"s2",name:"Parts & Equipment",contact:"parts@example.com"},{id:"s3",name:"Office Supplies Co",contact:"office@example.com"},{id:"s4",name:"Tech Hardware Ltd",contact:"tech@example.com"}]);const us=dn("services",[{id:"sv1",name:"Consulting",price:500,currency:"USD",vat:!0},{id:"sv2",name:"Delivery",price:50,currency:"USD",vat:!1},{id:"sv3",name:"Installation",price:800,currency:"USD",vat:!0},{id:"sv4",name:"Maintenance",price:300,currency:"USD",vat:!0},{id:"sv5",name:"Training",price:200,currency:"USD",vat:!1}]);function tx(e){console.warn("addService is deprecated - use api.services.create() instead");const t=[e,...ie.servicesMock||[]];try{localStorage.setItem(rt+"services",JSON.stringify(t))}catch{}ie.servicesMock=t}function nx(e,t){console.warn("updateService is deprecated - use api.services.update() instead");const s=(ie.servicesMock||[]).map(l=>l.id===e?{...l,...t}:l);try{localStorage.setItem(rt+"services",JSON.stringify(s))}catch{}ie.servicesMock=s}function rx(e){console.warn("deleteService is deprecated - use api.services.delete() instead");const n=(ie.servicesMock||[]).filter(s=>s.id!==e);try{localStorage.setItem(rt+"services",JSON.stringify(n))}catch{}ie.servicesMock=n}const Jl=dn("jobs",[]);let De=dn("invoices",[{id:"i1",number:"RW-CI-22-00275",clientId:"c1",clientName:"Acme Corp",jobId:"j1",jobNumber:"AF-2024-001",bookingNumber:"RW-BK-22-00279",status:"unpaid",invoiceDate:new Date("2024-01-22"),dueDate:new Date("2024-02-22"),lineItems:[{id:"li1-1",description:"Seafreight Charges",basedOn:"Shipment",rate:6500,currency:"USD",amount:6500,billingAmount:6500},{id:"li1-2",description:"Transport Charges New York-Kigali",basedOn:"Shipment",rate:4e3,currency:"USD",amount:4e3,billingAmount:4e3}],subTotal:10500,total:10500,currency:"USD",amountInWords:"Ten Thousand Five Hundred Dollars And Zero Cents",remarks:""},{id:"i2",number:"RW-CI-22-00276",clientId:"c2",clientName:"Beta LLC",jobId:"j2",jobNumber:"SF-2024-002",bookingNumber:"RW-BK-22-00280",status:"paid",invoiceDate:new Date("2024-02-12"),dueDate:new Date("2024-03-12"),lineItems:[{id:"li2-1",description:"Sea Freight Charges - Container",basedOn:"Shipment",rate:8500,currency:"USD",amount:8500,billingAmount:8500},{id:"li2-2",description:"Port Handling Charges",basedOn:"Shipment",rate:1200,currency:"USD",amount:1200,billingAmount:1200}],subTotal:9700,total:9700,currency:"USD",amountInWords:"Nine Thousand Seven Hundred Dollars And Zero Cents"},{id:"i3",number:"RW-CI-22-00277",clientId:"c3",clientName:"TechStart Inc",jobId:"j3",jobNumber:"RF-2024-003",bookingNumber:"RW-BK-22-00281",status:"paid",invoiceDate:new Date("2024-02-18"),dueDate:new Date("2024-03-18"),lineItems:[{id:"li3-1",description:"Road Freight Charges",basedOn:"Shipment",rate:3500,currency:"USD",amount:3500,billingAmount:3500},{id:"li3-2",description:"Loading/Unloading Charges",basedOn:"Shipment",rate:500,currency:"USD",amount:500,billingAmount:500}],subTotal:4e3,total:4e3,currency:"USD",amountInWords:"Four Thousand Dollars And Zero Cents"},{id:"i4",number:"RW-CI-22-00278",clientId:"c4",clientName:"Global Solutions",jobId:"j4",jobNumber:"AF-2024-004",bookingNumber:"RW-BK-22-00282",status:"paid",invoiceDate:new Date("2024-02-28"),dueDate:new Date("2024-03-28"),lineItems:[{id:"li4-1",description:"Air Freight Charges - Express",basedOn:"Qty & UOM",rate:12.5,currency:"USD",amount:3125,billingAmount:3125},{id:"li4-2",description:"Temperature Control Service",basedOn:"Shipment",rate:800,currency:"USD",amount:800,billingAmount:800}],subTotal:3925,total:3925,currency:"USD",amountInWords:"Three Thousand Nine Hundred Twenty Five Dollars And Zero Cents"},{id:"i5",number:"RW-CI-22-00279",clientId:"c5",clientName:"Creative Agency",jobId:"j5",jobNumber:"SF-2024-005",bookingNumber:"RW-BK-22-00283",status:"unpaid",invoiceDate:new Date("2024-03-08"),dueDate:new Date("2024-04-08"),lineItems:[{id:"li5-1",description:"Sea Freight Charges - FCL",basedOn:"Shipment",rate:7200,currency:"USD",amount:7200,billingAmount:7200},{id:"li5-2",description:"Customs Clearance",basedOn:"Shipment",rate:450,currency:"USD",amount:450,billingAmount:450}],subTotal:7650,total:7650,currency:"USD",amountInWords:"Seven Thousand Six Hundred Fifty Dollars And Zero Cents"}]);function sx(e){De=[e,...De],jt("invoices",De)}function lx(e,t){De=De.map(n=>n.id===e?{...n,...t}:n),jt("invoices",De)}function ax(e){De=De.filter(t=>t.id!==e),jt("invoices",De)}const ds=dn("expenses",[{id:"e1",title:"Equipment parts",amount:320,currency:"USD",jobNumber:"1001",supplierId:"s1",supplierName:"Parts & Equipment"},{id:"e2",title:"Office supplies",amount:150,currency:"USD",supplierId:"s3",supplierName:"Office Supplies Co"},{id:"e3",title:"Hardware components",amount:890,currency:"USD",jobNumber:"1003",supplierId:"s4",supplierName:"Tech Hardware Ltd"},{id:"e4",title:"Maintenance tools",amount:245,currency:"USD",jobNumber:"1002",supplierId:"s2",supplierName:"Parts & Equipment"},{id:"e5",title:"Training materials",amount:125,currency:"USD",jobNumber:"1004",supplierId:"s3",supplierName:"Office Supplies Co"}]);function ix(e){const t=[e,...ie.jobsMock||[]];try{localStorage.setItem(rt+"jobs",JSON.stringify(t))}catch{}ie.jobsMock=t}function ox(e,t){const s=(ie.jobsMock||[]).map(l=>l.id===e?{...l,...t}:l);try{localStorage.setItem(rt+"jobs",JSON.stringify(s))}catch{}ie.jobsMock=s}function cx(e){const n=(ie.jobsMock||[]).filter(s=>s.id!==e);try{localStorage.setItem(rt+"jobs",JSON.stringify(n))}catch{}ie.jobsMock=n}function ux(e){console.warn("⚠️ DEPRECATED: addExpense() is deprecated. Use database operations via api/expenses.js instead.");const t=[e,...ie.expensesMock||[]];try{localStorage.setItem(rt+"expenses",JSON.stringify(t))}catch{}ie.expensesMock=t}function dx(e,t){console.warn("⚠️ DEPRECATED: updateExpense() is deprecated. Use database operations via api/expenses.js instead.");const s=(ie.expensesMock||[]).map(l=>l.id===e?{...l,...t}:l);try{localStorage.setItem(rt+"expenses",JSON.stringify(s))}catch{}ie.expensesMock=s}function mx(e){console.warn("⚠️ DEPRECATED: deleteExpense() is deprecated. Use database operations via api/expenses.js instead.");const n=(ie.expensesMock||[]).filter(s=>s.id!==e);try{localStorage.setItem(rt+"expenses",JSON.stringify(n))}catch{}ie.expensesMock=n}function fx(e){We=[e,...We],jt("users",We)}function px(e,t){We=We.map(n=>n.id===e?{...n,...t}:n),jt("users",We)}function hx(e){We=We.filter(t=>t.id!==e),jt("users",We)}const tm="https://aal-front-end.vercel.app";let Ze=!0,M=!0;function zt(){return!Ze&&!M}function Br(){Ze=!0}function jc(e=!0){M=e}async function mn(){try{Br();const e=await fetch(`${tm}/api/clients`,{headers:{"Content-Type":"application/json",Accept:"application/json"}}),t=e.headers.get("content-type"),n=await e.text();if(n.includes("import {")||n.includes("export default")||n.match(/function\s+handler\(/))return M||(Ze=!1),!1;if(t&&t.includes("application/json"))try{try{return JSON.parse(n),!0}catch{if(nm(n)){const a=atob(n);return JSON.parse(a),!0}else return M||(Ze=!1),!1}}catch{return M||(Ze=!1),!1}else return M||(Ze=!1),!1}catch{return M||(Ze=!1),!1}}async function O(e,t){if(!Ze&&!M)throw new Error("API not available - using fallback");const n=`${tm}/api${e}`,s={headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"},l={...s,...t};l.headers={...s.headers,...(t==null?void 0:t.headers)||{}};try{const a=await fetch(n,l),i=await a.text(),o=a.headers.get("content-type"),c=i.substring(0,500);if(c.includes("import {")||c.includes("export default")||c.match(/function\s+handler\(/))throw M||(Ze=!1),new Error("API server issue: Returning source code instead of executing it");if(!o||!o.includes("application/json"))throw M||(Ze=!1),new Error(`API returned non-JSON response (${o||"unknown type"})`);if(!a.ok)try{const m=JSON.parse(i);let p=m.error||`HTTP ${a.status}: ${a.statusText}`;if(m.details)if(typeof m.details=="object"){const f=[];m.details.jobs!==void 0&&f.push(`${m.details.jobs} job(s)`),m.details.invoices!==void 0&&f.push(`${m.details.invoices} invoice(s)`),f.length>0&&(p+=` (${f.join(", ")})`)}else p+=` - ${m.details}`;throw new Error(p)}catch(m){throw m instanceof Error&&m.message.includes("Cannot delete client")?m:new Error(`HTTP ${a.status}: ${a.statusText} - Invalid JSON response`)}try{return JSON.parse(i)}catch{if(nm(i))try{const p=atob(i);return JSON.parse(p)}catch{throw new Error("Invalid API response format")}else throw new Error("Invalid API response format")}}catch(a){throw M||(Ze=!1),a}}function nm(e){try{return btoa(atob(e))===e}catch{return!1}}function Ne(e){if(e==null)return e;if(Array.isArray(e))return e.map(t=>Ne(t));if(typeof e=="object"){const t={};for(const[n,s]of Object.entries(e))(n==="createdAt"||n==="updatedAt"||n.includes("Date"))&&typeof s=="string"&&!isNaN(Date.parse(s))?t[n]=new Date(s):typeof s=="object"?t[n]=Ne(s):t[n]=s;return t}return e}function Yn(){return"id_"+Math.random().toString(36).substr(2,9)}const xx={getAll:async()=>{try{return await O("/invoices")}catch{return{invoices:De,total:De.length}}},getById:async e=>{try{return await O(`/invoices?id=${e}`)}catch{const n=De.find(s=>s.id===e);if(!n)throw new Error("Invoice not found");return n}},create:async e=>{try{const t=await O("/invoices",{method:"POST",body:JSON.stringify(e)});return(t==null?void 0:t.invoice)||t}catch{const n={...e,id:Yn()};return sx(n),n}},update:async(e,t)=>{try{const n=await O(`/invoices?id=${e}`,{method:"PUT",body:JSON.stringify(t)});return(n==null?void 0:n.invoice)||n}catch{return lx(e,t),{...t,id:e}}},delete:async e=>{try{return await O(`/invoices?id=${e}`,{method:"DELETE"})}catch{const n=De.find(s=>s.id===e);if(n)return ax(e),{message:"Invoice deleted successfully",invoice:n};throw new Error("Invoice not found")}}},gx={getAll:async e=>{try{const t=new URLSearchParams;e!=null&&e.type&&t.append("type",e.type),e!=null&&e.status&&t.append("status",e.status),e!=null&&e.clientId&&t.append("clientId",e.clientId);const n=t.toString(),s=n?`/jobs?${n}`:"/jobs";return await O(s)}catch{let n=[...Jl];return e!=null&&e.type&&(n=n.filter(s=>s.jobType===e.type)),e!=null&&e.status&&(n=n.filter(s=>s.status===e.status)),e!=null&&e.clientId&&(n=n.filter(s=>s.clientId===e.clientId)),{jobs:n,total:n.length,filters:e||{}}}},getById:async e=>{try{const t=await O(`/jobs?id=${e}`);return Ne(t)}catch{const n=Jl.find(s=>s.id===e);if(!n)throw new Error("Job not found");return n}},create:async e=>{try{const t=await O("/jobs",{method:"POST",body:JSON.stringify(e)}),n=(t==null?void 0:t.job)||t;return Ne(n)}catch{const n={...e,id:Yn()};return ix(n),n}},update:async(e,t)=>{try{const n=await O(`/jobs?id=${e}`,{method:"PUT",body:JSON.stringify(t)}),s=(n==null?void 0:n.job)||n;return Ne(s)}catch{return ox(e,t),{...t,id:e}}},delete:async e=>{try{const t=await O(`/jobs?id=${e}`,{method:"DELETE"});return{...t,job:t!=null&&t.job?Ne(t.job):t==null?void 0:t.job}}catch{const n=Jl.find(s=>s.id===e);if(n)return cx(e),{message:"Job deleted successfully",job:n};throw new Error("Job not found")}}},yx={getAll:async()=>{try{const e=await O("/services");if(e&&Array.isArray(e.services))return e;throw new Error("Invalid response format from API")}catch(e){if(M)throw new Error(`API Error: ${e instanceof Error?e.message:"Unknown error"}`);return{services:us,total:us.length}}},getById:async e=>{try{const t=await O(`/services?id=${e}`);if(t&&t.id)return t;throw new Error("Service not found or invalid response format")}catch(t){if(M)throw new Error(`Failed to get service: ${t instanceof Error?t.message:"Unknown error"}`);const n=us.find(s=>s.id===e);if(!n)throw new Error("Service not found");return n}},create:async e=>{try{const t=await O("/services",{method:"POST",body:JSON.stringify(e)});return(t==null?void 0:t.service)||t}catch(t){if(M)throw new Error(`Failed to create service: ${t instanceof Error?t.message:"Unknown error"}`);const n={...e,id:Yn()};return tx(n),n}},update:async(e,t)=>{try{const n=await O(`/services?id=${e}`,{method:"PUT",body:JSON.stringify(t)});return(n==null?void 0:n.service)||n}catch(n){if(M)throw new Error(`Failed to update service: ${n instanceof Error?n.message:"Unknown error"}`);return nx(e,t),{...t,id:e}}},delete:async e=>{try{return await O(`/services?id=${e}`,{method:"DELETE"})}catch(t){if(M)throw new Error(`Failed to delete service: ${t instanceof Error?t.message:"Unknown error"}`);const n=us.find(s=>s.id===e);if(n)return rx(e),{message:"Service deleted successfully",service:n};throw new Error("Service not found")}}},vx={getAll:async()=>{try{const e=await O("/expenses");if(e&&Array.isArray(e.expenses))return e;throw new Error("Invalid response format from API")}catch(e){if(M)throw new Error(`API Error: ${e instanceof Error?e.message:"Unknown error"}`);return{expenses:ds,total:ds.length}}},getById:async e=>{try{const t=await O(`/expenses?id=${e}`);if(t&&t.id)return t;throw new Error("Expense not found or invalid response format")}catch(t){if(M)throw new Error(`Failed to get expense: ${t instanceof Error?t.message:"Unknown error"}`);const n=ds.find(s=>s.id===e);if(!n)throw new Error("Expense not found");return n}},create:async e=>{try{const t=await O("/expenses",{method:"POST",body:JSON.stringify(e)});return(t==null?void 0:t.expense)||t}catch(t){if(M)throw new Error(`Failed to create expense: ${t instanceof Error?t.message:"Unknown error"}`);const n={...e,id:Yn()};return ux(n),n}},update:async(e,t)=>{try{const n=await O(`/expenses?id=${e}`,{method:"PUT",body:JSON.stringify(t)});return(n==null?void 0:n.expense)||n}catch(n){if(M)throw new Error(`Failed to update expense: ${n instanceof Error?n.message:"Unknown error"}`);return dx(e,t),{...t,id:e}}},delete:async e=>{try{return await O(`/expenses?id=${e}`,{method:"DELETE"})}catch(t){if(M)throw new Error(`Failed to delete expense: ${t instanceof Error?t.message:"Unknown error"}`);const n=ds.find(s=>s.id===e);if(n)return mx(e),{message:"Expense deleted successfully",expense:n};throw new Error("Expense not found")}}},jx={getAll:async()=>{try{const e=await O("/clients");if(e&&Array.isArray(e.clients))return{...e,clients:e.clients.map(n=>Ne(n))};throw new Error("Invalid response format from API")}catch(e){if(M)throw new Error(`API Error: ${e instanceof Error?e.message:"Unknown error"}`);return{clients:Re,total:Re.length}}},getById:async e=>{try{const t=await O(`/clients?id=${e}`);if(t&&t.id)return Ne(t);throw new Error("Client not found or invalid response format")}catch(t){if(M)throw new Error(`Failed to get client: ${t instanceof Error?t.message:"Unknown error"}`);const n=Re.find(s=>s.id===e);if(!n)throw new Error("Client not found");return n}},create:async e=>{try{const t=await O("/clients",{method:"POST",body:JSON.stringify(e)}),n=(t==null?void 0:t.client)||t;return Ne(n)}catch(t){if(M)throw new Error(`Failed to create client: ${t instanceof Error?t.message:"Unknown error"}`);const n={...e,id:Yn()};return qh(n),n}},update:async(e,t)=>{try{const n=await O(`/clients?id=${e}`,{method:"PUT",body:JSON.stringify(t)}),s=(n==null?void 0:n.client)||n;return Ne(s)}catch(n){if(M)throw new Error(`Failed to update client: ${n instanceof Error?n.message:"Unknown error"}`);return Zh(e,t),{...t,id:e}}},delete:async e=>{try{return await O(`/clients?id=${e}`,{method:"DELETE"})}catch(t){if(M)throw new Error(`Failed to delete client: ${t instanceof Error?t.message:"Unknown error"}`);const n=Re.find(s=>s.id===e);if(n)return ex(e),{message:"Client deleted successfully",client:n};throw new Error("Client not found")}}},bx={hello:async e=>{const t=e?`/hello?name=${e}`:"/hello";return O(t)}},Nx={getAnalytics:async()=>{try{const e=await O("/dashboard");if(e&&e.success)return e;throw new Error("Invalid response format from dashboard API")}catch(e){if(M)throw new Error(`Dashboard API Error: ${e instanceof Error?e.message:"Unknown error"}`);return{metrics:{totalClients:0,totalInvoices:0,openInvoices:0,activeJobs:0,totalRevenue:0,totalExpenses:0,netRevenue:0},recentJobs:[],recentInvoices:[],charts:{salesLast7Days:[],salesLast6Months:[],expensesByCategory:[]},generatedAt:new Date().toISOString(),success:!1}}}},wx={getAll:async()=>{try{const e=await O("/suppliers");if(e&&Array.isArray(e.suppliers))return e;throw new Error("Invalid response format from API")}catch(e){if(M)throw new Error(`API Error: ${e instanceof Error?e.message:"Unknown error"}`);return{suppliers:[],total:0}}},getById:async e=>{try{const t=await O(`/suppliers?id=${e}`);if(t&&t.id)return t;throw new Error("Supplier not found or invalid response format")}catch(t){throw M?new Error(`Failed to get supplier: ${t instanceof Error?t.message:"Unknown error"}`):new Error("Supplier not found")}},create:async e=>{try{const t=await O("/suppliers",{method:"POST",body:JSON.stringify(e)});return(t==null?void 0:t.supplier)||t}catch(t){throw M?new Error(`Failed to create supplier: ${t instanceof Error?t.message:"Unknown error"}`):new Error("Failed to create supplier")}},update:async(e,t)=>{try{const n=await O(`/suppliers?id=${e}`,{method:"PUT",body:JSON.stringify(t)});return(n==null?void 0:n.supplier)||n}catch(n){throw M?new Error(`Failed to update supplier: ${n instanceof Error?n.message:"Unknown error"}`):new Error("Failed to update supplier")}},delete:async e=>{try{return await O(`/suppliers?id=${e}`,{method:"DELETE"})}catch(t){throw M?new Error(`Failed to delete supplier: ${t instanceof Error?t.message:"Unknown error"}`):new Error("Failed to delete supplier")}}},kx={getAll:async e=>{try{const t=new URLSearchParams;e!=null&&e.role&&t.append("role",e.role),(e==null?void 0:e.isActive)!==void 0&&t.append("isActive",e.isActive.toString());const n=t.toString(),s=n?`/users?${n}`:"/users",l=await O(s);if(l&&Array.isArray(l.users))return{...l,users:l.users.map(i=>Ne(i))};throw new Error("Invalid response format from API")}catch(t){if(M)throw new Error(`API Error: ${t instanceof Error?t.message:"Unknown error"}`);let n=[...We];return e!=null&&e.role&&(n=n.filter(s=>s.role===e.role)),(e==null?void 0:e.isActive)!==void 0&&(n=n.filter(s=>s.isActive===e.isActive)),{users:n,total:n.length,filters:e||{}}}},getById:async e=>{try{const t=await O(`/users?id=${e}`);if(t&&t.id)return Ne(t);throw new Error("User not found or invalid response format")}catch(t){if(M)throw new Error(`Failed to get user: ${t instanceof Error?t.message:"Unknown error"}`);const n=We.find(s=>s.id===e);if(!n)throw new Error("User not found");return n}},create:async e=>{try{const t=await O("/users",{method:"POST",body:JSON.stringify(e)}),n=(t==null?void 0:t.user)||t;return Ne(n)}catch(t){if(M)throw new Error(`Failed to create user: ${t instanceof Error?t.message:"Unknown error"}`);const n={...e,id:Yn()};return fx(n),n}},update:async(e,t)=>{try{const n=await O(`/users?id=${e}`,{method:"PUT",body:JSON.stringify(t)}),s=(n==null?void 0:n.user)||n;return Ne(s)}catch(n){if(M)throw new Error(`Failed to update user: ${n instanceof Error?n.message:"Unknown error"}`);return px(e,t),{...t,id:e}}},delete:async e=>{try{const t=await O(`/users?id=${e}`,{method:"DELETE"});return{...t,user:t!=null&&t.user?Ne(t.user):t==null?void 0:t.user}}catch(t){if(M)throw new Error(`Failed to delete user: ${t instanceof Error?t.message:"Unknown error"}`);const n=We.find(s=>s.id===e);if(n)return hx(e),{message:"User deleted successfully",user:n};throw new Error("User not found")}}},$={invoices:xx,jobs:gx,clients:jx,users:kx,services:yx,expenses:vx,suppliers:wx,dashboard:Nx,legacy:bx,base64test:{getText:async()=>{try{return await O("/base64test/text")}catch{return{base64Data:btoa("This is a test string encoded in base64"),decodedText:"This is a test string encoded in base64"}}},getImage:async()=>{try{return await O("/base64test/image")}catch{return{base64Data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8z8BQDwAEhQGAhKmMIQAAAABJRU5ErkJggg=="}}},decode:async e=>{try{return await O("/base64test/decode",{method:"POST",body:JSON.stringify(e)})}catch{try{return{decodedText:atob(e.base64string)}}catch{return{decodedText:"Invalid base64 string"}}}}},testConnection:async()=>({available:await mn(),timestamp:new Date().toISOString()})};function Sx(){const[e,t]=y.useState(!1),[n,s]=y.useState(null),l=async()=>{t(!0);const a=await mn();s(a),t(!1),a&&window.location.reload()};return zt()?r.jsxs("div",{className:"fixed bottom-4 right-4 bg-white border border-gray-300 rounded-lg shadow-lg p-4 max-w-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:"API Connection"}),r.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded",children:"Using Mock Data"})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Connect to your Vercel Postgres database to use real data."}),r.jsx("button",{onClick:l,disabled:e,className:"w-full px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:e?"Testing...":"Test API Connection"}),n!==null&&r.jsx("div",{className:`mt-2 text-xs ${n?"text-green-600":"text-red-600"}`,children:n?"✅ Connected!":"❌ Still offline"}),r.jsx("div",{className:"mt-2 text-xs text-gray-500",children:r.jsx("a",{href:"https://vercel.com/dashboard",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Set up database →"})})]}):null}function bc(){const e=[],t=[];for(let s=6;s>=0;s--){const l=new Date;l.setDate(l.getDate()-s);const a=Math.random()*1e7+2e6;e.push({date:l.toLocaleDateString("en-US",{month:"short",day:"numeric"}),value:a})}return["Apr","May","Jun","Jul","Aug","Sep"].forEach(s=>{const l=Math.random()*8e6+6e6;t.push({month:s,value:l})}),{last7Days:e,last6Months:t}}function Cx(){return[{category:"FUEL",value:25,color:"#ef4444"},{category:"FRAIS DE MISSION",value:15,color:"#3b82f6"},{category:"MONTHLY FIXED PAYMENT",value:35,color:"#f59e0b"},{category:"MAINTENANCE",value:10,color:"#10b981"},{category:"VIDANGE",value:8,color:"#8b5cf6"},{category:"AVANCE SUR FACTURE",value:7,color:"#06b6d4"}]}function Ex({data:e,title:t}){const n=Math.max(...e.map(p=>p.value)),s=400,l=200,a=40,i=(s-2*a)/(e.length-1),o=(l-2*a)/n,c=e.map((p,f)=>({x:a+f*i,y:l-a-p.value*o})),u=c.reduce((p,f,g)=>p+(g===0?`M ${f.x} ${f.y}`:` L ${f.x} ${f.y}`),""),m=u+` L ${c[c.length-1].x} ${l-a} L ${a} ${l-a} Z`;return r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:t}),r.jsx("div",{className:"mb-4",children:r.jsxs("span",{className:"inline-flex items-center gap-2 text-sm",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),"Sales"]})}),r.jsxs("svg",{width:s,height:l,className:"overflow-visible",children:[r.jsx("defs",{children:r.jsx("pattern",{id:"grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:r.jsx("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:"#f1f5f9",strokeWidth:"1"})})}),r.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"}),r.jsx("path",{d:m,fill:"rgba(59, 130, 246, 0.1)"}),r.jsx("path",{d:u,fill:"none",stroke:"#3b82f6",strokeWidth:"2"}),c.map((p,f)=>r.jsx("circle",{cx:p.x,cy:p.y,r:"3",fill:"#3b82f6"},f)),e.map((p,f)=>r.jsx("text",{x:a+f*i,y:l-10,textAnchor:"middle",className:"text-xs fill-gray-600",children:p.date||p.month},f)),[0,2e6,4e6,6e6,8e6,1e7,12e6,14e6].map((p,f)=>r.jsxs("text",{x:10,y:l-a-p*o,textAnchor:"start",className:"text-xs fill-gray-600",children:[p/1e6,"M"]},f))]})]})}function Ix({data:e,title:t}){const n=Math.max(...e.map(c=>c.value)),s=400,l=200,a=40,i=(s-2*a)/e.length*.8,o=(s-2*a)/e.length;return r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:t}),r.jsx("div",{className:"mb-4",children:r.jsxs("span",{className:"inline-flex items-center gap-2 text-sm",children:[r.jsx("div",{className:"w-3 h-3 bg-teal-500 rounded"}),"Sales"]})}),r.jsxs("svg",{width:s,height:l,children:[e.map((c,u)=>{const m=c.value/n*(l-2*a),p=a+u*o+(o-i)/2,f=l-a-m;return r.jsxs("g",{children:[r.jsx("rect",{x:p,y:f,width:i,height:m,fill:"#14b8a6",opacity:.8}),r.jsx("text",{x:p+i/2,y:l-10,textAnchor:"middle",className:"text-xs fill-gray-600",children:c.month})]},u)}),[0,2e6,4e6,6e6,8e6,1e7,12e6,14e6].map((c,u)=>r.jsxs("text",{x:10,y:l-a-c/n*(l-2*a),textAnchor:"start",className:"text-xs fill-gray-600",children:[c/1e6,"M"]},u))]})]})}function Lx({data:e,title:t}){const n=e.reduce((c,u)=>c+u.value,0),s=120,l=120,a=80,i=40;let o=0;return r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:t}),r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsx("svg",{width:240,height:240,children:e.map((c,u)=>{const p=c.value/n*2*Math.PI,f=o,g=o+p,j=s+Math.cos(f)*a,x=l+Math.sin(f)*a,N=s+Math.cos(g)*a,d=l+Math.sin(g)*a,h=s+Math.cos(g)*i,v=l+Math.sin(g)*i,b=s+Math.cos(f)*i,k=l+Math.sin(f)*i,C=p>Math.PI?1:0,S=[`M ${j} ${x}`,`A ${a} ${a} 0 ${C} 1 ${N} ${d}`,`L ${h} ${v}`,`A ${i} ${i} 0 ${C} 0 ${b} ${k}`,"Z"].join(" ");return o+=p,r.jsx("path",{d:S,fill:c.color,opacity:.9},u)})}),r.jsx("div",{className:"flex-1",children:r.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:e.map((c,u)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:c.color}}),r.jsx("span",{className:"text-gray-600",children:c.category})]},u))})})]})]})}function Ax({dashboardData:e}){if(!e||!e.success)return r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-8",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Sales - Last 7 Days"}),r.jsx("div",{className:"flex justify-center items-center h-48",children:r.jsx("div",{className:"animate-pulse text-gray-400",children:"Loading chart data..."})})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Sales - Last 6 Months"}),r.jsx("div",{className:"flex justify-center items-center h-48",children:r.jsx("div",{className:"animate-pulse text-gray-400",children:"Loading chart data..."})})]}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Expenses by Category"}),r.jsx("div",{className:"flex justify-center items-center h-48",children:r.jsx("div",{className:"animate-pulse text-gray-400",children:"Loading chart data..."})})]})})]});const t=()=>({last7Days:e.charts.salesLast7Days.length>0?e.charts.salesLast7Days:bc().last7Days,last6Months:e.charts.salesLast6Months.length>0?e.charts.salesLast6Months:bc().last6Months,expensesData:e.charts.expensesByCategory.length>0?e.charts.expensesByCategory:Cx()}),{last7Days:n,last6Months:s,expensesData:l}=t();return r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-8",children:[r.jsx(Ex,{data:n,title:`Sales - Last 7 Days ${e.charts.salesLast7Days.length>0?"(Real Data)":"(Sample Data)"}`}),r.jsx(Ix,{data:s,title:`Sales - Last 6 Months ${e.charts.salesLast6Months.length>0?"(Real Data)":"(Sample Data)"}`}),r.jsx("div",{className:"lg:col-span-1",children:r.jsx(Lx,{data:l,title:`Expenses by Category ${e.charts.expensesByCategory.length>0?"(Real Data)":"(Sample Data)"}`})})]})}function Px(){const[e,t]=y.useState(""),[n,s]=y.useState(!1),[l,a]=y.useState(""),[i,o]=y.useState(""),c=async()=>{s(!0),t("Testing API connection...");try{const d=await mn();t(`API connection test: ${d?"SUCCESS":"FAILED"}
Using fallback: ${zt()}`)}catch(d){t(`Error testing API: ${d instanceof Error?d.message:String(d)}`)}finally{s(!1)}},u=async()=>{s(!0),t("Fetching clients...");try{const d=await $.clients.getAll();t(`Fetched ${d.total} clients:
${JSON.stringify(d,null,2)}`)}catch(d){t(`Error fetching clients: ${d instanceof Error?d.message:String(d)}`)}finally{s(!1)}},m=()=>{Br(),t("API availability reset. Now trying auto-detect mode."),jc(!1)},p=()=>{jc(!0),t("Forced real API mode enabled. Will ignore API availability checks.")},f=async()=>{s(!0),t("Checking API server configuration...");try{const d=await fetch("http://localhost:3000/api/clients"),h=`Status: ${d.status} ${d.statusText}`,v=`Content-Type: ${d.headers.get("content-type")||"none"}`,b=await d.text(),k=b.includes("import {")||b.includes("export default")||b.match(/function\s+handler\(/);t(k?`❌ API SERVER CONFIGURATION ERROR!

${h}
${v}

The API is returning its source code instead of executing it.
This indicates that the Vercel development server is not properly handling API routes.

TROUBLESHOOTING STEPS:
1. Make sure you're running 'vercel dev' and not just 'vite'
2. Check that your 'api' directory is correctly set up
3. Restart the Vercel dev server
4. Check for any errors in the terminal

Response preview:
${b.substring(0,300)}...`:`API Configuration Check:

${h}
${v}

Response preview (first 300 chars):
${b.substring(0,300)}...`)}catch(d){t(`Error checking API configuration: ${d instanceof Error?d.message:String(d)}`)}finally{s(!1)}},g=async()=>{s(!0),t("Testing base64 text endpoint...");try{const d=await $.base64test.getText();if(t(`Base64 Text Result:
${JSON.stringify(d,null,2)}`),d.base64Data)try{const h=atob(d.base64Data);o(`Decoded (client-side): ${h}`)}catch(h){o(`Failed to decode. Not a valid base64 string: ${h}`)}}catch(d){t(`Error testing base64 text: ${d instanceof Error?d.message:String(d)}`)}finally{s(!1)}},j=async()=>{s(!0),t("Testing base64 image endpoint...");try{const d=await $.base64test.getImage();t(`Base64 Image Result (first 100 chars):
${JSON.stringify({base64Data:d.base64Data?d.base64Data.substring(0,100)+"...":"none"},null,2)}`),d.base64Data&&o(`
<img src="${d.base64Data}" alt="Base64 encoded image" style="max-width:100%; max-height:200px; border:1px solid #ccc;">
        `)}catch(d){t(`Error testing base64 image: ${d instanceof Error?d.message:String(d)}`)}finally{s(!1)}},x=()=>{try{const d=btoa(l);o(`Encoded: ${d}`)}catch(d){o(`Failed to encode: ${d}`)}},N=()=>{try{const d=atob(l);o(`Decoded: ${d}`)}catch(d){o(`Failed to decode. Not a valid base64 string: ${d}`)}};return r.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"API Debugger"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-md font-medium mb-2",children:"API Tests"}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[r.jsx("button",{className:"px-3 py-1 bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:bg-blue-300",onClick:c,disabled:n,children:"Test Connection"}),r.jsx("button",{className:"px-3 py-1 bg-green-500 text-white rounded-md hover:bg-green-600 disabled:bg-green-300",onClick:u,disabled:n,children:"Fetch Clients"}),r.jsx("button",{className:"px-3 py-1 bg-yellow-500 text-white rounded-md hover:bg-yellow-600 disabled:bg-yellow-300",onClick:m,disabled:n,children:"Reset API"}),r.jsx("button",{className:"px-3 py-1 bg-purple-500 text-white rounded-md hover:bg-purple-600 disabled:bg-purple-300",onClick:f,disabled:n,children:"Check API Config"}),r.jsx("button",{className:"px-3 py-1 bg-red-500 text-white rounded-md hover:bg-red-600 disabled:bg-red-300",onClick:p,disabled:n,children:"Force Real API"})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-md font-medium mb-2",children:"Base64 Testing"}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[r.jsx("button",{className:"px-3 py-1 bg-indigo-500 text-white rounded-md hover:bg-indigo-600 disabled:bg-indigo-300",onClick:g,disabled:n,children:"Test Base64 Text"}),r.jsx("button",{className:"px-3 py-1 bg-purple-500 text-white rounded-md hover:bg-purple-600 disabled:bg-purple-300",onClick:j,disabled:n,children:"Test Base64 Image"})]}),r.jsxs("div",{className:"mb-4 flex gap-2",children:[r.jsx("input",{type:"text",className:"flex-1 px-3 py-1 border rounded",value:l,onChange:d=>a(d.target.value),placeholder:"Enter text or base64 string"}),r.jsx("button",{className:"px-3 py-1 bg-green-500 text-white rounded-md hover:bg-green-600",onClick:x,children:"Encode"}),r.jsx("button",{className:"px-3 py-1 bg-blue-500 text-white rounded-md hover:bg-blue-600",onClick:N,children:"Decode"})]}),i&&r.jsx("div",{className:"p-3 bg-gray-100 border border-gray-300 rounded-md overflow-auto max-h-40",dangerouslySetInnerHTML:{__html:i}})]}),r.jsx("div",{className:"p-3 bg-black text-green-400 font-mono text-sm rounded-md min-h-40 max-h-96 overflow-auto whitespace-pre-wrap",children:e||"Click one of the buttons above to debug API functionality"}),r.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:[zt()?"⚠️ Using mock data fallback":"✅ Using real API",n&&" • Loading..."]})]})}const Tx=[{label:"Clients API",url:"http://localhost:3000/api/clients"},{label:"Base64 Text Test",url:"http://localhost:3000/api/base64test/text"},{label:"Base64 Image Test",url:"http://localhost:3000/api/base64test/image"},{label:"Direct Clients API (Vite)",url:"/api/clients"},{label:"Vercel API Check",url:"http://localhost:3000/api"}];function Rx({endpoint:e="/api/clients"}){const[t,n]=y.useState(e),[s,l]=y.useState("GET"),[a,i]=y.useState(""),[o,c]=y.useState(""),[u,m]=y.useState(!1),[p,f]=y.useState("parsed"),[g,j]=y.useState("json"),[x,N]=y.useState(!1),d=async()=>{m(!0),c("Loading...");try{const h={method:s,headers:{"Content-Type":"application/json"}};s!=="GET"&&s!=="HEAD"&&a&&(h.body=a);const v=await fetch(t,h),b=v.headers.get("content-type"),k=b&&b.includes("application/json"),C=await v.text();let S=null,w=!1;try{S=JSON.parse(C)}catch{try{const F=atob(C);try{S=JSON.parse(F),w=!0}catch{}}catch{}}let I="";p==="raw"?I=C:S?I=JSON.stringify(S,null,2):w?I=`Base64 encoded data: ${C.substring(0,100)}...`:I=C,c(`
Status: ${v.status} ${v.statusText}
Content-Type: ${b||"unknown"}
Format: ${k?"JSON":w?"Base64 encoded JSON":"Text/Unknown"}
Data:
${I}
      `)}catch(h){c(`Error: ${h instanceof Error?h.message:String(h)}`)}finally{m(!1)}};return r.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"API Explorer"}),r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsxs("select",{className:"px-3 py-1 border rounded",value:s,onChange:h=>l(h.target.value),children:[r.jsx("option",{value:"GET",children:"GET"}),r.jsx("option",{value:"POST",children:"POST"}),r.jsx("option",{value:"PUT",children:"PUT"}),r.jsx("option",{value:"DELETE",children:"DELETE"})]}),r.jsx("input",{type:"text",className:"flex-1 px-3 py-1 border rounded",value:t,onChange:h=>n(h.target.value),placeholder:"API endpoint URL"}),r.jsx("button",{className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-blue-300",onClick:d,disabled:u,children:u?"Loading...":"Send"}),r.jsx("button",{className:"px-3 py-1 bg-gray-500 text-white rounded hover:bg-gray-600",onClick:()=>N(!x),children:x?"Hide Presets":"Show Presets"})]}),x&&r.jsxs("div",{className:"mb-4 p-2 bg-gray-100 rounded border border-gray-200",children:[r.jsx("h3",{className:"text-sm font-medium mb-2",children:"API Endpoint Presets:"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[Tx.map((h,v)=>r.jsxs("button",{className:"px-2 py-1 text-left text-sm bg-white border border-gray-300 rounded hover:bg-blue-50",onClick:()=>{n(h.url),l("GET")},children:[r.jsx("div",{className:"font-medium",children:h.label}),r.jsx("div",{className:"text-xs text-gray-500 truncate",children:h.url})]},v)),r.jsxs("button",{className:"px-2 py-1 text-left text-sm bg-yellow-50 border border-yellow-300 rounded hover:bg-yellow-100",onClick:()=>{n("http://localhost:3000/api/debug-server"),l("GET")},children:[r.jsx("div",{className:"font-medium",children:"🔍 Debug API Server"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Check server configuration"})]})]})]}),(s==="POST"||s==="PUT")&&r.jsx("div",{className:"mb-4",children:r.jsx("textarea",{className:"w-full h-20 p-2 border rounded font-mono text-sm",value:a,onChange:h=>i(h.target.value),placeholder:"Request body (JSON)"})}),r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"mode",checked:p==="parsed",onChange:()=>f("parsed"),className:"mr-1"}),"Parsed"]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"mode",checked:p==="raw",onChange:()=>f("raw"),className:"mr-1"}),"Raw"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:`px-2 py-1 text-xs rounded ${g==="json"?"bg-blue-200":"bg-gray-200"}`,onClick:()=>j("json"),children:"JSON"}),r.jsx("button",{className:`px-2 py-1 text-xs rounded ${g==="text"?"bg-blue-200":"bg-gray-200"}`,onClick:()=>j("text"),children:"Text"}),r.jsx("button",{className:`px-2 py-1 text-xs rounded ${g==="base64"?"bg-blue-200":"bg-gray-200"}`,onClick:()=>j("base64"),children:"Base64"})]})]}),r.jsx("div",{className:"p-3 bg-black text-green-400 font-mono text-sm rounded-md min-h-40 max-h-96 overflow-auto whitespace-pre-wrap",children:o||'Click "Send" to make an API request'})]})}function Dx(){const[e,t]=y.useState(null),[n,s]=y.useState([]),[l,a]=y.useState("loading"),[i,o]=y.useState(!1),[c,u]=y.useState(!0);y.useEffect(()=>{mn().then(N=>{a(N?"success":"error"),N?m():u(!1)})},[]);const m=async()=>{try{u(!0);const[N,d]=await Promise.all([$.dashboard.getAnalytics(),$.clients.getAll()]);console.log("📊 Dashboard data loaded:",N),N&&N.success&&t(N),d.clients&&d.clients.length>0&&s(d.clients)}catch(N){console.error("Error loading dashboard data:",N),a("error")}finally{u(!1)}},p=()=>e&&e.success?e.metrics:null,f=()=>e&&e.success?{recentJobs:e.recentJobs,recentInvoices:e.recentInvoices}:{recentJobs:[],recentInvoices:[]},g=p(),{recentJobs:j,recentInvoices:x}=f();return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"page-title",children:"Dashboard"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[c&&r.jsx("span",{className:"px-2 py-1 rounded bg-blue-100 text-blue-700 text-sm",children:"Loading Analytics..."}),r.jsx("button",{className:"px-2 py-1 rounded bg-blue-100 text-blue-600 text-sm",onClick:m,disabled:c,children:"🔄 Refresh Data"})]})]}),i&&r.jsxs("div",{className:"mb-6",children:[r.jsx(Px,{}),r.jsx("div",{className:"mt-4",children:r.jsx(Rx,{endpoint:"/api/dashboard"})})]}),r.jsxs("section",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"card flex items-center gap-4",children:[r.jsx("div",{className:"p-3 rounded bg-sky-50 text-sky-600",children:r.jsx(Hi,{className:"w-6 h-6"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Clients"}),r.jsx("div",{className:"text-2xl font-semibold",children:c?r.jsx("div",{className:"animate-pulse bg-gray-200 h-8 w-12 rounded"}):g?g.totalClients:"---"})]})]}),r.jsxs("div",{className:"card flex items-center gap-4",children:[r.jsx("div",{className:"p-3 rounded bg-amber-50 text-amber-600",children:r.jsx(Un,{className:"w-6 h-6"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Open Invoices"}),r.jsx("div",{className:"text-2xl font-semibold",children:c?r.jsx("div",{className:"animate-pulse bg-gray-200 h-8 w-12 rounded"}):g?g.openInvoices:"---"})]})]}),r.jsxs("div",{className:"card flex items-center gap-4",children:[r.jsx("div",{className:"p-3 rounded bg-emerald-50 text-emerald-600",children:r.jsx(Xd,{className:"w-6 h-6"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Active Jobs"}),r.jsx("div",{className:"text-2xl font-semibold",children:c?r.jsx("div",{className:"animate-pulse bg-gray-200 h-8 w-12 rounded"}):g?g.activeJobs:"---"})]})]}),r.jsxs("div",{className:"card flex items-center gap-4",children:[r.jsx("div",{className:"p-3 rounded bg-purple-50 text-purple-600",children:r.jsx(Ys,{className:"w-6 h-6"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Total Revenue"}),r.jsx("div",{className:"text-2xl font-semibold",children:c?r.jsx("div",{className:"animate-pulse bg-gray-200 h-8 w-20 rounded"}):g?`$${g.totalRevenue.toLocaleString()}`:"---"})]})]})]}),r.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"card flex items-center gap-4",children:[r.jsx("div",{className:"p-3 rounded bg-green-50 text-green-600",children:r.jsx(Gh,{className:"w-6 h-6"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Net Revenue"}),r.jsx("div",{className:`text-2xl font-semibold ${c?"":g&&g.netRevenue>=0?"text-green-600":"text-red-600"}`,children:c?r.jsx("div",{className:"animate-pulse bg-gray-200 h-8 w-24 rounded"}):g?`$${g.netRevenue.toLocaleString()}`:"---"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Revenue - Expenses"})]})]}),r.jsxs("div",{className:"card flex items-center gap-4",children:[r.jsx("div",{className:"p-3 rounded bg-blue-50 text-blue-600",children:r.jsx(Un,{className:"w-6 h-6"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Total Invoices"}),r.jsx("div",{className:"text-2xl font-semibold",children:c?r.jsx("div",{className:"animate-pulse bg-gray-200 h-8 w-12 rounded"}):g?g.totalInvoices:"---"})]})]}),r.jsxs("div",{className:"card flex items-center gap-4",children:[r.jsx("div",{className:"p-3 rounded bg-red-50 text-red-600",children:r.jsx(Ys,{className:"w-6 h-6"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Total Expenses"}),r.jsx("div",{className:"text-2xl font-semibold",children:c?r.jsx("div",{className:"animate-pulse bg-gray-200 h-8 w-20 rounded"}):g?`$${g.totalExpenses.toLocaleString()}`:"---"})]})]})]}),r.jsx(Ax,{dashboardData:e}),r.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-8",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Recent Jobs"}),r.jsx("div",{className:"space-y-3",children:j.length>0?j.map(N=>r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:N.title}),r.jsx("div",{className:"text-sm text-gray-600",children:N.clientName})]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${N.status==="delivered"?"bg-green-100 text-green-800":N.status==="in-progress"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:N.status})]},N.id)):r.jsx("div",{className:"text-gray-500 text-center py-4",children:"No recent jobs found"})})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Recent Invoices"}),r.jsx("div",{className:"space-y-3",children:x.length>0?x.map(N=>r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:N.number}),r.jsx("div",{className:"text-sm text-gray-600",children:N.clientName})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-medium",children:["$",N.total.toLocaleString()]}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${N.status==="paid"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:N.status})]})]},N.id)):r.jsx("div",{className:"text-gray-500 text-center py-4",children:"No recent invoices found"})})]})]}),e&&r.jsxs("div",{className:"mt-4 text-xs text-gray-500 text-center",children:["Last updated: ",new Date(e.generatedAt).toLocaleString()]})]})}function Wr(e,t=[]){const[n,s]=y.useState([]),[l,a]=y.useState(!0),[i,o]=y.useState(null),c=y.useCallback(async()=>{try{a(!0),o(null);const u=await e.getAll(),m=u.data||u.items||u.invoices||u.jobs||u.clients||u.services||u.expenses||u.suppliers||[];s(m)}catch(u){o(u instanceof Error?u.message:"Failed to fetch data"),console.error("API Error:",u)}finally{a(!1)}},t);return y.useEffect(()=>{c()},[c]),{data:n,loading:l,error:i,refetch:c,setData:s}}function rm(){const{data:e,loading:t,error:n,refetch:s,setData:l}=Wr($.invoices);return{invoices:e,loading:t,error:n,refetch:s,createInvoice:async c=>{try{const u=await $.invoices.create(c);return l(m=>[u,...m]),u}catch(u){throw u}},updateInvoice:async(c,u)=>{try{const m=await $.invoices.update(c,u);return l(p=>p.map(f=>f.id===c?m:f)),m}catch(m){throw m}},deleteInvoice:async c=>{try{await $.invoices.delete(c),l(u=>u.filter(m=>m.id!==c))}catch(u){throw u}}}}function hl(e){const[t,n]=y.useState([]),[s,l]=y.useState(!0),[a,i]=y.useState(null),o=y.useCallback(async()=>{try{l(!0),i(null);const p=await $.jobs.getAll(e);n(p.jobs||[])}catch(p){i(p instanceof Error?p.message:"Failed to fetch jobs"),console.error("Jobs API Error:",p)}finally{l(!1)}},[e==null?void 0:e.type,e==null?void 0:e.status,e==null?void 0:e.clientId]);return y.useEffect(()=>{o()},[o]),{jobs:t,loading:s,error:a,refetch:o,createJob:async p=>{try{const f=await $.jobs.create(p);return n(g=>[f,...g]),f}catch(f){throw f}},updateJob:async(p,f)=>{try{const g=await $.jobs.update(p,f);return n(j=>j.map(x=>x.id===p?g:x)),g}catch(g){throw g}},deleteJob:async p=>{try{await $.jobs.delete(p),n(f=>f.filter(g=>g.id!==p))}catch(f){throw f}}}}function Hr(){const{data:e,loading:t,error:n,refetch:s,setData:l}=Wr($.clients);return{clients:e,loading:t,error:n,refetch:s,createClient:async c=>{try{const u=await $.clients.create(c);return l(m=>[u,...m]),u}catch(u){throw u}},updateClient:async(c,u)=>{try{const m=await $.clients.update(c,u);return l(p=>p.map(f=>f.id===c?m:f)),m}catch(m){throw m}},deleteClient:async c=>{try{await $.clients.delete(c),l(u=>u.filter(m=>m.id!==c))}catch(u){throw u}}}}function Fx(){const{data:e,loading:t,error:n,refetch:s,setData:l}=Wr($.services);return{services:e,loading:t,error:n,refetch:s,createService:async c=>{try{const u=await $.services.create(c);return l(m=>[u,...m]),u}catch(u){throw u}},updateService:async(c,u)=>{try{const m=await $.services.update(c,u);return l(p=>p.map(f=>f.id===c?m:f)),m}catch(m){throw m}},deleteService:async c=>{try{await $.services.delete(c),l(u=>u.filter(m=>m.id!==c))}catch(u){throw u}}}}function sm(){const{data:e,loading:t,error:n,refetch:s,setData:l}=Wr($.expenses);return{expenses:e,loading:t,error:n,refetch:s,createExpense:async c=>{try{const u=await $.expenses.create(c);return l(m=>[u,...m]),u}catch(u){throw u}},updateExpense:async(c,u)=>{try{const m=await $.expenses.update(c,u);return l(p=>p.map(f=>f.id===c?m:f)),m}catch(m){throw m}},deleteExpense:async c=>{try{await $.expenses.delete(c),l(u=>u.filter(m=>m.id!==c))}catch(u){throw u}}}}function _x(){const{data:e,loading:t,error:n,refetch:s,setData:l}=Wr($.suppliers);return{suppliers:e,loading:t,error:n,refetch:s,createSupplier:async c=>{try{const u=await $.suppliers.create(c);return l(m=>[u,...m]),u}catch(u){throw u}},updateSupplier:async(c,u)=>{try{const m=await $.suppliers.update(c,u);return l(p=>p.map(f=>f.id===c?m:f)),m}catch(m){throw m}},deleteSupplier:async c=>{try{await $.suppliers.delete(c),l(u=>u.filter(m=>m.id!==c))}catch(u){throw u}}}}function Jr({show:e}){return e?r.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4",children:r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),r.jsx("div",{className:"ml-3",children:r.jsxs("p",{className:"text-sm text-yellow-700",children:[r.jsx("strong",{children:"Development Mode:"})," Using local mock data because the API server is not available. In production, this would connect to your Vercel Postgres database."]})})]})}):null}function Ox(){const{clients:e,loading:t,error:n,createClient:s,updateClient:l,deleteClient:a,refetch:i}=Hr(),[o,c]=y.useState(""),[u,m]=y.useState("name"),[p,f]=y.useState("asc"),[g,j]=y.useState(null),[x,N]=y.useState(null),[d,h]=y.useState(null),[v,b]=y.useState(!1),[k,C]=y.useState(null),S=async()=>{b(!0);try{Br(),await mn(),await i()}finally{b(!1)}},w=y.useMemo(()=>{let T=e||[];return o&&(T=T.filter(F=>{var W,A,R;return F.name.toLowerCase().includes(o.toLowerCase())||(((W=F.address)==null?void 0:W.toLowerCase())||"").includes(o.toLowerCase())||(((A=F.phone)==null?void 0:A.toLowerCase())||"").includes(o.toLowerCase())||(((R=F.tin)==null?void 0:R.toLowerCase())||"").includes(o.toLowerCase())})),T=[...T].sort((F,W)=>{let A="",R="";switch(u){case"name":A=F.name.toLowerCase(),R=W.name.toLowerCase();break;case"address":A=(F.address||"").toLowerCase(),R=(W.address||"").toLowerCase();break;case"phone":A=(F.phone||"").toLowerCase(),R=(W.phone||"").toLowerCase();break;case"tin":A=(F.tin||"").toLowerCase(),R=(W.tin||"").toLowerCase();break;default:A=F.name.toLowerCase(),R=W.name.toLowerCase()}return p==="asc"?A.localeCompare(R):R.localeCompare(A)}),T},[e,o,u,p]);return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"page-title",children:"Clients"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:i,disabled:t||v,className:"px-3 py-2 rounded border text-gray-600 text-sm hover:bg-gray-50 transition flex items-center gap-1",title:"Refresh clients data",children:[r.jsx(zn,{className:`w-4 h-4 ${t?"animate-spin":""}`}),"Refresh"]}),r.jsx(Ux,{onAdd:s,onSuccess:i})]})]}),r.jsx(Jr,{show:zt()}),n&&r.jsxs("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded flex items-start",children:[r.jsx(Qn,{className:"w-5 h-5 mr-2 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:"Error loading clients:"}),r.jsx("p",{children:n}),r.jsx("button",{onClick:S,disabled:v,className:"mt-2 px-3 py-1 bg-white border border-red-400 rounded text-red-700 text-sm hover:bg-red-50 transition flex items-center gap-1",children:v?r.jsxs(r.Fragment,{children:[r.jsx(xe,{className:"w-3 h-3 animate-spin"}),"Retrying..."]}):r.jsxs(r.Fragment,{children:[r.jsx(zn,{className:"w-3 h-3"}),"Retry Connection"]})})]})]}),t?r.jsxs("div",{className:"flex justify-center items-center py-8",children:[r.jsx(xe,{className:"w-8 h-8 animate-spin text-sky-600 mr-2"}),r.jsx("span",{className:"text-lg text-gray-700",children:"Loading clients..."})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-4 space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Search clients...",value:o,onChange:I=>c(I.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring focus:ring-sky-200 focus:border-sky-500"})]}),r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wi,{className:"w-4 h-4 text-gray-500"}),r.jsxs("select",{value:u,onChange:I=>m(I.target.value),className:"px-3 py-2 border rounded-lg focus:ring focus:ring-sky-200 focus:border-sky-500",children:[r.jsx("option",{value:"name",children:"Sort by Name"}),r.jsx("option",{value:"address",children:"Sort by Address"}),r.jsx("option",{value:"phone",children:"Sort by Phone"}),r.jsx("option",{value:"tin",children:"Sort by TIN"})]})]}),r.jsxs("button",{onClick:()=>f(p==="asc"?"desc":"asc"),className:"px-3 py-2 border rounded-lg hover:bg-gray-50 transition flex items-center gap-2",children:[p==="asc"?"↑":"↓"," ",p==="asc"?"Ascending":"Descending"]})]})]}),r.jsx("div",{className:"space-y-3",children:w.length>0?w.map(I=>r.jsxs("div",{className:"card flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:I.name}),r.jsxs("div",{className:"muted",children:[I.address||"No address"," • ",I.phone||"No phone",I.tin&&r.jsxs("span",{children:[" • TIN: ",I.tin]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>j(I),className:"px-3 py-1 border rounded text-sm hover:bg-gray-50 transition",children:"View"}),r.jsxs("button",{onClick:()=>N(I),className:"px-3 py-1 border rounded text-sm hover:bg-blue-50 text-blue-600 transition flex items-center gap-1",children:[r.jsx(cn,{className:"w-3 h-3"}),"Edit"]}),r.jsxs("button",{onClick:()=>{h(I),C(null)},className:"px-3 py-1 border rounded text-sm hover:bg-red-50 text-red-600 transition flex items-center gap-1",children:[r.jsx(un,{className:"w-3 h-3"}),"Delete"]})]})]},I.id)):r.jsx("div",{className:"text-center py-8 text-gray-500",children:o?`No clients found matching "${o}"`:'No clients available. Create your first client by clicking "New Client" button.'})}),g&&r.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-30",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-6 w-full max-w-md animate-fadein",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Client Details"}),r.jsx("button",{onClick:()=>j(null),className:"text-gray-400 hover:text-gray-600",children:r.jsx(ae,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client ID"}),r.jsx("div",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:g.id})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),r.jsx("div",{className:"text-sm font-medium p-2 border rounded",children:g.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),r.jsx("div",{className:"text-sm p-2 border rounded",children:g.address||"No address provided"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),r.jsx("div",{className:"text-sm p-2 border rounded",children:g.phone||"No phone number provided"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"TIN Number"}),r.jsx("div",{className:"text-sm p-2 border rounded",children:g.tin||"No TIN number provided"})]}),g._count&&r.jsxs("div",{className:"flex gap-4 mt-4",children:[r.jsxs("div",{className:"flex-1 bg-sky-50 rounded-lg p-3 text-center",children:[r.jsx("div",{className:"text-sm text-sky-700",children:"Jobs"}),r.jsx("div",{className:"text-xl font-semibold text-sky-800",children:g._count.jobs||0})]}),r.jsxs("div",{className:"flex-1 bg-green-50 rounded-lg p-3 text-center",children:[r.jsx("div",{className:"text-sm text-green-700",children:"Invoices"}),r.jsx("div",{className:"text-xl font-semibold text-green-800",children:g._count.invoices||0})]})]})]}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsx("button",{onClick:()=>j(null),className:"px-4 py-2 rounded border shadow hover:bg-gray-100 transition",children:"Close"})})]})}),x&&r.jsx(Mx,{client:x,onClose:()=>N(null),onSave:async I=>{await l(x.id,I),N(null)}}),d&&r.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-30",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-6 w-full max-w-md animate-fadein",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-red-600",children:"Delete Client"}),r.jsx("button",{onClick:()=>h(null),className:"text-gray-400 hover:text-gray-600",children:r.jsx(ae,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("p",{className:"text-gray-700",children:["Are you sure you want to delete"," ",r.jsx("strong",{children:d.name}),"? This action cannot be undone."]}),k&&r.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 text-red-600 text-sm rounded",children:[r.jsx("strong",{children:"Error:"})," ",k]})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>h(null),className:"px-4 py-2 rounded border shadow hover:bg-gray-100 transition",disabled:v,children:"Cancel"}),r.jsx("button",{onClick:async()=>{b(!0);try{await a(d.id),h(null)}catch(I){C(I instanceof Error?I.message:"Failed to delete client")}finally{b(!1)}},disabled:v,className:"px-4 py-2 rounded bg-red-600 text-white shadow hover:bg-red-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:v?r.jsxs(r.Fragment,{children:[r.jsx(xe,{className:"w-4 h-4 animate-spin mr-2"}),"Deleting..."]}):"Delete"})]})]})})]})]})}function Mx({client:e,onClose:t,onSave:n}){const[s,l]=y.useState(e.name),[a,i]=y.useState(e.address||""),[o,c]=y.useState(e.phone||""),[u,m]=y.useState(e.tin||""),[p,f]=y.useState(!1),[g,j]=y.useState(null),x=async()=>{if(s.trim()){f(!0),j(null);try{await n({name:s,address:a,phone:o,tin:u}),t()}catch(N){j(N instanceof Error?N.message:"Failed to update client"),f(!1)}}};return r.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-30",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-6 w-full max-w-md animate-fadein",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Edit Client"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:r.jsx(ae,{className:"w-5 h-5"})})]}),g&&r.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-600 text-sm rounded",children:[r.jsx("strong",{children:"Error:"})," ",g]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{value:s,onChange:N=>l(N.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring focus:ring-sky-200 focus:border-sky-500",placeholder:"Client name",autoFocus:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),r.jsx("input",{value:a,onChange:N=>i(N.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring focus:ring-sky-200 focus:border-sky-500",placeholder:"Client address"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),r.jsx("input",{value:o,onChange:N=>c(N.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring focus:ring-sky-200 focus:border-sky-500",placeholder:"Phone number"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"TIN Number"}),r.jsx("input",{value:u,onChange:N=>m(N.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring focus:ring-sky-200 focus:border-sky-500",placeholder:"Tax Identification Number"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 rounded border shadow hover:bg-gray-100 transition",children:"Cancel"}),r.jsx("button",{onClick:x,disabled:p||!s.trim(),className:"px-4 py-2 rounded bg-sky-600 text-white shadow hover:bg-sky-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:p?r.jsxs(r.Fragment,{children:[r.jsx(xe,{className:"w-4 h-4 animate-spin mr-2"}),"Saving..."]}):"Save Changes"})]})]})})}function Ux({onAdd:e,onSuccess:t}){const[n,s]=y.useState(!1),[l,a]=y.useState(""),[i,o]=y.useState(""),[c,u]=y.useState(""),[m,p]=y.useState(""),[f,g]=y.useState(!1),[j,x]=y.useState(null),N=async()=>{if(l){g(!0),x(null);try{await e({name:l,address:i,phone:c,tin:m}),a(""),o(""),u(""),p(""),s(!1),t()}catch(d){x(d instanceof Error?d.message:"Failed to create client")}finally{g(!1)}}};return r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>s(!0),className:"px-3 py-2 rounded bg-sky-600 text-white text-sm shadow hover:bg-sky-700 transition",children:"New Client"}),n&&r.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-30",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-6 w-full max-w-md animate-fadein",children:[r.jsx("div",{className:"mb-4 text-lg font-semibold",children:"New Client"}),j&&r.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-600 text-sm rounded",children:[r.jsx("strong",{children:"Error:"})," ",j]}),r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("input",{value:l,onChange:d=>a(d.target.value),placeholder:"Name",className:"border px-2 py-1 rounded flex-1 focus:ring focus:ring-sky-200",autoFocus:!0}),r.jsx("input",{value:c,onChange:d=>u(d.target.value),placeholder:"Phone",className:"border px-2 py-1 rounded w-32 focus:ring focus:ring-sky-200"})]}),r.jsx("input",{value:i,onChange:d=>o(d.target.value),placeholder:"Address",className:"border px-2 py-1 rounded w-full mb-2 focus:ring focus:ring-sky-200"}),r.jsx("input",{value:m,onChange:d=>p(d.target.value),placeholder:"TIN Number (optional)",className:"border px-2 py-1 rounded w-full mb-4 focus:ring focus:ring-sky-200"}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx("button",{onClick:N,disabled:f||!l.trim(),className:"px-4 py-2 rounded bg-sky-600 text-white shadow hover:bg-sky-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:f?r.jsxs(r.Fragment,{children:[r.jsx(xe,{className:"w-4 h-4 animate-spin mr-2"}),"Creating..."]}):"Create"}),r.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 rounded border shadow hover:bg-gray-100 transition",children:"Cancel"})]})]})})]})}var Ke=(e=>(e.AIR_FREIGHT="AIR_FREIGHT",e.SEA_FREIGHT="SEA_FREIGHT",e.ROAD_FREIGHT="ROAD_FREIGHT",e))(Ke||{});function Ji(e){return e.jobType==="AIR_FREIGHT"}function Vi(e){return e.jobType==="SEA_FREIGHT"}function Gi(e){return e.jobType==="ROAD_FREIGHT"}function dt(e){switch(e){case"AIR_FREIGHT":return"Air Freight";case"SEA_FREIGHT":return"Sea Freight";case"ROAD_FREIGHT":return"Road Freight";default:return"Unknown"}}function Nc(e){switch(e.jobType){case"AIR_FREIGHT":return e.awb.masterAirWaybill;case"SEA_FREIGHT":return e.billOfLading.masterBL;case"ROAD_FREIGHT":return e.plateNumber;default:return""}}function zx(e){const t=[];switch(e.jobType){case"AIR_FREIGHT":const s=e.chargeableWeight*12.5;t.push({description:"Air Freight Charges",rate:12.5,amount:s}),t.push({description:"Air Handling Charges",rate:150,amount:150});break;case"SEA_FREIGHT":let l=6500;e.package.toLowerCase().includes("40ft")?l=8500:e.package.toLowerCase().includes("20ft")&&(l=6500),t.push({description:"Sea Freight Charges",rate:l,amount:l}),t.push({description:`Transport Charges ${e.portOfLoading.split(" - ")[1]}-${e.portOfDischarge.split(" - ")[1]}`,rate:4e3,amount:4e3});break;case"ROAD_FREIGHT":const a=2.5,i=e.grossWeight*a;t.push({description:"Road Freight Charges",rate:a,amount:i}),t.push({description:"Loading/Unloading Charges",rate:500,amount:500});break}return t}function wc(e){return zx(e).map((n,s)=>({id:`li_${e.id}_${s+1}`,description:n.description,basedOn:e.jobType==="AIR_FREIGHT"?"Qty & UOM":"Shipment",rate:n.rate,currency:"USD",amount:n.amount,billingAmount:n.amount}))}const kc=({isOpen:e,onClose:t,onSubmit:n,initialData:s,clients:l})=>{var p,f,g,j;const[a,i]=y.useState((s==null?void 0:s.jobType)||Ke.AIR_FREIGHT),[o,c]=y.useState({jobNumber:(s==null?void 0:s.jobNumber)||"",title:(s==null?void 0:s.title)||"",clientId:(s==null?void 0:s.clientId)||"",clientName:(s==null?void 0:s.clientName)||"",status:(s==null?void 0:s.status)||"open",portOfLoading:(s==null?void 0:s.portOfLoading)||"",portOfDischarge:(s==null?void 0:s.portOfDischarge)||"",grossWeight:(s==null?void 0:s.grossWeight)||0,chargeableWeight:(s==null?void 0:s.chargeableWeight)||0,shipper:(s==null?void 0:s.shipper)||"",consignee:(s==null?void 0:s.consignee)||"",package:(s==null?void 0:s.package)||"",goodDescription:(s==null?void 0:s.goodDescription)||"",masterAirWaybill:((p=s==null?void 0:s.awb)==null?void 0:p.masterAirWaybill)||"",houseAirWaybill:((f=s==null?void 0:s.awb)==null?void 0:f.houseAirWaybill)||"",masterBL:((g=s==null?void 0:s.billOfLading)==null?void 0:g.masterBL)||"",houseBL:((j=s==null?void 0:s.billOfLading)==null?void 0:j.houseBL)||"",plateNumber:(s==null?void 0:s.plateNumber)||"",containerNumber:(s==null?void 0:s.containerNumber)||""}),u=x=>{const N=l.find(d=>d.id===x);c({...o,clientId:x,clientName:(N==null?void 0:N.name)||""})},m=x=>{x.preventDefault();const N={jobType:a,jobNumber:o.jobNumber,title:o.title,clientId:o.clientId,clientName:o.clientName,status:o.status,portOfLoading:o.portOfLoading,portOfDischarge:o.portOfDischarge,grossWeight:o.grossWeight,chargeableWeight:o.chargeableWeight,shipper:o.shipper,consignee:o.consignee,package:o.package,goodDescription:o.goodDescription,createdAt:(s==null?void 0:s.createdAt)||new Date,updatedAt:new Date};let d;switch(a){case Ke.AIR_FREIGHT:d={...N,awb:{masterAirWaybill:o.masterAirWaybill,houseAirWaybill:o.houseAirWaybill||void 0}};break;case Ke.SEA_FREIGHT:d={...N,billOfLading:{masterBL:o.masterBL,houseBL:o.houseBL||void 0}};break;case Ke.ROAD_FREIGHT:d={...N,plateNumber:o.plateNumber,containerNumber:o.containerNumber};break;default:d=N}n(d),t()};return e?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto animate-fadein",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold",children:s?"Edit Logistics Job":"Create New Logistics Job"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:r.jsx(ae,{className:"w-6 h-6"})})]}),r.jsxs("form",{onSubmit:m,className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Type *"}),r.jsxs("select",{value:a,onChange:x=>i(x.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-sky-500",required:!0,children:[r.jsx("option",{value:Ke.AIR_FREIGHT,children:"Air Freight"}),r.jsx("option",{value:Ke.SEA_FREIGHT,children:"Sea Freight"}),r.jsx("option",{value:Ke.ROAD_FREIGHT,children:"Road Freight"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Number *"}),r.jsx("input",{type:"text",value:o.jobNumber,onChange:x=>c({...o,jobNumber:x.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-sky-500",placeholder:"e.g., AF-2024-001",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),r.jsxs("select",{value:o.status,onChange:x=>c({...o,status:x.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-sky-500",required:!0,children:[r.jsx("option",{value:"open",children:"Open"}),r.jsx("option",{value:"in-progress",children:"In Progress"}),r.jsx("option",{value:"delivered",children:"Delivered"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Title *"}),r.jsx("input",{type:"text",value:o.title,onChange:x=>c({...o,title:x.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-sky-500",placeholder:"Job description",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client *"}),r.jsxs("select",{value:o.clientId,onChange:x=>u(x.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-sky-500",required:!0,children:[r.jsx("option",{value:"",children:"Select a client"}),l.map(x=>r.jsx("option",{value:x.id,children:x.name},x.id))]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Route & Location"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Port of Loading *"}),r.jsx("input",{type:"text",value:o.portOfLoading,onChange:x=>c({...o,portOfLoading:x.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-sky-500",placeholder:"e.g., JFK - New York",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Port of Discharge *"}),r.jsx("input",{type:"text",value:o.portOfDischarge,onChange:x=>c({...o,portOfDischarge:x.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-sky-500",placeholder:"e.g., DXB - Dubai",required:!0})]})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Party Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shipper *"}),r.jsx("input",{type:"text",value:o.shipper,onChange:x=>c({...o,shipper:x.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-sky-500",placeholder:"Shipper company name",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Consignee *"}),r.jsx("input",{type:"text",value:o.consignee,onChange:x=>c({...o,consignee:x.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-sky-500",placeholder:"Consignee company name",required:!0})]})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cargo Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gross Weight (kg) *"}),r.jsx("input",{type:"number",step:"0.1",value:o.grossWeight,onChange:x=>c({...o,grossWeight:Number(x.target.value)}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-sky-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chargeable Weight (kg) *"}),r.jsx("input",{type:"number",step:"0.1",value:o.chargeableWeight,onChange:x=>c({...o,chargeableWeight:Number(x.target.value)}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-sky-500",required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Package *"}),r.jsx("input",{type:"text",value:o.package,onChange:x=>c({...o,package:x.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-sky-500",placeholder:"e.g., 15 Boxes, 1 x 40ft Container",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Good Description *"}),r.jsx("input",{type:"text",value:o.goodDescription,onChange:x=>c({...o,goodDescription:x.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-sky-500",placeholder:"Description of goods",required:!0})]})]})]}),a===Ke.AIR_FREIGHT&&r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[r.jsx("h4",{className:"text-lg font-medium text-blue-900 mb-4",children:"Air Waybill Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Master Air Waybill (MAWB) *"}),r.jsx("input",{type:"text",value:o.masterAirWaybill,onChange:x=>c({...o,masterAirWaybill:x.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",placeholder:"e.g., MAWB-176-12345678",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"House Air Waybill (HAWB)"}),r.jsx("input",{type:"text",value:o.houseAirWaybill,onChange:x=>c({...o,houseAirWaybill:x.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",placeholder:"e.g., HAWB-176-87654321"})]})]})]}),a===Ke.SEA_FREIGHT&&r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[r.jsx("h4",{className:"text-lg font-medium text-green-900 mb-4",children:"Bill of Lading Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Master Bill of Lading (MBL) *"}),r.jsx("input",{type:"text",value:o.masterBL,onChange:x=>c({...o,masterBL:x.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500",placeholder:"e.g., MBL-MAEU-9876543210",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"House Bill of Lading (HBL)"}),r.jsx("input",{type:"text",value:o.houseBL,onChange:x=>c({...o,houseBL:x.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500",placeholder:"e.g., HBL-BETA-1234567890"})]})]})]}),a===Ke.ROAD_FREIGHT&&r.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[r.jsx("h4",{className:"text-lg font-medium text-orange-900 mb-4",children:"Road Freight Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Plate Number *"}),r.jsx("input",{type:"text",value:o.plateNumber,onChange:x=>c({...o,plateNumber:x.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500",placeholder:"e.g., TRK-456-ABC",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Container Number *"}),r.jsx("input",{type:"text",value:o.containerNumber,onChange:x=>c({...o,containerNumber:x.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500",placeholder:"e.g., CONT-789-XYZ",required:!0})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[r.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-6 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition",children:s?"Update Job":"Create Job"})]})]})]})}):null};function $x(){const{jobs:e,loading:t,error:n,createJob:s,updateJob:l,deleteJob:a}=hl(),{clients:i}=Hr(),[o,c]=y.useState(""),[u,m]=y.useState("jobNumber"),[p,f]=y.useState("asc"),[g,j]=y.useState("all"),[x,N]=y.useState("all"),[d,h]=y.useState(null),[v,b]=y.useState(null),[k,C]=y.useState(!1),S=async A=>{try{C(!0);const R=await $.jobs.getById(A.id);b(R)}catch(R){console.error("Failed to fetch job details for editing:",R),b(A)}finally{C(!1)}},[w,I]=y.useState(null),[T,F]=y.useState(!1),W=y.useMemo(()=>{let A=e||[];return o&&(A=A.filter(R=>{var Ve,ye,ve,L,D,_,Q,ee,Jt;return((Ve=R.jobNumber)==null?void 0:Ve.toLowerCase().includes(o.toLowerCase()))||((ye=R.title)==null?void 0:ye.toLowerCase().includes(o.toLowerCase()))||((L=(ve=R.client)==null?void 0:ve.name)==null?void 0:L.toLowerCase().includes(o.toLowerCase()))||((D=R.status)==null?void 0:D.toLowerCase().includes(o.toLowerCase()))||((_=R.shipper)==null?void 0:_.toLowerCase().includes(o.toLowerCase()))||((Q=R.consignee)==null?void 0:Q.toLowerCase().includes(o.toLowerCase()))||((ee=Nc(R))==null?void 0:ee.toLowerCase().includes(o.toLowerCase()))||((Jt=dt(R.jobType))==null?void 0:Jt.toLowerCase().includes(o.toLowerCase()))})),g!=="all"&&(A=A.filter(R=>R.status===g.toUpperCase())),x!=="all"&&(A=A.filter(R=>R.jobType===x)),A=[...A].sort((R,Ve)=>{let ye="",ve="";switch(u){case"jobNumber":ye=R.jobNumber.toLowerCase(),ve=Ve.jobNumber.toLowerCase();break;case"title":ye=R.title.toLowerCase(),ve=Ve.title.toLowerCase();break;case"client":ye=R.clientName.toLowerCase(),ve=Ve.clientName.toLowerCase();break;case"status":ye=R.status.toLowerCase(),ve=Ve.status.toLowerCase();break;case"jobType":ye=dt(R.jobType).toLowerCase(),ve=dt(Ve.jobType).toLowerCase();break;default:ye=R.jobNumber.toLowerCase(),ve=Ve.jobNumber.toLowerCase()}return p==="asc"?ye.localeCompare(ve):ve.localeCompare(ye)}),A},[e,o,u,p,g,x]);return t?r.jsxs("div",{className:"flex items-center justify-center h-64",children:[r.jsx(xe,{className:"w-8 h-8 animate-spin text-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600",children:"Loading jobs..."})]}):n?r.jsxs("div",{className:"flex items-center justify-center h-64",children:[r.jsx(Qn,{className:"w-8 h-8 text-red-600"}),r.jsxs("span",{className:"ml-2 text-red-600",children:["Error loading jobs: ",n]})]}):r.jsxs("div",{children:[r.jsx(Jr,{show:zt()}),r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"page-title",children:"Logistics Jobs"}),r.jsxs("button",{onClick:()=>F(!0),className:"px-4 py-2 rounded bg-sky-600 text-white text-sm shadow hover:bg-sky-700 transition flex items-center gap-2",children:[r.jsx(Ba,{className:"w-4 h-4"}),"New Logistics Job"]})]}),r.jsxs("div",{className:"mb-4 space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Search jobs, clients, documents, shipper, consignee...",value:o,onChange:A=>c(A.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring focus:ring-sky-200 focus:border-sky-500"})]}),r.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wi,{className:"w-4 h-4 text-gray-500"}),r.jsxs("select",{value:u,onChange:A=>m(A.target.value),className:"px-3 py-2 border rounded-lg focus:ring focus:ring-sky-200 focus:border-sky-500",children:[r.jsx("option",{value:"jobNumber",children:"Sort by Job #"}),r.jsx("option",{value:"title",children:"Sort by Title"}),r.jsx("option",{value:"client",children:"Sort by Client"}),r.jsx("option",{value:"status",children:"Sort by Status"}),r.jsx("option",{value:"jobType",children:"Sort by Type"})]})]}),r.jsxs("button",{onClick:()=>f(p==="asc"?"desc":"asc"),className:"px-3 py-2 border rounded-lg hover:bg-gray-50 transition flex items-center gap-2",children:[p==="asc"?"↑":"↓"," ",p==="asc"?"Ascending":"Descending"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qd,{className:"w-4 h-4 text-gray-500"}),r.jsxs("select",{value:g,onChange:A=>j(A.target.value),className:"px-3 py-2 border rounded-lg focus:ring focus:ring-sky-200 focus:border-sky-500",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"open",children:"Open"}),r.jsx("option",{value:"in-progress",children:"In Progress"}),r.jsx("option",{value:"delivered",children:"Delivered"}),r.jsx("option",{value:"completed",children:"Completed"})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("select",{value:x,onChange:A=>N(A.target.value),className:"px-3 py-2 border rounded-lg focus:ring focus:ring-sky-200 focus:border-sky-500",children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"AIR_FREIGHT",children:"Air Freight"}),r.jsx("option",{value:"SEA_FREIGHT",children:"Sea Freight"}),r.jsx("option",{value:"ROAD_FREIGHT",children:"Road Freight"})]})})]})]}),r.jsxs("div",{className:"space-y-3",children:[W.map(A=>r.jsx("div",{className:"card",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[A.jobType==="AIR_FREIGHT"&&r.jsx(xc,{className:"w-4 h-4 text-blue-600"}),A.jobType==="SEA_FREIGHT"&&r.jsx(vc,{className:"w-4 h-4 text-green-600"}),A.jobType==="ROAD_FREIGHT"&&r.jsx(Wa,{className:"w-4 h-4 text-orange-600"}),r.jsxs("span",{className:"font-medium",children:["Job #",A.jobNumber," - ",A.title]})]}),r.jsx("span",{className:`text-xs px-2 py-1 rounded ${A.jobType==="AIR_FREIGHT"?"bg-blue-100 text-blue-700":A.jobType==="SEA_FREIGHT"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:dt(A.jobType)})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm text-gray-600",children:[r.jsxs("div",{children:["Client: ",A.clientName]}),r.jsxs("div",{children:["Route: ",A.portOfLoading," → ",A.portOfDischarge]}),r.jsxs("div",{children:["Document: ",Nc(A)]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`text-sm px-2 py-1 rounded ${A.status==="delivered"?"bg-green-100 text-green-700":A.status==="in-progress"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:A.status}),r.jsx("button",{onClick:()=>h(A),className:"px-3 py-1 border rounded text-sm hover:bg-gray-50 transition",children:"View"}),r.jsxs("button",{onClick:()=>S(A),disabled:k,className:"px-3 py-1 border rounded text-sm hover:bg-blue-50 text-blue-600 transition flex items-center gap-1 disabled:opacity-50",children:[r.jsx(cn,{className:"w-3 h-3"}),"Edit"]}),r.jsxs("button",{onClick:()=>I(A),className:"px-3 py-1 border rounded text-sm hover:bg-red-50 text-red-600 transition flex items-center gap-1",children:[r.jsx(un,{className:"w-3 h-3"}),"Delete"]})]})]})},A.id)),W.length===0&&!o&&e.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ba,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500 text-lg mb-2",children:"No jobs yet"}),r.jsx("p",{className:"text-gray-400 text-sm",children:'Click "New Logistics Job" to create your first job'})]}),W.length===0&&o&&r.jsxs("div",{className:"text-center py-8 text-gray-500",children:['No jobs found matching "',o,'"']})]}),T&&r.jsx(kc,{isOpen:T,onClose:()=>F(!1),onSubmit:async A=>{try{await s(A),F(!1)}catch(R){console.error("Failed to create job:",R),alert("Failed to create job. Please try again.")}},clients:i||[]}),d&&r.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-30",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto animate-fadein",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[d.jobType==="AIR_FREIGHT"&&r.jsx(xc,{className:"w-6 h-6 text-blue-600"}),d.jobType==="SEA_FREIGHT"&&r.jsx(vc,{className:"w-6 h-6 text-green-600"}),d.jobType==="ROAD_FREIGHT"&&r.jsx(Wa,{className:"w-6 h-6 text-orange-600"}),r.jsx("h3",{className:"text-xl font-semibold",children:"Job Details"})]}),r.jsx("button",{onClick:()=>h(null),className:"text-gray-400 hover:text-gray-600",children:r.jsx(ae,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Basic Information"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Job ID:"}),r.jsx("div",{className:"text-sm text-gray-600 font-mono",children:d.id})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Job Number:"}),r.jsx("div",{className:"text-sm font-medium",children:d.jobNumber})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Title:"}),r.jsx("div",{className:"text-sm",children:d.title})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Job Type:"}),r.jsx("div",{className:`text-sm px-2 py-1 rounded inline-block ${d.jobType==="AIR_FREIGHT"?"bg-blue-100 text-blue-700":d.jobType==="SEA_FREIGHT"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:dt(d.jobType)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Status:"}),r.jsx("div",{className:`text-sm px-2 py-1 rounded inline-block ${d.status==="delivered"?"bg-green-100 text-green-700":d.status==="in-progress"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:d.status.toUpperCase()})]})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Route & Locations"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Port of Loading:"}),r.jsx("div",{className:"text-sm",children:d.portOfLoading})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Port of Discharge:"}),r.jsx("div",{className:"text-sm",children:d.portOfDischarge})]})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Party Information"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Client:"}),r.jsx("div",{className:"text-sm",children:d.clientName})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Shipper:"}),r.jsx("div",{className:"text-sm",children:d.shipper})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Consignee:"}),r.jsx("div",{className:"text-sm",children:d.consignee})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Cargo Information"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Package:"}),r.jsx("div",{className:"text-sm",children:d.package})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Good Description:"}),r.jsx("div",{className:"text-sm",children:d.goodDescription})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Gross Weight:"}),r.jsxs("div",{className:"text-sm",children:[d.grossWeight," kg"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Chargeable Weight:"}),r.jsxs("div",{className:"text-sm",children:[d.chargeableWeight," kg"]})]})]})]}),Ji(d)&&r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[r.jsx("h4",{className:"font-medium text-blue-900 mb-3",children:"Air Waybill Information"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Master Air Waybill (MAWB):"}),r.jsx("div",{className:"text-sm font-mono",children:d.awb.masterAirWaybill})]}),d.awb.houseAirWaybill&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"House Air Waybill (HAWB):"}),r.jsx("div",{className:"text-sm font-mono",children:d.awb.houseAirWaybill})]})]})]}),Vi(d)&&r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[r.jsx("h4",{className:"font-medium text-green-900 mb-3",children:"Bill of Lading Information"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Master Bill of Lading (MBL):"}),r.jsx("div",{className:"text-sm font-mono",children:d.billOfLading.masterBL})]}),d.billOfLading.houseBL&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"House Bill of Lading (HBL):"}),r.jsx("div",{className:"text-sm font-mono",children:d.billOfLading.houseBL})]})]})]}),Gi(d)&&r.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[r.jsx("h4",{className:"font-medium text-orange-900 mb-3",children:"Road Freight Information"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Plate Number:"}),r.jsx("div",{className:"text-sm font-mono",children:d.plateNumber})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Container Number:"}),r.jsx("div",{className:"text-sm font-mono",children:d.containerNumber})]})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Timestamps"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Created:"}),r.jsx("div",{className:"text-sm",children:new Date(d.createdAt).toLocaleString()})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Last Updated:"}),r.jsx("div",{className:"text-sm",children:new Date(d.updatedAt).toLocaleString()})]})]})]})]})]}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsx("button",{onClick:()=>h(null),className:"px-6 py-2 rounded border shadow hover:bg-gray-100 transition",children:"Close"})})]})}),v&&r.jsx(kc,{isOpen:!!v,onClose:()=>b(null),onSubmit:async A=>{try{await l(v.id,A),b(null)}catch(R){console.error("Failed to update job:",R),alert("Failed to update job. Please try again.")}},initialData:v,clients:i||[]}),w&&r.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-30",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-6 w-full max-w-md animate-fadein",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-red-600",children:"Delete Job"}),r.jsx("button",{onClick:()=>I(null),className:"text-gray-400 hover:text-gray-600",children:r.jsx(ae,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"mb-6",children:r.jsxs("p",{className:"text-gray-700",children:["Are you sure you want to delete job"," ",r.jsxs("strong",{children:["#",w.jobNumber," - ",w.title]}),"? This action cannot be undone."]})}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>I(null),className:"px-4 py-2 rounded border shadow hover:bg-gray-100 transition",children:"Cancel"}),r.jsx("button",{onClick:async()=>{try{await a(w.id),I(null)}catch(A){console.error("Failed to delete job:",A),alert("Failed to delete job. Please try again.")}},className:"px-4 py-2 rounded bg-red-600 text-white shadow hover:bg-red-700 transition",children:"Delete"})]})]})})]})}function Bx(){var b;const{suppliers:e,loading:t,error:n,refetch:s,createSupplier:l,updateSupplier:a,deleteSupplier:i}=_x(),[o,c]=y.useState(""),[u,m]=y.useState(null),[p,f]=y.useState(null),[g,j]=y.useState(null),x=y.useMemo(()=>o?e.filter(k=>{var C;return k.name.toLowerCase().includes(o.toLowerCase())||((C=k.contact)==null?void 0:C.toLowerCase().includes(o.toLowerCase()))}):e,[o,e]),N=()=>{s()},d=async k=>{try{await l(k),console.log("✅ Supplier created successfully")}catch(C){throw console.error("❌ Failed to create supplier:",C),alert("Failed to create supplier. Please try again."),C}},h=async(k,C)=>{try{await a(k,C),console.log("✅ Supplier updated successfully")}catch(S){throw console.error("❌ Failed to update supplier:",S),alert("Failed to update supplier. Please try again."),S}},v=async k=>{try{await i(k.id),console.log("✅ Supplier deleted successfully")}catch(C){console.error("❌ Failed to delete supplier:",C),alert("Failed to delete supplier. Please try again.")}};return t?r.jsxs("div",{children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsx("h2",{className:"page-title",children:"Suppliers"})}),r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-10 bg-gray-200 rounded w-full mb-4"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"h-16 bg-gray-200 rounded"}),r.jsx("div",{className:"h-16 bg-gray-200 rounded"}),r.jsx("div",{className:"h-16 bg-gray-200 rounded"})]})]})]}):r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"page-title",children:["Suppliers (",e.length,")"]}),r.jsx(Hx,{onCreate:d})]}),n&&r.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-4",children:r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),r.jsxs("div",{className:"ml-3",children:[r.jsxs("p",{className:"text-sm text-red-700",children:[r.jsx("strong",{children:"Error:"})," Failed to load suppliers: ",n]}),r.jsx("button",{onClick:N,className:"mt-2 text-sm text-red-600 hover:text-red-800 underline",children:"Try again"})]})]})}),r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"relative",children:[r.jsx(Kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Search suppliers...",value:o,onChange:k=>c(k.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring focus:ring-sky-200 focus:border-sky-500"})]})}),r.jsxs("div",{className:"space-y-3",children:[x.map(k=>{var C;return r.jsxs("div",{className:"card flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:k.name}),r.jsx("div",{className:"muted",children:k.contact||"No contact information"}),r.jsxs("div",{className:"text-xs text-gray-500",children:[((C=k._count)==null?void 0:C.expenses)||0," expenses"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>m(k),className:"px-3 py-1 border rounded text-sm hover:bg-gray-50 transition",children:"View"}),r.jsxs("button",{onClick:()=>f(k),className:"px-3 py-1 border rounded text-sm hover:bg-blue-50 text-blue-600 transition flex items-center gap-1",children:[r.jsx(cn,{className:"w-3 h-3"}),"Edit"]}),r.jsxs("button",{onClick:()=>j(k),className:"px-3 py-1 border rounded text-sm hover:bg-red-50 text-red-600 transition flex items-center gap-1",children:[r.jsx(un,{className:"w-3 h-3"}),"Delete"]})]})]},k.id)}),x.length===0&&o&&r.jsxs("div",{className:"text-center py-8 text-gray-500",children:['No suppliers found matching "',o,'"']}),x.length===0&&!o&&r.jsx("div",{className:"text-center py-8 text-gray-500",children:'No suppliers found. Click "New Supplier" to create your first supplier.'})]}),u&&r.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-30",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-6 w-full max-w-md animate-fadein",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Supplier Details"}),r.jsx("button",{onClick:()=>m(null),className:"text-gray-400 hover:text-gray-600",children:r.jsx(ae,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier ID"}),r.jsx("div",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:u.id})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),r.jsx("div",{className:"text-sm font-medium p-2 border rounded",children:u.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact"}),r.jsx("div",{className:"text-sm p-2 border rounded",children:u.contact||"No contact information"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expenses"}),r.jsxs("div",{className:"text-sm p-2 border rounded",children:[((b=u._count)==null?void 0:b.expenses)||0," expenses"]})]})]}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsx("button",{onClick:()=>m(null),className:"px-4 py-2 rounded border shadow hover:bg-gray-100 transition",children:"Close"})})]})}),p&&r.jsx(Wx,{supplier:p,onClose:()=>f(null),onSave:async k=>{await h(p.id,k),f(null)}}),g&&r.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-30",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-6 w-full max-w-md animate-fadein",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-red-600",children:"Delete Supplier"}),r.jsx("button",{onClick:()=>j(null),className:"text-gray-400 hover:text-gray-600",children:r.jsx(ae,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"mb-6",children:r.jsxs("p",{className:"text-gray-700",children:["Are you sure you want to delete"," ",r.jsx("strong",{children:g.name}),"? This action cannot be undone."]})}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>j(null),className:"px-4 py-2 rounded border shadow hover:bg-gray-100 transition",children:"Cancel"}),r.jsx("button",{onClick:async()=>{await v(g),j(null)},className:"px-4 py-2 rounded bg-red-600 text-white shadow hover:bg-red-700 transition",children:"Delete"})]})]})})]})}function Wx({supplier:e,onClose:t,onSave:n}){const[s,l]=y.useState(e.name),[a,i]=y.useState(e.contact||""),[o,c]=y.useState(!1),u=async()=>{if(s.trim()){c(!0);try{await n({name:s,contact:a})}catch(m){console.error("Failed to save supplier:",m)}finally{c(!1)}}};return r.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-30",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-6 w-full max-w-md animate-fadein",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Edit Supplier"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:r.jsx(ae,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{value:s,onChange:m=>l(m.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring focus:ring-sky-200 focus:border-sky-500",placeholder:"Supplier name",autoFocus:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact"}),r.jsx("input",{value:a,onChange:m=>i(m.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring focus:ring-sky-200 focus:border-sky-500",placeholder:"Email or phone"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 rounded border shadow hover:bg-gray-100 transition",disabled:o,children:"Cancel"}),r.jsx("button",{onClick:u,disabled:o,className:"px-4 py-2 rounded bg-sky-600 text-white shadow hover:bg-sky-700 transition disabled:opacity-50",children:o?"Saving...":"Save Changes"})]})]})})}function Hx({onCreate:e}){const[t,n]=y.useState(!1),[s,l]=y.useState(""),[a,i]=y.useState(""),[o,c]=y.useState(!1),u=async()=>{if(s){c(!0);try{await e({name:s,contact:a}),l(""),i(""),n(!1)}catch(m){console.error("Failed to create supplier:",m)}finally{c(!1)}}};return r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>n(!0),className:"px-3 py-2 rounded bg-sky-600 text-white text-sm shadow hover:bg-sky-700 transition",children:"New Supplier"}),t&&r.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-30",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-6 w-full max-w-md animate-fadein",children:[r.jsx("div",{className:"mb-4 text-lg font-semibold",children:"New Supplier"}),r.jsx("input",{value:s,onChange:m=>l(m.target.value),placeholder:"Name *",className:"border px-2 py-1 rounded w-full mb-3 focus:ring focus:ring-sky-200",autoFocus:!0}),r.jsx("input",{value:a,onChange:m=>i(m.target.value),placeholder:"Contact",className:"border px-2 py-1 rounded w-full mb-4 focus:ring focus:ring-sky-200"}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx("button",{onClick:u,disabled:o||!s.trim(),className:"px-4 py-2 rounded bg-sky-600 text-white shadow hover:bg-sky-700 transition disabled:opacity-50",children:o?"Creating...":"Create"}),r.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 rounded border shadow hover:bg-gray-100 transition",disabled:o,children:"Cancel"})]})]})})]})}function Jx(){const{services:e,loading:t,error:n,createService:s,updateService:l,deleteService:a,refetch:i}=Fx(),[o,c]=y.useState(""),[u,m]=y.useState(null),[p,f]=y.useState(null),[g,j]=y.useState(null),[x,N]=y.useState(!1),[d,h]=y.useState(null),{role:v}=Yd(),b=async()=>{N(!0);try{Br(),await mn(),await i()}finally{N(!1)}},k=y.useMemo(()=>{const S=e||[];return o?S.filter(w=>w.name.toLowerCase().includes(o.toLowerCase())||w.currency.toLowerCase().includes(o.toLowerCase())||w.price.toString().includes(o)):S},[e,o]),C=async S=>{const w=e.find(I=>I.id===S);if(w)try{await l(S,{vat:!w.vat})}catch(I){console.error("Failed to toggle VAT:",I)}};return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"page-title",children:"Services (Revenue streams)"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:i,disabled:t||x,className:"px-3 py-2 rounded border text-gray-600 text-sm hover:bg-gray-50 transition flex items-center gap-1",title:"Refresh services data",children:[r.jsx(zn,{className:`w-4 h-4 ${t?"animate-spin":""}`}),"Refresh"]}),r.jsx(Vx,{onAdd:s,onSuccess:i})]})]}),r.jsx(Jr,{show:zt()}),n&&r.jsxs("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded flex items-start",children:[r.jsx(Qn,{className:"w-5 h-5 mr-2 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:"Error loading services:"}),r.jsx("p",{children:n}),r.jsx("button",{onClick:b,disabled:x,className:"mt-2 px-3 py-1 bg-white border border-red-400 rounded text-red-700 text-sm hover:bg-red-50 transition flex items-center gap-1",children:x?r.jsxs(r.Fragment,{children:[r.jsx(xe,{className:"w-3 h-3 animate-spin"}),"Retrying..."]}):r.jsxs(r.Fragment,{children:[r.jsx(zn,{className:"w-3 h-3"}),"Retry Connection"]})})]})]}),t?r.jsxs("div",{className:"flex justify-center items-center py-8",children:[r.jsx(xe,{className:"w-8 h-8 animate-spin text-sky-600 mr-2"}),r.jsx("span",{className:"text-lg text-gray-700",children:"Loading services..."})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"relative",children:[r.jsx(Kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Search services...",value:o,onChange:S=>c(S.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring focus:ring-sky-200 focus:border-sky-500"})]})}),r.jsxs("div",{className:"space-y-2",children:[k.map(S=>r.jsxs("div",{className:"p-3 bg-white rounded shadow-sm flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"font-medium",children:[S.name," - ",S.currency," ",S.price]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["VAT: ",S.vat?"Yes":"No"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>m(S),className:"px-3 py-1 border rounded text-sm hover:bg-gray-50 transition",children:"View"}),r.jsxs("button",{onClick:()=>f(S),className:"px-3 py-1 border rounded text-sm hover:bg-blue-50 text-blue-600 transition flex items-center gap-1",children:[r.jsx(cn,{className:"w-3 h-3"}),"Edit"]}),r.jsxs("button",{onClick:()=>{j(S),h(null)},className:"px-3 py-1 border rounded text-sm hover:bg-red-50 text-red-600 transition flex items-center gap-1",children:[r.jsx(un,{className:"w-3 h-3"}),"Delete"]}),v!=="client"&&r.jsx("button",{onClick:()=>C(S.id),className:"text-sm px-3 py-1 border rounded",children:"Toggle VAT"})]})]},S.id)),k.length===0&&o&&r.jsxs("div",{className:"text-center py-8 text-gray-500",children:['No services found matching "',o,'"']}),k.length===0&&!o&&!t&&r.jsx("div",{className:"text-center py-8 text-gray-500",children:'No services available. Create your first service by clicking "New Service" button.'})]}),u&&r.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-30",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-6 w-full max-w-md animate-fadein",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Service Details"}),r.jsx("button",{onClick:()=>m(null),className:"text-gray-400 hover:text-gray-600",children:r.jsx(ae,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service ID"}),r.jsx("div",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:u.id})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Name"}),r.jsx("div",{className:"text-sm font-medium p-2 border rounded",children:u.name})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price"}),r.jsxs("div",{className:"text-sm font-bold text-green-700 p-2 border rounded",children:[u.currency," ",u.price]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Currency"}),r.jsx("div",{className:"text-sm p-2 border rounded",children:u.currency})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"VAT Included"}),r.jsx("div",{className:`text-sm p-2 border rounded font-medium ${u.vat?"text-green-700 bg-green-50":"text-red-700 bg-red-50"}`,children:u.vat?"YES":"NO"})]})]}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsx("button",{onClick:()=>m(null),className:"px-4 py-2 rounded border shadow hover:bg-gray-100 transition",children:"Close"})})]})}),p&&r.jsx(Gx,{service:p,onClose:()=>f(null),onSave:async S=>{await l(p.id,S),f(null)}}),g&&r.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-30",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-6 w-full max-w-md animate-fadein",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-red-600",children:"Delete Service"}),r.jsx("button",{onClick:()=>j(null),className:"text-gray-400 hover:text-gray-600",children:r.jsx(ae,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("p",{className:"text-gray-700",children:["Are you sure you want to delete"," ",r.jsx("strong",{children:g.name}),"? This action cannot be undone."]}),d&&r.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 text-red-600 text-sm rounded",children:[r.jsx("strong",{children:"Error:"})," ",d]})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>j(null),className:"px-4 py-2 rounded border shadow hover:bg-gray-100 transition",disabled:x,children:"Cancel"}),r.jsx("button",{onClick:async()=>{N(!0);try{await a(g.id),j(null)}catch(S){h(S instanceof Error?S.message:"Failed to delete service")}finally{N(!1)}},disabled:x,className:"px-4 py-2 rounded bg-red-600 text-white shadow hover:bg-red-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:x?r.jsxs(r.Fragment,{children:[r.jsx(xe,{className:"w-4 h-4 animate-spin mr-2"}),"Deleting..."]}):"Delete"})]})]})})]})]})}function Vx({onAdd:e,onSuccess:t}){const[n,s]=y.useState(!1),[l,a]=y.useState(""),[i,o]=y.useState(""),[c,u]=y.useState("USD"),[m,p]=y.useState(!1),[f,g]=y.useState(!1),[j,x]=y.useState(null),N=async()=>{if(l){g(!0),x(null);try{await e({name:l,price:Number(i)||0,currency:c,vat:m}),a(""),o(""),u("USD"),p(!1),s(!1),t()}catch(d){x(d instanceof Error?d.message:"Failed to create service")}finally{g(!1)}}};return r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>s(!0),className:"px-3 py-2 rounded bg-sky-600 text-white text-sm shadow hover:bg-sky-700 transition",children:"New Service"}),n&&r.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-30",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-6 w-full max-w-md animate-fadein",children:[r.jsx("div",{className:"mb-4 text-lg font-semibold",children:"New Service"}),j&&r.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-600 text-sm rounded",children:[r.jsx("strong",{children:"Error:"})," ",j]}),r.jsx("input",{value:l,onChange:d=>a(d.target.value),placeholder:"Name",className:"border px-2 py-1 rounded w-full mb-3 focus:ring focus:ring-sky-200",autoFocus:!0}),r.jsxs("div",{className:"flex gap-2 mb-3",children:[r.jsx("input",{value:i,onChange:d=>o(d.target.value),placeholder:"Price",className:"border px-2 py-1 rounded w-32 focus:ring focus:ring-sky-200"}),r.jsx("input",{value:c,onChange:d=>u(d.target.value),placeholder:"Currency",className:"border px-2 py-1 rounded w-24 focus:ring focus:ring-sky-200"}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:m,onChange:d=>p(d.target.checked)})," ","VAT"]})]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx("button",{onClick:N,disabled:f||!l.trim(),className:"px-4 py-2 rounded bg-sky-600 text-white shadow hover:bg-sky-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:f?r.jsxs(r.Fragment,{children:[r.jsx(xe,{className:"w-4 h-4 animate-spin mr-2"}),"Creating..."]}):"Create"}),r.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 rounded border shadow hover:bg-gray-100 transition",children:"Cancel"})]})]})})]})}function Gx({service:e,onClose:t,onSave:n}){const[s,l]=y.useState(e.name),[a,i]=y.useState(e.price.toString()),[o,c]=y.useState(e.currency),[u,m]=y.useState(e.vat||!1),[p,f]=y.useState(!1),[g,j]=y.useState(null),x=async()=>{if(s.trim()){f(!0),j(null);try{await n({name:s,price:Number(a)||0,currency:o,vat:u}),t()}catch(N){j(N instanceof Error?N.message:"Failed to update service"),f(!1)}}};return r.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-30",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-6 w-full max-w-md animate-fadein",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Edit Service"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:r.jsx(ae,{className:"w-5 h-5"})})]}),g&&r.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-600 text-sm rounded",children:[r.jsx("strong",{children:"Error:"})," ",g]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Name *"}),r.jsx("input",{value:s,onChange:N=>l(N.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring focus:ring-sky-200 focus:border-sky-500",placeholder:"Service name",autoFocus:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price *"}),r.jsx("input",{value:a,onChange:N=>i(N.target.value),type:"number",step:"0.01",className:"w-full px-3 py-2 border rounded-lg focus:ring focus:ring-sky-200 focus:border-sky-500",placeholder:"0.00"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Currency"}),r.jsx("input",{value:o,onChange:N=>c(N.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring focus:ring-sky-200 focus:border-sky-500",placeholder:"USD"})]})]}),r.jsx("div",{children:r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:u,onChange:N=>m(N.target.checked),className:"rounded focus:ring focus:ring-sky-200"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"VAT included"})]})})]}),r.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 rounded border shadow hover:bg-gray-100 transition",children:"Cancel"}),r.jsx("button",{onClick:x,disabled:p||!s.trim(),className:"px-4 py-2 rounded bg-sky-600 text-white shadow hover:bg-sky-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:p?r.jsxs(r.Fragment,{children:[r.jsx(xe,{className:"w-4 h-4 animate-spin mr-2"}),"Saving..."]}):"Save Changes"})]})]})})}function Qx({onInvoiceCreated:e}){const[t,n]=y.useState(!1),[s,l]=y.useState(""),[a,i]=y.useState(""),{jobs:o,loading:c}=hl(),{createInvoice:u}=rm(),m=f=>{if(Vi(f))return f.billOfLading.masterBL;if(Ji(f))return f.awb.masterAirWaybill;if(Gi(f))return f.plateNumber},p=async()=>{if(!s||!a)return;const f=o.find(g=>g.id===s);if(f)try{const g=wc(f),j=g.reduce((h,v)=>h+v.amount,0),x=g.reduce((h,v)=>h+v.billingAmount,0),N={clientId:f.clientId,jobId:f.id,jobNumber:f.jobNumber,bookingNumber:m(f),status:"PENDING",currency:"USD",invoiceDate:new Date().toISOString(),lineItems:g,subTotal:j,total:x},d=await u(N);e==null||e(d),n(!1),l(""),i("")}catch(g){console.error("Failed to create invoice:",g),alert("Failed to create invoice. Please try again.")}};return r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[r.jsx(Ba,{className:"w-4 h-4"}),"Create from Job"]}),t&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Un,{className:"w-5 h-5 text-blue-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Create Invoice from Job"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invoice Number"}),r.jsx("input",{type:"text",value:a,onChange:f=>i(f.target.value),placeholder:"INV-001",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Job"}),r.jsxs("select",{value:s,onChange:f=>l(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",disabled:c,children:[r.jsx("option",{value:"",children:c?"Loading jobs...":"Choose a job..."}),o.map(f=>r.jsxs("option",{value:f.id,children:[f.jobNumber," - ",f.clientName," (",dt(f.jobType),")"]},f.id))]}),!c&&o.length===0&&r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"No jobs available for invoicing"})]}),s&&(()=>{const f=o.find(x=>x.id===s),g=wc(f),j=g.reduce((x,N)=>x+N.billingAmount,0);return r.jsxs("div",{className:"bg-gray-50 p-3 rounded-md",children:[r.jsx("h4",{className:"font-medium text-sm text-gray-700 mb-2",children:"Invoice Preview"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Client:"}),r.jsx("span",{children:f.clientName})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Service:"}),r.jsx("span",{children:dt(f.jobType)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Line Items:"}),r.jsxs("span",{children:[g.length," items"]})]}),r.jsxs("div",{className:"flex justify-between font-medium pt-1 border-t",children:[r.jsx("span",{children:"Total:"}),r.jsxs("span",{children:["USD ",j.toLocaleString()]})]})]})]})})()]}),r.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[r.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50 transition",children:"Cancel"}),r.jsx("button",{onClick:p,disabled:!s||!a,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Create Invoice"})]})]})})]})}function Kx(e){const t=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],n=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],s=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],l=["","Thousand","Million","Billion"];if(e===0)return"Zero";function a(c){let u="";return c>=100&&(u+=t[Math.floor(c/100)]+" Hundred ",c%=100),c>=20&&(u+=s[Math.floor(c/10)]+" ",c%=10),c>=10?u+=n[c-10]+" ":c>0&&(u+=t[c]+" "),u}let i="",o=0;for(;e>0;)e%1e3!==0&&(i=a(e%1e3)+l[o]+" "+i),e=Math.floor(e/1e3),o++;return i.trim()}const je={name:"Aviation Africa Ltd",regNumber:"R.C: Bba RJ7J",address:{line1:"EAR Building, 2nd Floor, No 1 Giporoso",line2:"Kigali, RWANDA"},email:"info@aal.rw",phone:"+250 783 456 789",logo:"/logo.jpeg",watermark:"/watermark.jpeg",bankDetails:{bank:"Bank of Kigali",accountName:"Aviation Africa Ltd",accountNumber:"9030020478362",swiftCode:"BKIGRWRW",branch:"Head Office"},paymentTerms:["Payment due within 30 days of invoice date","Late payment attracts 2% monthly interest","All payments should be made in USD","Bank charges to be borne by client","Quote invoice number on payment"]};function Yx({invoice:e,onClose:t}){var c,u,m,p,f,g,j;const{jobs:n}=hl(),{clients:s}=Hr(),l=()=>{window.print()},a=e.jobId?n.find(x=>x.id===e.jobId):null,i=e.clientId?s.find(x=>x.id===e.clientId):null;qs.useEffect(()=>{console.log("PrintableInvoice - Invoice:",e),console.log("PrintableInvoice - Jobs available:",n.length),console.log("PrintableInvoice - Clients available:",s.length),console.log("PrintableInvoice - Looking for job ID:",e.jobId),console.log("PrintableInvoice - Looking for client ID:",e.clientId),console.log("PrintableInvoice - Associated job found:",!!a),console.log("PrintableInvoice - Associated client found:",!!i),e.jobId&&n.length>0&&console.log("PrintableInvoice - Job IDs available:",n.map(x=>x.id)),e.clientId&&s.length>0&&console.log("PrintableInvoice - Client IDs available:",s.map(x=>x.id))},[e,n,s,a,i]);const o=x=>{const N=x instanceof Date?x:new Date(x);return isNaN(N.getTime())?"Invalid Date":N.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})};return r.jsxs("div",{className:"fixed inset-0 z-50 bg-white flex flex-col",children:[r.jsxs("div",{className:"print:hidden bg-gray-100 p-4 border-b flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Invoice Preview"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:l,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Print Invoice"}),r.jsx("button",{onClick:t,className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Close"})]})]}),r.jsxs("div",{className:"flex-1 overflow-auto bg-gray-50",children:[r.jsx("style",{children:`
          @media print {
            @page {
              size: A4;
              margin: 0.3in;
            }
            body {
              margin: 0;
              font-size: 10px;
              zoom: 1;
            }
            .invoice-container {
              width: 100% !important;
              max-width: 100% !important;
              font-size: 9px !important;
              line-height: 1.1 !important;
              transform: none !important;
              padding: 0 !important;
              margin: 0 !important;
            }
            .invoice-table {
              font-size: 8px !important;
              width: 100% !important;
            }
            .invoice-table th,
            .invoice-table td {
              padding: 1px 2px !important;
              font-size: 7px !important;
            }
            .shipment-details {
              font-size: 7px !important;
            }
            .job-details-section {
              font-size: 7px !important;
              margin-bottom: 8px !important;
            }
            .job-details-section .grid {
              gap: 4px !important;
            }
            .job-details-section .text-xs {
              font-size: 6px !important;
              line-height: 1.2 !important;
            }
            .job-details-section .bg-blue-50 {
              background-color: #f8fafc !important;
              border: 1px solid #e2e8f0 !important;
            }
            .invoice-header {
              font-size: 8px !important;
            }
            .invoice-title {
              font-size: 14px !important;
            }
            .watermark {
              opacity: 0.08 !important;
              background-size: 40% !important;
            }
            .print-controls {
              display: none !important;
            }
          }
          
          @media screen {
            .invoice-container {
              transform: scale(0.85);
              transform-origin: top center;
              width: 117.6%;
              margin: 0 auto;
              position: relative;
            }
            .watermark {
              opacity: 0.15;
              background-size: 30%;
            }
          }
        `}),r.jsxs("div",{className:"invoice-container p-6 print:p-0 relative min-h-full",children:[r.jsx("div",{className:"watermark absolute inset-0 pointer-events-none z-0",style:{backgroundImage:`url(${je.watermark})`,backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%",opacity:.15}}),r.jsxs("div",{className:"max-w-4xl mx-auto print:max-w-none relative z-10 shadow-lg print:shadow-none p-6 print:p-0",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3 print:mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 print:w-8 print:h-8",children:r.jsx("img",{src:je.logo,alt:`${je.name} Logo`,className:"w-full h-full object-contain"})}),r.jsxs("div",{className:"invoice-header text-xs print:text-[8px]",children:[r.jsx("div",{className:"font-bold text-base print:text-sm",children:je.name}),r.jsx("div",{children:je.regNumber}),r.jsxs("div",{children:[je.address.line1,r.jsx("br",{})," ",je.address.line2]}),r.jsxs("div",{children:["Email: ",je.email]}),r.jsxs("div",{children:["Phone: ",je.phone]})]})]}),r.jsx("div",{className:"text-right",children:r.jsx("div",{className:"border border-black p-1 font-mono text-xs print:text-[8px]",children:e.number})})]}),r.jsx("div",{className:"text-center mb-4 print:mb-3",children:r.jsx("h1",{className:"invoice-title text-2xl font-bold print:text-lg",children:"Invoice"})}),r.jsxs("div",{className:"flex justify-between mb-4 print:mb-3",children:[r.jsxs("div",{className:"w-1/2",children:[r.jsx("div",{className:"font-semibold mb-1",children:"To,"}),r.jsx("div",{className:"font-bold",children:(i==null?void 0:i.name)||e.clientName}),i?r.jsxs("div",{className:"space-y-1",children:[i.address&&r.jsx("div",{className:"text-sm",children:i.address}),i.phone&&r.jsxs("div",{className:"text-sm",children:["Ph: ",i.phone]}),i.email&&r.jsxs("div",{className:"text-sm",children:["Email: ",i.email]}),i.tin&&r.jsxs("div",{className:"text-sm",children:["TIN: ",i.tin]}),!i.address&&!i.phone&&!i.email&&r.jsx("div",{className:"text-sm text-gray-400 italic",children:"No additional contact information available"})]}):e.clientId?r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-sm text-orange-600",children:"Client details not found"}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Client ID: ",e.clientId]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Available clients: ",s.length]})]}):r.jsx("div",{className:"text-sm text-gray-400 italic",children:"No client information available"})]}),r.jsx("div",{className:"w-1/2 text-right text-sm",children:r.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[r.jsx("div",{className:"font-semibold",children:"Invoice No:"}),r.jsx("span",{children:e.number}),r.jsx("div",{className:"font-semibold",children:"Invoice Status:"}),r.jsx("span",{className:"capitalize",children:e.status}),r.jsx("div",{className:"font-semibold",children:"Invoice Due Date:"}),r.jsx("span",{children:o(e.invoiceDate)}),r.jsx("div",{className:"font-semibold",children:"Job Code:"}),r.jsx("span",{children:e.jobNumber||"-"}),r.jsx("div",{className:"font-semibold",children:"Job Date:"}),r.jsx("span",{children:a!=null&&a.createdAt?o(a.createdAt):"01/03/2024"}),r.jsx("div",{className:"font-semibold",children:"Currency Code:"}),r.jsx("span",{children:e.currency})]})})]}),a?r.jsxs("div",{className:"job-details-section mb-4 print:mb-3",children:[r.jsx("div",{className:"font-semibold mb-3 text-base print:text-sm border-b border-gray-300 pb-1",children:"Shipment Details"}),r.jsx("div",{className:"mb-4 print:mb-3",children:r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"font-semibold text-sm text-blue-600 mb-2",children:"Origin & Shipper"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Port of Loading:"}),r.jsx("br",{}),r.jsx("span",{className:"text-gray-600",children:a.portOfLoading||"-"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Shipper:"}),r.jsx("br",{}),r.jsx("span",{className:"text-gray-600",children:a.shipper||"-"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Job Number:"}),r.jsx("br",{}),r.jsx("span",{className:"text-gray-600",children:a.jobNumber})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Service Type:"}),r.jsx("br",{}),r.jsx("span",{className:"text-blue-600 font-medium",children:dt(a.jobType)})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"font-semibold text-sm text-blue-600 mb-2",children:"Destination & Consignee"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Port of Discharge:"}),r.jsx("br",{}),r.jsx("span",{className:"text-gray-600",children:a.portOfDischarge||"-"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Consignee:"}),r.jsx("br",{}),r.jsx("span",{className:"text-gray-600",children:a.consignee||"-"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Client:"}),r.jsx("br",{}),r.jsx("span",{className:"text-gray-600",children:a.clientName||e.clientName})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Shipment Date:"}),r.jsx("br",{}),r.jsx("span",{className:"text-gray-600",children:a.createdAt?o(a.createdAt):"-"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"font-semibold text-sm text-blue-600 mb-2",children:"Transport Documents"}),Ji(a)&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Master AWB:"}),r.jsx("br",{}),r.jsx("span",{className:"text-gray-600",children:((c=a.awb)==null?void 0:c.masterAirWaybill)||"-"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"House AWB:"}),r.jsx("br",{}),r.jsx("span",{className:"text-gray-600",children:((u=a.awb)==null?void 0:u.houseAirWaybill)||"-"})]})]}),Vi(a)&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Master B/L:"}),r.jsx("br",{}),r.jsx("span",{className:"text-gray-600",children:((m=a.billOfLading)==null?void 0:m.masterBL)||"-"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"House B/L:"}),r.jsx("br",{}),r.jsx("span",{className:"text-gray-600",children:((p=a.billOfLading)==null?void 0:p.houseBL)||"-"})]})]}),Gi(a)&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Plate Number:"}),r.jsx("br",{}),r.jsx("span",{className:"text-gray-600",children:a.plateNumber||"-"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Container No:"}),r.jsx("br",{}),r.jsx("span",{className:"text-gray-600",children:a.containerNumber||"-"})]})]})]})]})}),r.jsxs("div",{className:"mb-3 print:mb-2",children:[r.jsx("div",{className:"font-semibold mb-2 text-sm text-gray-700",children:"Cargo Details"}),r.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs bg-gray-50 p-3 rounded",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Package Type:"}),r.jsx("br",{}),r.jsx("span",{className:"text-gray-600",children:a.package||"-"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Description of Goods:"}),r.jsx("br",{}),r.jsx("span",{className:"text-gray-600",children:a.goodDescription||"-"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Gross Weight:"}),r.jsx("br",{}),r.jsx("span",{className:"text-gray-600",children:a.grossWeight?`${a.grossWeight} kg`:"-"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Chargeable Weight:"}),r.jsx("br",{}),r.jsx("span",{className:"text-gray-600",children:a.chargeableWeight?`${a.chargeableWeight} kg`:"-"})]})]})]}),r.jsxs("div",{className:"mb-3 print:mb-2",children:[r.jsx("div",{className:"font-semibold mb-2 text-sm text-gray-700",children:"Additional Information"}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Job ID:"}),r.jsx("br",{}),r.jsx("span",{className:"text-gray-600 font-mono text-xs",children:a.id})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Status:"}),r.jsx("br",{}),r.jsx("span",{className:"text-gray-600 capitalize",children:a.status||"OPEN"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Last Updated:"}),r.jsx("br",{}),r.jsx("span",{className:"text-gray-600",children:a.updatedAt?o(a.updatedAt):"-"})]})]})]})]}):e.jobId?r.jsxs("div",{className:"mb-4 print:mb-3",children:[r.jsx("div",{className:"font-semibold mb-3 text-base print:text-sm border-b border-gray-300 pb-1",children:"Shipment Details"}),r.jsxs("div",{className:"text-sm text-gray-500 bg-yellow-50 p-3 rounded border border-yellow-200",children:[r.jsx("p",{className:"font-medium text-yellow-700 mb-1",children:"Job details not available"}),r.jsxs("p",{children:["Job ID: ",e.jobId]}),r.jsxs("p",{children:["Available jobs: ",n.length]}),r.jsx("p",{className:"text-xs mt-2",children:"The job associated with this invoice could not be found in the current job list."})]})]}):null,r.jsx("div",{className:"mb-3 print:mb-2",children:r.jsxs("table",{className:"invoice-table w-full border-collapse border border-black",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-100",children:[r.jsx("th",{className:"border border-black p-1 text-left font-semibold",style:{width:"25%"},children:"Charge Description"}),r.jsx("th",{className:"border border-black p-1 text-center font-semibold",style:{width:"12%"},children:"Based On"}),r.jsx("th",{className:"border border-black p-1 text-center font-semibold",style:{width:"12%"},children:"Rate & Curr"}),r.jsx("th",{className:"border border-black p-1 text-center font-semibold",style:{width:"8%"},children:"Ex Rate"}),r.jsx("th",{className:"border border-black p-1 text-right font-semibold",style:{width:"10%"},children:"Amount"}),r.jsx("th",{className:"border border-black p-1 text-center font-semibold",style:{width:"8%"},children:"Tax %"}),r.jsx("th",{className:"border border-black p-1 text-right font-semibold",style:{width:"10%"},children:"Tax Amount"}),r.jsx("th",{className:"border border-black p-1 text-right font-semibold",style:{width:"15%"},children:"Billing Amount (USD)"})]})}),r.jsx("tbody",{children:(f=e.lineItems)==null?void 0:f.map((x,N)=>{var d,h;return r.jsxs("tr",{children:[r.jsx("td",{className:"border border-black p-1",children:x.description}),r.jsx("td",{className:"border border-black p-1 text-center",children:x.basedOn||"Flat"}),r.jsxs("td",{className:"border border-black p-1 text-center",children:[(d=x.rate)==null?void 0:d.toFixed(2)," ",x.currency||"USD"]}),r.jsx("td",{className:"border border-black p-1 text-center",children:"1.00"}),r.jsx("td",{className:"border border-black p-1 text-right",children:(h=x.amount)==null?void 0:h.toFixed(2)}),r.jsx("td",{className:"border border-black p-1 text-center",children:x.taxPercent||""}),r.jsx("td",{className:"border border-black p-1 text-right",children:x.taxAmount?x.taxAmount.toFixed(2):""}),r.jsx("td",{className:"border border-black p-1 text-right",children:(x.amount||0).toFixed(2)})]},N)})})]})}),r.jsx("div",{className:"mb-3 print:mb-2",children:r.jsxs("div",{className:"border border-black p-1 bg-gray-50",children:[r.jsx("span",{className:"font-semibold",children:"Amount in Words: "}),"USD ",Kx(e.total||0)," only"]})}),r.jsx("div",{className:"flex justify-end mb-3 print:mb-2",children:r.jsx("div",{className:"w-1/3",children:r.jsx("table",{className:"invoice-table w-full border-collapse border border-black",children:r.jsxs("tbody",{children:[r.jsxs("tr",{children:[r.jsx("td",{className:"border border-black p-1 font-semibold",children:"Sub Total (USD)"}),r.jsx("td",{className:"border border-black p-1 text-right",children:(g=e.subTotal)==null?void 0:g.toFixed(2)})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"border border-black p-1 font-semibold",children:"Total Tax"}),r.jsx("td",{className:"border border-black p-1 text-right",children:"0.00"})]}),r.jsxs("tr",{className:"bg-gray-100",children:[r.jsx("td",{className:"border border-black p-1 font-bold",children:"Total (USD)"}),r.jsx("td",{className:"border border-black p-1 text-right font-bold",children:(j=e.total)==null?void 0:j.toFixed(2)})]})]})})})}),r.jsxs("div",{className:"mb-2 print:mb-1",children:[r.jsx("div",{className:"font-semibold mb-1",children:"Remarks"}),r.jsx("div",{className:"min-h-[30px] border-b border-gray-300",children:e.remarks||"Thank you for your business"})]}),r.jsx("div",{className:"mb-3 print:mb-2",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"border border-black p-2",children:[r.jsx("div",{className:"font-semibold mb-1",children:"Bank Details"}),r.jsxs("div",{className:"space-y-1 text-xs",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Bank:"})," ",je.bankDetails.bank]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Account Name:"})," ",je.bankDetails.accountName]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Account No:"})," ",je.bankDetails.accountNumber]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Swift Code:"})," ",je.bankDetails.swiftCode]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Branch:"})," ",je.bankDetails.branch]})]})]}),r.jsxs("div",{className:"border border-black p-2",children:[r.jsx("div",{className:"font-semibold mb-1",children:"Terms of Payment"}),r.jsx("div",{className:"space-y-1 text-xs",children:je.paymentTerms.map((x,N)=>r.jsxs("div",{children:["• ",x]},N))})]})]})})]})]})]})]})}function Xx(e,t="invoices.csv"){const n=new Blob([e],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(n),l=document.createElement("a");l.href=s,l.download=t,l.click(),URL.revokeObjectURL(s)}function qx(){const{invoices:e,loading:t,error:n,createInvoice:s,updateInvoice:l,deleteInvoice:a}=rm(),{jobs:i}=hl();Hr();const[o,c]=y.useState(""),[u,m]=y.useState("number"),[p,f]=y.useState("desc"),[g,j]=y.useState("all"),[x,N]=y.useState(null),[d,h]=y.useState(null),[v,b]=y.useState(null),[k,C]=y.useState(null),S=y.useMemo(()=>{let w=e||[];return o&&(w=w.filter(I=>{var T;return I.number.toLowerCase().includes(o.toLowerCase())||((T=I.client)==null?void 0:T.name)&&I.client.name.toLowerCase().includes(o.toLowerCase())||I.status.toLowerCase().includes(o.toLowerCase())||I.total.toString().includes(o)||I.currency.toLowerCase().includes(o.toLowerCase())||I.jobNumber&&I.jobNumber.toLowerCase().includes(o.toLowerCase())||I.bookingNumber&&I.bookingNumber.toLowerCase().includes(o.toLowerCase())})),g!=="all"&&(w=w.filter(I=>I.status===g.toUpperCase())),w=[...w].sort((I,T)=>{var A,R;let F="",W="";switch(u){case"number":F=I.number.toLowerCase(),W=T.number.toLowerCase();break;case"client":F=(((A=I.client)==null?void 0:A.name)||"").toLowerCase(),W=(((R=T.client)==null?void 0:R.name)||"").toLowerCase();break;case"status":F=I.status.toLowerCase(),W=T.status.toLowerCase();break;case"total":F=I.total,W=T.total;break;case"date":F=new Date(I.invoiceDate).getTime(),W=new Date(T.invoiceDate).getTime();break;default:F=I.number.toLowerCase(),W=T.number.toLowerCase()}return typeof F=="number"&&typeof W=="number"?p==="asc"?F-W:W-F:p==="asc"?F.toString().localeCompare(W.toString()):W.toString().localeCompare(F.toString())}),w},[e,o,u,p,g]);return t?r.jsxs("div",{className:"flex items-center justify-center h-64",children:[r.jsx(xe,{className:"w-8 h-8 animate-spin text-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600",children:"Loading invoices..."})]}):n?r.jsxs("div",{className:"flex items-center justify-center h-64",children:[r.jsx(Qn,{className:"w-8 h-8 text-red-600"}),r.jsxs("span",{className:"ml-2 text-red-600",children:["Error loading invoices: ",n]})]}):r.jsxs("div",{children:[r.jsx(Jr,{show:zt()}),r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"page-title",children:"Invoices"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Qx,{}),r.jsx(e0,{onInvoiceCreated:s}),r.jsx("button",{onClick:()=>{const w=["Number,Client,Job Number,Status,Total,Currency,Invoice Date",...S.map(I=>{var T;return`${I.number},"${((T=I.client)==null?void 0:T.name)||"Unknown"}",${I.jobNumber||""},${I.status},${I.total},${I.currency},${new Date(I.invoiceDate).toLocaleDateString()}`})];Xx(w.join(`
`))},className:"px-3 py-2 rounded border text-sm shadow hover:bg-gray-50 transition",children:"Export CSV"})]})]}),r.jsxs("div",{className:"mb-4 space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Search invoices...",value:o,onChange:w=>c(w.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring focus:ring-sky-200 focus:border-sky-500"})]}),r.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wi,{className:"w-4 h-4 text-gray-500"}),r.jsxs("select",{value:u,onChange:w=>m(w.target.value),className:"px-3 py-2 border rounded-lg focus:ring focus:ring-sky-200 focus:border-sky-500",children:[r.jsx("option",{value:"number",children:"Sort by Invoice #"}),r.jsx("option",{value:"client",children:"Sort by Client"}),r.jsx("option",{value:"status",children:"Sort by Status"}),r.jsx("option",{value:"total",children:"Sort by Total"}),r.jsx("option",{value:"date",children:"Sort by Date"})]})]}),r.jsxs("button",{onClick:()=>f(p==="asc"?"desc":"asc"),className:"px-3 py-2 border rounded-lg hover:bg-gray-50 transition flex items-center gap-2",children:[p==="asc"?"↑":"↓"," ",p==="asc"?"Ascending":"Descending"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qd,{className:"w-4 h-4 text-gray-500"}),r.jsxs("select",{value:g,onChange:w=>j(w.target.value),className:"px-3 py-2 border rounded-lg focus:ring focus:ring-sky-200 focus:border-sky-500",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"paid",children:"Paid"}),r.jsx("option",{value:"unpaid",children:"Unpaid"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"draft",children:"Draft"}),r.jsx("option",{value:"overdue",children:"Overdue"}),r.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[S.map(w=>{var T;const I=w.jobId?i==null?void 0:i.find(F=>F.id===w.jobId):null;return r.jsxs("div",{className:"card flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[r.jsxs("div",{className:"font-medium text-lg",children:["Invoice ",w.number]}),r.jsx("div",{className:`text-xs px-2 py-1 rounded ${w.status==="PAID"?"bg-green-100 text-green-700":w.status==="UNPAID"?"bg-red-100 text-red-700":w.status==="PENDING"?"bg-yellow-100 text-yellow-700":w.status==="DRAFT"?"bg-gray-100 text-gray-700":w.status==="OVERDUE"?"bg-red-200 text-red-800":"bg-gray-100 text-gray-700"}`,children:w.status})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm text-gray-600",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Client:"})," ",((T=w.client)==null?void 0:T.name)||"Unknown Client"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Amount:"})," ",w.currency," ",w.total.toLocaleString()]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Date:"})," ",new Date(w.invoiceDate).toLocaleDateString()]})]}),(w.jobNumber||w.bookingNumber||I)&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm text-gray-500 mt-1",children:[r.jsx("div",{children:w.jobNumber&&r.jsxs("span",{children:[r.jsx("span",{className:"font-medium",children:"Job:"})," ",w.jobNumber]})}),r.jsx("div",{children:w.bookingNumber&&r.jsxs("span",{children:[r.jsx("span",{className:"font-medium",children:"Booking:"})," ",w.bookingNumber]})}),r.jsx("div",{children:I&&r.jsxs("span",{children:[r.jsx("span",{className:"font-medium",children:"Service:"})," ",dt(I.jobType)]})})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>N(w),className:"px-3 py-1 border rounded text-sm hover:bg-gray-50 transition",children:"View"}),r.jsxs("button",{onClick:()=>C(w),className:"px-3 py-1 border rounded text-sm hover:bg-blue-50 text-blue-600 transition flex items-center gap-1",children:[r.jsx(gc,{className:"w-3 h-3"}),"Print"]}),r.jsxs("button",{onClick:()=>h(w),className:"px-3 py-1 border rounded text-sm hover:bg-blue-50 text-blue-600 transition flex items-center gap-1",children:[r.jsx(cn,{className:"w-3 h-3"}),"Edit"]}),r.jsxs("button",{onClick:()=>b(w),className:"px-3 py-1 border rounded text-sm hover:bg-red-50 text-red-600 transition flex items-center gap-1",children:[r.jsx(un,{className:"w-3 h-3"}),"Delete"]})]})]},w.id)}),S.length===0&&!o&&e.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Un,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500 text-lg mb-2",children:"No invoices yet"}),r.jsx("p",{className:"text-gray-400 text-sm",children:'Click "New Invoice" to create your first invoice'})]}),S.length===0&&o&&r.jsxs("div",{className:"text-center py-8 text-gray-500",children:['No invoices found matching "',o,'"']})]}),x&&r.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-30",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-6 w-full max-w-lg animate-fadein",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Invoice Details"}),r.jsx("button",{onClick:()=>N(null),className:"text-gray-400 hover:text-gray-600",children:r.jsx(ae,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invoice Number"}),r.jsx("div",{className:"text-sm font-medium p-2 border rounded",children:x.number})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsx("div",{className:`text-sm p-2 border rounded font-medium ${x.status==="PAID"?"text-green-700 bg-green-50":x.status==="UNPAID"?"text-red-700 bg-red-50":x.status==="PENDING"?"text-yellow-700 bg-yellow-50":(x.status==="DRAFT","text-gray-700 bg-gray-50")}`,children:x.status})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client"}),r.jsx("div",{className:"text-sm p-2 border rounded",children:x.clientName})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Amount"}),r.jsxs("div",{className:"text-lg font-semibold p-2 border rounded",children:[x.currency," ",x.total.toLocaleString()]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job ID"}),r.jsx("div",{className:"text-sm p-2 border rounded",children:x.jobId||"No job assigned"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invoice ID"}),r.jsx("div",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:x.id})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[r.jsxs("button",{onClick:()=>C(x),className:"px-4 py-2 rounded bg-blue-600 text-white shadow hover:bg-blue-700 transition flex items-center gap-2",children:[r.jsx(gc,{className:"w-4 h-4"}),"Print Invoice"]}),r.jsx("button",{onClick:()=>N(null),className:"px-4 py-2 rounded border shadow hover:bg-gray-100 transition",children:"Close"})]})]})}),d&&r.jsx(Zx,{invoice:d,onClose:()=>h(null),onSave:async w=>{try{await l(d.id,w),h(null)}catch(I){console.error("Failed to update invoice:",I),alert("Failed to update invoice. Please try again.")}}}),v&&r.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-30",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-6 w-full max-w-md animate-fadein",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-red-600",children:"Delete Invoice"}),r.jsx("button",{onClick:()=>b(null),className:"text-gray-400 hover:text-gray-600",children:r.jsx(ae,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"mb-6",children:r.jsxs("p",{className:"text-gray-700",children:["Are you sure you want to delete invoice"," ",r.jsx("strong",{children:v.number}),"? This action cannot be undone."]})}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>b(null),className:"px-4 py-2 rounded border shadow hover:bg-gray-100 transition",children:"Cancel"}),r.jsx("button",{onClick:async()=>{try{await a(v.id),b(null)}catch(w){console.error("Failed to delete invoice:",w),alert("Failed to delete invoice. Please try again.")}},className:"px-4 py-2 rounded bg-red-600 text-white shadow hover:bg-red-700 transition",children:"Delete"})]})]})}),k&&r.jsx(Yx,{invoice:k,onClose:()=>C(null)})]})}function Zx({invoice:e,onClose:t,onSave:n}){var j;const[s,l]=y.useState(e.number),[a,i]=y.useState(((j=e.client)==null?void 0:j.name)||""),[o,c]=y.useState(e.status),[u,m]=y.useState(e.total.toString()),[p,f]=y.useState(e.currency),g=()=>{!s.trim()||!a.trim()||n({number:s,status:o,total:Number(u)||0,currency:p})};return r.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-30",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-6 w-full max-w-md animate-fadein",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Edit Invoice"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:r.jsx(ae,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invoice Number *"}),r.jsx("input",{value:s,onChange:x=>l(x.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring focus:ring-sky-200 focus:border-sky-500",placeholder:"INV-001",autoFocus:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client Name *"}),r.jsx("input",{value:a,onChange:x=>i(x.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring focus:ring-sky-200 focus:border-sky-500",placeholder:"Client name"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total *"}),r.jsx("input",{value:u,onChange:x=>m(x.target.value),type:"number",step:"0.01",className:"w-full px-3 py-2 border rounded-lg focus:ring focus:ring-sky-200 focus:border-sky-500",placeholder:"0.00"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Currency"}),r.jsx("input",{value:p,onChange:x=>f(x.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring focus:ring-sky-200 focus:border-sky-500",placeholder:"USD"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{value:o,onChange:x=>c(x.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring focus:ring-sky-200 focus:border-sky-500",children:[r.jsx("option",{value:"DRAFT",children:"Draft"}),r.jsx("option",{value:"PENDING",children:"Pending"}),r.jsx("option",{value:"PAID",children:"Paid"}),r.jsx("option",{value:"UNPAID",children:"Unpaid"}),r.jsx("option",{value:"OVERDUE",children:"Overdue"}),r.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 rounded border shadow hover:bg-gray-100 transition",children:"Cancel"}),r.jsx("button",{onClick:g,className:"px-4 py-2 rounded bg-sky-600 text-white shadow hover:bg-sky-700 transition",children:"Save Changes"})]})]})})}function e0({onInvoiceCreated:e}){const[t,n]=y.useState(!1),[s,l]=y.useState(""),[a,i]=y.useState(""),[o,c]=y.useState(""),[u,m]=y.useState(""),{clients:p}=Hr(),f=async()=>{if(!(!s||!a))try{const g=p.find(j=>j.id===a);await e({clientId:a,status:"DRAFT",total:Number(o)||0,currency:"USD",invoiceDate:new Date().toISOString(),lineItems:[{description:u||"Service charge",basedOn:"Service",rate:Number(o)||0,currency:"USD",amount:Number(o)||0,billingAmount:Number(o)||0}],subTotal:Number(o)||0}),l(""),i(""),c(""),m(""),n(!1)}catch(g){console.error("Failed to create invoice:",g),alert("Failed to create invoice. Please try again.")}};return r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-2 px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 transition",children:[r.jsx(em,{className:"w-4 h-4"}),"New Invoice"]}),t&&r.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-30",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-6 w-full max-w-md animate-fadein",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Un,{className:"w-5 h-5 text-sky-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Create New Invoice"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invoice Number"}),r.jsx("input",{value:s,onChange:g=>l(g.target.value),placeholder:"INV-001",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-sky-500",autoFocus:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client"}),r.jsxs("select",{value:a,onChange:g=>i(g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-sky-500",children:[r.jsx("option",{value:"",children:"Select a client..."}),p.map(g=>r.jsx("option",{value:g.id,children:g.name},g.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("input",{value:u,onChange:g=>m(g.target.value),placeholder:"Service description",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-sky-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Amount"}),r.jsx("input",{value:o,onChange:g=>c(g.target.value),placeholder:"0.00",type:"number",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-sky-500"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[r.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50 transition",children:"Cancel"}),r.jsx("button",{onClick:f,disabled:!s||!a,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Create Invoice"})]})]})})]})}function t0(){const{expenses:e,loading:t,error:n,updateExpense:s,deleteExpense:l,refetch:a}=sm(),[i,o]=y.useState(""),[c,u]=y.useState(null),[m,p]=y.useState(null),[f,g]=y.useState(null),[j,x]=y.useState(!1),[N,d]=y.useState(null),h=async()=>{x(!0);try{Br(),await mn(),await a()}finally{x(!1)}},v=y.useMemo(()=>{const b=e||[];return i?b.filter(k=>{var C,S;return k.title.toLowerCase().includes(i.toLowerCase())||k.amount.toString().includes(i)||k.currency.toLowerCase().includes(i.toLowerCase())||((C=k.jobNumber)==null?void 0:C.toLowerCase().includes(i.toLowerCase()))||((S=k.supplierName)==null?void 0:S.toLowerCase().includes(i.toLowerCase()))}):b},[e,i]);return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"page-title",children:"Expenses"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:a,disabled:t||j,className:"px-3 py-2 rounded border text-gray-600 text-sm hover:bg-gray-50 transition flex items-center gap-1",title:"Refresh expenses data",children:[r.jsx(zn,{className:`w-4 h-4 ${t?"animate-spin":""}`}),"Refresh"]}),r.jsx(r0,{})]})]}),r.jsx(Jr,{show:zt()}),n&&r.jsxs("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded flex items-start",children:[r.jsx(Qn,{className:"w-5 h-5 mr-2 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:"Error loading expenses:"}),r.jsx("p",{children:n}),r.jsx("button",{onClick:h,disabled:j,className:"mt-2 px-3 py-1 bg-white border border-red-400 rounded text-red-700 text-sm hover:bg-red-50 transition flex items-center gap-1",children:j?r.jsxs(r.Fragment,{children:[r.jsx(xe,{className:"w-3 h-3 animate-spin"}),"Retrying..."]}):r.jsxs(r.Fragment,{children:[r.jsx(zn,{className:"w-3 h-3"}),"Retry Connection"]})})]})]}),t?r.jsxs("div",{className:"flex justify-center items-center py-8",children:[r.jsx(xe,{className:"w-8 h-8 animate-spin text-sky-600 mr-2"}),r.jsx("span",{className:"text-lg text-gray-700",children:"Loading expenses..."})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"relative",children:[r.jsx(Kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Search expenses...",value:i,onChange:b=>o(b.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring focus:ring-sky-200 focus:border-sky-500"})]})}),r.jsxs("div",{className:"space-y-3",children:[v.map(b=>r.jsx("div",{className:"card",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:b.title}),r.jsxs("div",{className:"muted",children:[b.currency," ",b.amount," • Job: ",b.jobNumber||"N/A"]}),r.jsxs("div",{className:"muted",children:["Supplier: ",b.supplierName||"N/A"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>u(b),className:"px-3 py-1 border rounded text-sm hover:bg-gray-50 transition",children:"View"}),r.jsxs("button",{onClick:()=>p(b),className:"px-3 py-1 border rounded text-sm hover:bg-blue-50 text-blue-600 transition flex items-center gap-1",children:[r.jsx(cn,{className:"w-3 h-3"}),"Edit"]}),r.jsxs("button",{onClick:()=>{g(b),d(null)},className:"px-3 py-1 border rounded text-sm hover:bg-red-50 text-red-600 transition flex items-center gap-1",children:[r.jsx(un,{className:"w-3 h-3"}),"Delete"]})]})]})},b.id)),v.length===0&&i&&r.jsxs("div",{className:"text-center py-8 text-gray-500",children:['No expenses found matching "',i,'"']}),v.length===0&&!i&&!t&&r.jsx("div",{className:"text-center py-8 text-gray-500",children:'No expenses available. Create your first expense by clicking "Record Expense" button.'})]}),c&&r.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-30",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-6 w-full max-w-md animate-fadein",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Expense Details"}),r.jsx("button",{onClick:()=>u(null),className:"text-gray-400 hover:text-gray-600",children:r.jsx(ae,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expense ID"}),r.jsx("div",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:c.id})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),r.jsx("div",{className:"text-sm font-medium p-2 border rounded",children:c.title})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount"}),r.jsxs("div",{className:"text-sm font-bold text-green-700 p-2 border rounded",children:[c.currency," ",c.amount]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Currency"}),r.jsx("div",{className:"text-sm p-2 border rounded",children:c.currency})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Number"}),r.jsx("div",{className:"text-sm p-2 border rounded",children:c.jobNumber||"Not assigned to a job"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier"}),r.jsx("div",{className:"text-sm p-2 border rounded",children:c.supplierName||"No supplier specified"})]})]}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsx("button",{onClick:()=>u(null),className:"px-4 py-2 rounded border shadow hover:bg-gray-100 transition",children:"Close"})})]})}),m&&r.jsx(n0,{expense:m,onClose:()=>p(null),onSave:async b=>{await s(m.id,b),p(null)}}),f&&r.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-30",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-6 w-full max-w-md animate-fadein",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-red-600",children:"Delete Expense"}),r.jsx("button",{onClick:()=>g(null),className:"text-gray-400 hover:text-gray-600",children:r.jsx(ae,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("p",{className:"text-gray-700",children:["Are you sure you want to delete expense"," ",r.jsx("strong",{children:f.title}),"? This action cannot be undone."]}),N&&r.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 text-red-600 text-sm rounded",children:[r.jsx("strong",{children:"Error:"})," ",N]})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>g(null),className:"px-4 py-2 rounded border shadow hover:bg-gray-100 transition",disabled:j,children:"Cancel"}),r.jsx("button",{onClick:async()=>{x(!0);try{await l(f.id),g(null)}catch(b){d(b instanceof Error?b.message:"Failed to delete expense")}finally{x(!1)}},disabled:j,className:"px-4 py-2 rounded bg-red-600 text-white shadow hover:bg-red-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:j?r.jsxs(r.Fragment,{children:[r.jsx(xe,{className:"w-4 h-4 animate-spin mr-2"}),"Deleting..."]}):"Delete"})]})]})})]})]})}function n0({expense:e,onClose:t,onSave:n}){const[s,l]=y.useState(e.title),[a,i]=y.useState(e.amount.toString()),[o,c]=y.useState(e.currency),[u,m]=y.useState(e.jobNumber||""),[p,f]=y.useState(e.supplierName||""),g=()=>{s.trim()&&n({title:s,amount:Number(a)||0,currency:o,jobNumber:u||void 0,supplierName:p||void 0})};return r.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-30",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-6 w-full max-w-md animate-fadein",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Edit Expense"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:r.jsx(ae,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),r.jsx("input",{value:s,onChange:j=>l(j.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring focus:ring-sky-200 focus:border-sky-500",placeholder:"Expense title",autoFocus:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount *"}),r.jsx("input",{value:a,onChange:j=>i(j.target.value),type:"number",step:"0.01",className:"w-full px-3 py-2 border rounded-lg focus:ring focus:ring-sky-200 focus:border-sky-500",placeholder:"0.00"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Currency"}),r.jsx("input",{value:o,onChange:j=>c(j.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring focus:ring-sky-200 focus:border-sky-500",placeholder:"USD"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Number"}),r.jsx("input",{value:u,onChange:j=>m(j.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring focus:ring-sky-200 focus:border-sky-500",placeholder:"Associated job number"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier Name"}),r.jsx("input",{value:p,onChange:j=>f(j.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring focus:ring-sky-200 focus:border-sky-500",placeholder:"Supplier name"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 rounded border shadow hover:bg-gray-100 transition",children:"Cancel"}),r.jsx("button",{onClick:g,className:"px-4 py-2 rounded bg-sky-600 text-white shadow hover:bg-sky-700 transition",children:"Save Changes"})]})]})})}function r0(){const{createExpense:e}=sm(),[t,n]=y.useState(!1),[s,l]=y.useState(""),[a,i]=y.useState(""),[o,c]=y.useState(""),[u,m]=y.useState(!1),[p,f]=y.useState(null),g=async()=>{if(s){m(!0),f(null);try{await e({title:s,amount:Number(a)||0,currency:"USD",jobNumber:"",supplierName:o}),l(""),i(""),c(""),n(!1)}catch(j){f(j instanceof Error?j.message:"Failed to create expense")}finally{m(!1)}}};return r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>n(!0),className:"px-3 py-2 rounded bg-sky-600 text-white text-sm shadow hover:bg-sky-700 transition",children:"Record Expense"}),t&&r.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-30",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-6 w-full max-w-md animate-fadein",children:[r.jsx("div",{className:"mb-4 text-lg font-semibold",children:"Record Expense"}),r.jsx("input",{value:s,onChange:j=>l(j.target.value),placeholder:"Title",className:"border px-2 py-1 rounded w-full mb-3 focus:ring focus:ring-sky-200",autoFocus:!0,disabled:u}),r.jsx("input",{value:a,onChange:j=>i(j.target.value),placeholder:"Amount",type:"number",step:"0.01",className:"border px-2 py-1 rounded w-full mb-3 focus:ring focus:ring-sky-200",disabled:u}),r.jsx("input",{value:o,onChange:j=>c(j.target.value),placeholder:"Supplier",className:"border px-2 py-1 rounded w-full mb-4 focus:ring focus:ring-sky-200",disabled:u}),p&&r.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-600 text-sm rounded",children:[r.jsx("strong",{children:"Error:"})," ",p]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx("button",{onClick:g,disabled:!s||u,className:"px-4 py-2 rounded bg-sky-600 text-white shadow hover:bg-sky-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:u?r.jsxs(r.Fragment,{children:[r.jsx(xe,{className:"w-4 h-4 animate-spin mr-2"}),"Creating..."]}):"Create"}),r.jsx("button",{onClick:()=>n(!1),disabled:u,className:"px-4 py-2 rounded border shadow hover:bg-gray-100 transition disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]})})]})}function s0(){const[e,t]=y.useState([]),[n,s]=y.useState(!0),[l,a]=y.useState(!1),[i,o]=y.useState(null),[c,u]=y.useState({name:"",email:"",role:"client",department:"",phone:"",isActive:!0});y.useEffect(()=>{m()},[]);const m=async()=>{try{s(!0);const d=await $.users.getAll();t(d.users)}catch(d){console.error("Failed to load users:",d)}finally{s(!1)}},p=async d=>{d.preventDefault();try{if(i){const h=await $.users.update(i.id,c);t(e.map(v=>v.id===i.id?h:v)),o(null)}else{const h=await $.users.create(c);t([h,...e])}u({name:"",email:"",role:"client",department:"",phone:"",isActive:!0}),a(!1)}catch(h){console.error("Failed to save user:",h),alert("Failed to save user. Please try again.")}},f=d=>{o(d),u({name:d.name,email:d.email,role:d.role,department:d.department||"",phone:d.phone||"",isActive:d.isActive}),a(!0)},g=async d=>{if(confirm("Are you sure you want to delete this user?"))try{await $.users.delete(d),t(e.filter(h=>h.id!==d))}catch(h){console.error("Failed to delete user:",h),alert("Failed to delete user. Please try again.")}},j=()=>{a(!1),o(null),u({name:"",email:"",role:"client",department:"",phone:"",isActive:!0})},x=d=>{switch(d){case"admin":return"bg-red-100 text-red-800";case"finance":return"bg-green-100 text-green-800";case"operations":return"bg-blue-100 text-blue-800";case"client":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},N=d=>{switch(d){case"admin":return yc;case"finance":return Ys;case"operations":return Vh;case"client":return Hi;default:return Hl}};return n?r.jsx("div",{className:"p-6 flex justify-center items-center",children:r.jsx("div",{className:"text-gray-600",children:"Loading users..."})}):r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Users Management"}),r.jsxs("button",{onClick:()=>a(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[r.jsx(em,{className:"w-4 h-4"}),"Add New User"]})]}),l&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:j}),r.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:r.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:i?"Edit User":"Add New User"}),r.jsx("button",{onClick:j,className:"text-gray-400 hover:text-gray-600",children:r.jsx(ae,{className:"w-6 h-6"})})]}),r.jsxs("form",{onSubmit:p,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{type:"text",value:c.name,onChange:d=>u({...c,name:d.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),r.jsx("input",{type:"email",value:c.email,onChange:d=>u({...c,email:d.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),r.jsxs("select",{value:c.role,onChange:d=>u({...c,role:d.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[r.jsx("option",{value:"client",children:"Client"}),r.jsx("option",{value:"operations",children:"Operations"}),r.jsx("option",{value:"finance",children:"Finance"}),r.jsx("option",{value:"admin",children:"Admin"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),r.jsx("input",{type:"text",value:c.department,onChange:d=>u({...c,department:d.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),r.jsx("input",{type:"tel",value:c.phone,onChange:d=>u({...c,phone:d.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"isActive",checked:c.isActive,onChange:d=>u({...c,isActive:d.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Active User"})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:i?"Update User":"Add User"})]})]})]})})]})}),r.jsxs("div",{className:"bg-white border rounded-lg overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hl,{className:"w-4 h-4"}),"User"]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(yc,{className:"w-4 h-4"}),"Role"]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mc,{className:"w-4 h-4"}),"Department"]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(hc,{className:"w-4 h-4"}),"Phone"]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pc,{className:"w-4 h-4"}),"Status"]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fc,{className:"w-4 h-4"}),"Created"]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(d=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:r.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:r.jsx(Hl,{className:"h-5 w-5 text-gray-600"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:d.name}),r.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[r.jsx(Zd,{className:"w-3 h-3 mr-1"}),d.email]})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${x(d.role)}`,children:[qs.createElement(N(d.role),{className:"w-3 h-3 mr-1"}),d.role]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(mc,{className:"w-4 h-4 mr-1 text-gray-400"}),d.department||"-"]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(hc,{className:"w-4 h-4 mr-1 text-gray-400"}),d.phone||"-"]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${d.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[d.isActive?r.jsx(pc,{className:"w-3 h-3 mr-1"}):r.jsx(Kh,{className:"w-3 h-3 mr-1"}),d.isActive?"Active":"Inactive"]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(fc,{className:"w-4 h-4 mr-1 text-gray-400"}),new Date(d.createdAt).toLocaleDateString()]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>f(d),className:"text-blue-600 hover:text-blue-900 flex items-center gap-1 px-2 py-1 rounded hover:bg-blue-50",children:[r.jsx(cn,{className:"w-4 h-4"}),"Edit"]}),r.jsxs("button",{onClick:()=>g(d.id),className:"text-red-600 hover:text-red-900 flex items-center gap-1 px-2 py-1 rounded hover:bg-red-50",children:[r.jsx(un,{className:"w-4 h-4"}),"Delete"]})]})})]},d.id))})]})}),e.length===0&&r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No users found. Add your first user to get started."})]})]})}function l0({onLogin:e}){const[t,n]=y.useState({email:"",password:""}),[s,l]=y.useState(!1),[a,i]=y.useState(!1),[o,c]=y.useState(""),u=async p=>{p.preventDefault(),c(""),i(!0);try{await e(t.email,t.password)||c("Invalid email or password. Please try again.")}catch{c("An error occurred. Please try again.")}finally{i(!1)}},m=p=>{const{name:f,value:g}=p.target;n(j=>({...j,[f]:g})),o&&c("")};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 to-blue-100 flex items-center justify-center p-4",children:r.jsxs("div",{className:"max-w-md w-full",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("img",{src:"/logo.jpeg",alt:"AAL Logo",className:"w-20 h-20 object-contain"})}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),r.jsx("p",{className:"text-gray-600",children:"Sign in to your AAL Invoice account"})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8",children:r.jsxs("form",{onSubmit:u,className:"space-y-6",children:[o&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[r.jsx(Qn,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),r.jsx("p",{className:"text-red-700 text-sm",children:o})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(Zd,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:t.email,onChange:m,className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",placeholder:"Enter your email"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(Wh,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{id:"password",name:"password",type:s?"text":"password",required:!0,value:t.password,onChange:m,className:"block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",placeholder:"Enter your password"}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>l(!s),children:s?r.jsx(zh,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):r.jsx($h,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-sky-600 focus:ring-sky-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]})}),r.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center items-center gap-2 py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-sky-600 hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500 disabled:opacity-50 disabled:cursor-not-allowed",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Signing in..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Hh,{className:"w-4 h-4"}),"Sign In"]})})]})}),r.jsx("div",{className:"text-center mt-8",children:r.jsx("p",{className:"text-sm text-gray-600",children:"© 2025 AAL Invoice. All rights reserved."})})]})})}function a0(){return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Client Portal (mock)"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Clients can view their jobs and invoices here (mock view)."})]})}function i0(){const{isAuthenticated:e,login:t,loading:n}=Qd();return n?r.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-sky-600 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Loading..."})]})}):e?r.jsxs(Xh,{children:[r.jsxs(wh,{children:[r.jsx(Qe,{path:"/",element:r.jsx(Dx,{})}),r.jsx(Qe,{path:"/clients",element:r.jsx(Ox,{})}),r.jsx(Qe,{path:"/jobs",element:r.jsx($x,{})}),r.jsx(Qe,{path:"/suppliers",element:r.jsx(Bx,{})}),r.jsx(Qe,{path:"/services",element:r.jsx(Jx,{})}),r.jsx(Qe,{path:"/invoices",element:r.jsx(qx,{})}),r.jsx(Qe,{path:"/expenses",element:r.jsx(t0,{})}),r.jsx(Qe,{path:"/users",element:r.jsx(s0,{})}),r.jsx(Qe,{path:"/portal/*",element:r.jsx(a0,{})}),r.jsx(Qe,{path:"*",element:r.jsx(bh,{to:"/",replace:!0})})]}),r.jsx(Sx,{})]}):r.jsx(l0,{onLogin:t})}function o0(){return r.jsx(Fh,{children:r.jsx(i0,{})})}Md(document.getElementById("root")).render(r.jsx(qs.StrictMode,{children:r.jsx(Lh,{children:r.jsx(_h,{children:r.jsx(o0,{})})})}))});export default c0();
